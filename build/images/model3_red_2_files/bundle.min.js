!function(e){function t(t){for(var r,a,c=t[0],s=t[1],l=t[2],u=0,p=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={9:0},i={9:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[];a[e]?t.push(a[e]):0!==a[e]&&{10:1,13:1,23:1,24:1,35:1}[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({1:"add-component",2:"finance~more-info-modal",3:"vendors~finance~more-info-modal",4:"vendors~more-info-modal~tabbed-content-modal",5:"action-target",6:"alert",7:"banner-modal",8:"battery-savings-modal",10:"carousel-modal",11:"common-modal",12:"country-selector-modal",13:"cyber-theme",14:"disclaimer",15:"disclaimer-modal",16:"disclaimer-special",17:"dynamic-copy",18:"dynamic-disclaimer",19:"feature-group",20:"feature-highlight",21:"featured-modal",22:"federal-tax-modal",23:"finance",24:"footer",25:"gas-savings-modal",26:"header",28:"location-modal",29:"modal",30:"more-info-modal",31:"options",32:"range-modal",33:"recommended-modal",34:"referral",35:"referral-modal",36:"root-group",37:"save-design-modal",38:"savings-toggle",39:"selected-price",40:"session-timeout-modal",42:"specs",43:"success-modal",44:"tabbed-content-modal",45:"tooltip",47:"wechat-modal"}[e]||e)+"."+{1:"923e1170a6290e95aa63",2:"fdc7d0122e53817a345b",3:"21c1828dfcc43f421db7",4:"5dc8c6b40abfd67f44b0",5:"b81672c6833c6414004a",6:"1476f403b2dde5014193",7:"b93733f447172a69538c",8:"33d84e5776c3012089fc",10:"c0879eeffd500c11ecb7",11:"14c4167dc00e70dbaf6a",12:"0779e7a871c539257ba2",13:"25068c97bbf0a073f89b",14:"8f6005d64f89b217791d",15:"44433bba6b81071d90e8",16:"80212e3c8201d8080c61",17:"182f4a11544574427d2b",18:"3b9174800b5158794ee2",19:"e16d1d2e7b5ba4ab52c1",20:"237e4aa5c875fdda4973",21:"73defed1bbdcd8ee9f90",22:"d9e7573e7b60be0bfe07",23:"b6af25a2a3daf5391768",24:"6be86a7876280ffaf31c",25:"a7517434e03dc29916fb",26:"84375aef9267d698e463",28:"3f0ace00438660a09209",29:"4b6a0363990fc079d36c",30:"74f570c122f2b1128032",31:"f718d801e1d4b4e43158",32:"75f95f94a1409bc45770",33:"a54775c036639f4d2ba7",34:"269a96d75455965833d9",35:"f0a808e601ad3c5288ab",36:"a62fb67870a6a6d07c52",37:"b3ef118e7782c48b06b1",38:"c2bc9be2a0f3e07011a8",39:"e7a2f2eb4c9ec3a6340c",40:"a3e9f9cdead5708d087d",42:"1560aede2a2b8173d543",43:"94828c22dab10a335deb",44:"75c32b60e447666fceb5",45:"a24d8cf5392382a3a5c6",47:"b4855577ecedc43e04e7",48:"9809384cce057dc3ea1f"}[e]+".min.css",i=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=(d=o[s]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===r||l===i))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){var d;if((l=(d=u[s]).getAttribute("data-href"))===r||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],p.parentNode.removeChild(p),n(o)},p.href=i,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){a[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=function(e){return c.p+"js/"+({1:"add-component",2:"finance~more-info-modal",3:"vendors~finance~more-info-modal",4:"vendors~more-info-modal~tabbed-content-modal",5:"action-target",6:"alert",7:"banner-modal",8:"battery-savings-modal",10:"carousel-modal",11:"common-modal",12:"country-selector-modal",13:"cyber-theme",14:"disclaimer",15:"disclaimer-modal",16:"disclaimer-special",17:"dynamic-copy",18:"dynamic-disclaimer",19:"feature-group",20:"feature-highlight",21:"featured-modal",22:"federal-tax-modal",23:"finance",24:"footer",25:"gas-savings-modal",26:"header",28:"location-modal",29:"modal",30:"more-info-modal",31:"options",32:"range-modal",33:"recommended-modal",34:"referral",35:"referral-modal",36:"root-group",37:"save-design-modal",38:"savings-toggle",39:"selected-price",40:"session-timeout-modal",42:"specs",43:"success-modal",44:"tabbed-content-modal",45:"tooltip",47:"wechat-modal"}[e]||e)+"."+{1:"923e1170a6290e95aa63",2:"fdc7d0122e53817a345b",3:"21c1828dfcc43f421db7",4:"5dc8c6b40abfd67f44b0",5:"b81672c6833c6414004a",6:"1476f403b2dde5014193",7:"b93733f447172a69538c",8:"33d84e5776c3012089fc",10:"c0879eeffd500c11ecb7",11:"14c4167dc00e70dbaf6a",12:"0779e7a871c539257ba2",13:"25068c97bbf0a073f89b",14:"8f6005d64f89b217791d",15:"44433bba6b81071d90e8",16:"80212e3c8201d8080c61",17:"182f4a11544574427d2b",18:"3b9174800b5158794ee2",19:"e16d1d2e7b5ba4ab52c1",20:"237e4aa5c875fdda4973",21:"73defed1bbdcd8ee9f90",22:"d9e7573e7b60be0bfe07",23:"b6af25a2a3daf5391768",24:"6be86a7876280ffaf31c",25:"a7517434e03dc29916fb",26:"84375aef9267d698e463",28:"3f0ace00438660a09209",29:"4b6a0363990fc079d36c",30:"74f570c122f2b1128032",31:"f718d801e1d4b4e43158",32:"75f95f94a1409bc45770",33:"a54775c036639f4d2ba7",34:"269a96d75455965833d9",35:"f0a808e601ad3c5288ab",36:"a62fb67870a6a6d07c52",37:"b3ef118e7782c48b06b1",38:"c2bc9be2a0f3e07011a8",39:"e7a2f2eb4c9ec3a6340c",40:"a3e9f9cdead5708d087d",42:"1560aede2a2b8173d543",43:"94828c22dab10a335deb",44:"75c32b60e447666fceb5",45:"a24d8cf5392382a3a5c6",47:"b4855577ecedc43e04e7",48:"9809384cce057dc3ea1f"}[e]+".min.js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}i[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;o.push([945,0]),n()}({110:function(e,t,n){var r=n(33),a=n(1794),i=n(300),o=Math.max,c=Math.min;e.exports=function(e,t,n){var s,l,u,d,p,m,f=0,y=!1,b=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=s,r=l;return s=l=void 0,f=t,d=e.apply(r,n)}function h(e){return f=e,p=setTimeout(P,t),y?g(e):d}function O(e){var n=e-m;return void 0===m||n>=t||n<0||b&&e-f>=u}function P(){var e=a();if(O(e))return _(e);p=setTimeout(P,function(e){var n=t-(e-m);return b?c(n,u-(e-f)):n}(e))}function _(e){return p=void 0,v&&s?g(e):(s=l=void 0,d)}function w(){var e=a(),n=O(e);if(s=arguments,l=this,m=e,n){if(void 0===p)return h(m);if(b)return clearTimeout(p),p=setTimeout(P,t),g(m)}return void 0===p&&(p=setTimeout(P,t)),d}return t=i(t)||0,r(n)&&(y=!!n.leading,u=(b="maxWait"in n)?o(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,s=m=l=p=void 0},w.flush=function(){return void 0===p?d:_(a())},w}},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVatNumberFormat=t.getVatNumberRegex=t.isValidEUVatNumber=t.isvalidVatNumber=void 0;var r={AT:{business:{example:"ATU12345678",format:/^ATU\d{8}$|^AT U\d{8}$|^\d{2}\s\d{3}\/\d{4}$|^EU/}},BE:{business:{example:"BE1234567890",format:/^BE\d{10}$|^BE\s0\d{9}$|^EU/}},BG:{business:{example:"BG1234567890",format:/^BG\d{9,10}$/}},CH:{business:{example:"CH123 123",format:/^(CH)?\d{3}(\s)?\d{3}$|^CHE-?\d{3}\.?\d{3}\.?\d{3}(\s)?(((HR\/?)?MWST)|((RC\/?)?(TVA|IVA)))?$/}},CN:{business:{example:"1234567890",format:/^\w{8,30}$/}},CY:{business:{example:"CY12345678901",format:/^CY\d{11}$/}},CZ:{business:{example:"CZ1234567890",format:/^CZ\d{8,10}$/}},DE:{business:{example:"DE123456789",format:/^DE\d{9}$|^\d{11}$|^EU/}},DK:{business:{example:"DK12345678",format:/^(DK)?\d{8}$|^EU/}},EE:{business:{example:"EE123456789",format:/^EE\d{9}$/}},EL:{business:{example:"EL123456789",format:/^EL\d{9}$/}},ES:{business:{example:"ESA1234567A",format:/^(ES)?[A-Z0-9]\d{7}[A-Z0-9]$|^EU/},private:{example:"ESA1234567A",format:/^(ES)?[A-Z0-9]\d{7}[A-Z0-9]$|^EU/}},FI:{business:{example:"FI12345678",format:/^FI\d{8}$|^EU/}},FR:{business:{example:"FRAA123456789",format:/^FR[A-Z0-9]{2}\d{9}$|^EU/}},GB:{business:{example:"GB123456789",format:/^GB\d{9}$|^GB\d{12}$|^GB[A-Z]{2}\d{3}$|^EU/}},GR:{business:{example:"EL123456789",format:/^EL\d{9}$/}},HR:{business:{example:"12345678901",format:/^\d{11}$/},private:{example:"12345678901",format:/^\d{11}$/}},HU:{business:{example:"HU12345678",format:/^HU\d{8}$/}},IE:{business:{example:"IE1234567A",format:/^IE\d{7}[A-Z]{1,2}$|^IE\d[A-Z]\d{5}[A-Z]$|^IE\d\W\d{5}[A-Z]$|^EU/}},IL:{business:{example:"512345678",format:/^5[\d]{8}$/}},IN:{business:{example:"22AAAAA0000A1Z5",format:/^([0-2][0-9]|[3][0-8])[A-Z]{3}[ABCFGHLJPTK][A-Z]\d{4}[A-Z][A-Z0-9][Z][A-Z0-9]$/}},IS:{business:{example:"4504013150",format:/^\d{10}$/},private:{example:"1201743399",format:/^\d{10}$/}},IT:{business:{example:"IT12345678901",format:/^(IT)?\d{11}$|^EU/},private:{example:"BRDBRT83L19F205T",format:/^[A-Z0-9]{16}$/}},LT:{business:{example:"LT123456789012",format:/^LT\d{9,12}$/}},LU:{business:{example:"LU12345678",format:/^LU\d{8}$|^EU/}},LV:{business:{example:"LV12345678901",format:/^LV\d{11}$/}},MT:{business:{example:"MT12345678",format:/^MT\d{8}$/}},NL:{business:{example:"NL123456789B12",format:/^NL\d{9}B\d{2}$|^EU/}},NO:{business:{example:"NO 123 123 123 MVA",format:/^(NO)?\s?\d{3}\s?\d{3}\s?\d{3}\s?MVA$/}},PL:{business:{example:"PL1234567890",format:/^PL\d{10}$/}},PT:{business:{example:"PT123456789",format:/^PT\d{9}$|^EU/},private:{example:"PT123456789",format:/^PT\d{9}$|^EU/}},RO:{business:{example:"RO1234567890",format:/^RO\d{10}$/}},SE:{business:{example:"SE123456789012",format:/^SE\d{12}$|^EU/}},SG:{business:{example:"201010405N",format:/^[A-Z0-9]{8,9}[A-Z]$/}},SI:{business:{example:"SI12345678",format:/^SI\d{8}$/}},SK:{business:{example:"SK1234567890",format:/^SK\d{10}$/}}};function a(e,t){if(null==e||null==t)return null;var n=r[e];if(null==n)return console.warn("cannot validate vat number",{countryCode:e}),null;var a=n[t];return null==a?(console.warn("cannot validate vat number",{countryCode:e,type:t}),null):a}t.isvalidVatNumber=function(e,t,n){var r=a(e,n);return null==r||null!=t&&Boolean(r.format.exec(t))};t.isValidEUVatNumber=function(e,n){for(var a=Object.keys(r).filter((function(e){return-1!==["AT","BE","BG","CH","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"].indexOf(e)})),i=0;i<a.length;i+=1)if(t.isvalidVatNumber(a[i],e,n))return!0;return!1};t.getVatNumberRegex=function(e,t){var n=a(e,t);return null==n?/^\w*$/:n.format};t.getVatNumberFormat=function(e,t){var n=a(e,t);return null==n?null:n.example}},1223:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},1224:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,a,o=[];for(a in"string"!=typeof t&&(t="?"),e)if(r.call(e,a)){if((n=e[a])||null!=n&&!isNaN(n)||(n=""),a=i(a),n=i(n),null===a||null===n)continue;o.push(a+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=a(t[1]),o=a(t[2]);null===i||null===o||i in r||(r[i]=o)}return r}},156:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(1),s=n.n(c),l=n(13),u=n(86),d=n(6),p=n.n(d),m=n(8),f=function(e){var t=e.loading,n=void 0!==t&&t,r=e.classes;return n?a.a.createElement("div",{className:"tds-spinner tds-spinner--fade_in ".concat(r)}):null};f.propTypes={loading:o.a.bool.isRequired,classes:o.a.string},f.defaultProps={classes:""};var y=f,b=n(138),v=n.n(b);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return Math.round(100*e)/100}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(o,e);var t,n,r,i=_(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),j(E(t=i.call(this,e)),"mediaType",null),j(E(t),"shouldLoop",!1),j(E(t),"maxLoops",null),j(E(t),"stopTime",null),j(E(t),"currentLoopCount",0),j(E(t),"paused",!1),j(E(t),"autoPlay",!0),j(E(t),"showControls",!1),j(E(t),"title","");var n=e.type,r=e.loop,c=void 0!==r&&r,s=e.autoPlay,l=e.stopTime,u=e.title,d=e.id,p=e.playsInline;return t.mediaType=n,t.shouldLoop=c,t.autoPlay=s,t.stopTime=l||null,t.title=u,t.id=d,t.playsInline=p,v()(c)&&(t.maxLoops=c,t.shouldLoop=c>1),t.mediaRef=a.a.createRef(),t}return t=o,(n=[{key:"componentDidMount",value:function(){null===this.stopTime&&null===this.maxLoops||(this.mediaRef.current.addEventListener("timeupdate",this.onTimeUpdate.bind(this)),this.mediaRef.current.addEventListener("ended",this.onEnd.bind(this)))}},{key:"componentDidUpdate",value:function(){var e=this.mediaRef.current;this.props.playVideo?e.play():e.pause()}},{key:"onTimeUpdate",value:function(){if(this.stopTime){var e=this.mediaRef.current,t=!1;this.shouldLoop&&this.currentLoopCount>this.maxLoops?t=C(e.currentTime)>this.stopTime:this.shouldLoop||(t=C(e.currentTime)>this.stopTime),t&&e.pause()}}},{key:"onEnd",value:function(){var e=this.mediaRef.current;this.shouldLoop&&this.currentLoopCount<=this.maxLoops&&(this.currentLoopCount++,e.play())}},{key:"getElement",value:function(e){switch(this.mediaType){case"video":return a.a.createElement("video",h({ref:this.mediaRef},e));case"audio":return a.a.createElement("audio",h({ref:this.mediaRef},e))}return null}},{key:"getAttr",value:function(e){return{src:e.src,muted:e.muted,controls:this.showControls,autoPlay:this.autoPlay,ref:this.mediaRef,title:this.title,id:this.id,playsInline:this.playsInline,loop:e.loop&&"boolean"==typeof e.loop}}},{key:"render",value:function(){var e=this.getAttr(this.props);return this.getElement(e)}}])&&O(t.prototype,n),r&&O(t,r),o}(r.Component);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var a=M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}T.defaultProps={type:"video",loop:!1,muted:!0,autoPlay:!1,stopTime:null,showControls:!1,title:"",id:"",playsInline:null},T.propTypes={src:o.a.string.isRequired,type:o.a.oneOf(["video","audio"]),loop:o.a.oneOfType([o.a.bool,o.a.number]),muted:o.a.bool,autoPlay:o.a.bool,stopTime:o.a.number,showControls:o.a.bool,title:o.a.string,id:o.a.string,playsInline:o.a.bool};var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(o,e);var t,n,r,i=I(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),V(k(t=i.call(this,e)),"onFinishLoad",(function(){t.setState({loading:!1})})),t.loadImage=t.loadImage.bind(k(t)),t.state={loading:!0,naturalHeight:null,naturalWidth:null,proportionalHeight:null},t.clicked=t.clicked.bind(k(t)),t.onResize=t.onResize.bind(k(t)),t.onFinishLoad=t.onFinishLoad.bind(k(t)),t}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props.asset;e.url&&(this.setState({loading:!0}),this.loadImage(e),window.addEventListener("resize",this.onResize,!1),window.addEventListener("scroll",this.onResize,!1))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.asset,r=t.isLayoutTablet,a=t.isLayoutMobile;e.asset.url!==n.url&&(this.setState({loading:!0}),this.loadImage(e.asset)),e.isLayoutTablet!==r&&this.onResize(),e.isLayoutMobile!==a&&this.onResize(),e.asset.ratio!==n.ratio&&"slice"===e.asset.ratio&&this.setState({proportionalHeight:null})}},{key:"onResize",value:function(){var e=this.props.asset.ratio,t=void 0===e?"meet":e,n=this.state,r=n.naturalHeight,a=n.naturalWidth;if(r&&"meet"===t&&this.refs.main_container){var i=this.refs.main_container.getBoundingClientRect().width*r/a;this.refs.main_container.style.height!==i&&this.setState({proportionalHeight:i})}}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.props,r=n.asset,a=n.baseURL,i=t||r,o=i.relative,c=void 0!==o&&o,l=i.url,u=function(e){var t=e.path,n=e.query,r=n.includes("?")?n.replace("?",""):n;return r=r.charAt(0).includes("&")?r:"&".concat(r),t.includes("?")?"".concat(t).concat(r):"".concat(t,"?").concat(r)},d=c?l:"".concat(a).concat(l),p=(s()(window,"tesla.version")||"").replace(/\./g,""),m=u({path:d,query:"version=".concat(p)}),f=new Image;f.src=m,f.addEventListener("load",(function(){e.refs.main_container&&e.setState({naturalHeight:f.naturalHeight,naturalWidth:f.naturalWidth,loading:!1}),e.onResize()}),!1)}},{key:"clicked",value:function(){var e=this.props,t=e.asset,n=e.onAction,r=e.onClick;n(t.action,t),r()}},{key:"render",value:function(){var e=this,t=this.props,n=t.asset,r=t.baseURL,i=t.className,o=t.onClick,c=t.compositor,l=t.shape,d=t.selected,m=t.disabled,f=void 0!==m&&m,b=t.isLayoutMobile,v=t.model_key,g=t.title,h=t.optionName,O=void 0===h?"":h,P=t.label,_=t.videoUrl,w=t.playVideo,E=n.type,S=n.url,j=n.urlDesktop,C=n.yOffset,A=n.xOffset,R=n.view,N=n.zoom,x=void 0===N?1:N,I=n.query,F=n.relative,k=void 0!==F&&F,M=n.bkba,B=n.src,G=n.width,U=n.height,W=n.ratio,Y=void 0===W?"meet":W,z=n.action,H=n.image_props,K=n.video_props,X=n.badgeClass,$=n.loader,Z=n.crop,Q=void 0===Z?[0,0,0,0]:Z,J=this.state,ee=J.loading,te=J.proportionalHeight,ne=function(e){var t=e.path,n=e.query,r=n.includes("?")?n.replace("?",""):n;return r=r.charAt(0).includes("&")?r:"&".concat(r),t.includes("?")?"".concat(t).concat(r):"".concat(t,"?").concat(r)},re=k?S:"".concat(r).concat(S),ae=(s()(window,"tesla.version")||"").replace(/\./g,""),ie=ne({path:re,query:"version=".concat(ae)})||"",oe=L(L({overflow:"hidden"},ee?{opacity:0,transform:"scale(".concat(x,")")}:{opacity:!d&&f?.5:1,transform:"scale(".concat(x,")")}),te?{height:"".concat(te,"px")}:{}),ce=this._reactInternalFiber.return.key,se=(ie+ce).replace(/[^a-zA-Z0-9\-_:\.]/gi,"_");switch(E){case"image":return a.a.createElement("svg",D({version:"1.1",xmlns:"http://www.w3.org/2000/svg",ref:"main_container",className:p()("asset-loader--svg-container","asset-loader-2",V({},i,i),{shadow:"circular"===l&&!d},{selected:d}),onClick:this.clicked},L({style:oe},z&&z.reduce((function(t,n){switch(n.type){case"PLAY_VIDEO":return Object.assign(t,{cursor:"pointer",onMouseOver:function(){e.refs.main_container.style.backgroundColor="black",e.refs.main_image.style.opacity=.6},onMouseOut:function(){e.refs.main_image.style.opacity=1}});default:return t}}),{}))),a.a.createElement("defs",null,"circular"===l&&a.a.createElement("clipPath",{id:"clip_".concat(se)},a.a.createElement(u.Motion,{defaultStyle:{r:10},style:{r:Object(u.spring)(24*(1-ee),{precision:1e-6,stiffness:120,damping:17})}},(function(e){return a.a.createElement("circle",{cx:"50%",cy:"50%",r:e.r<0?0:e.r,fill:"#FFFFFF",stroke:"#3E6AE1",strokeWidth:"0"})}))),"circular"===l&&a.a.createElement("filter",{id:"filter_".concat(se),height:"200%"},a.a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"1"}),a.a.createElement("feComponentTransfer",null,a.a.createElement("feFuncA",{type:"linear",slope:"0.3"})),a.a.createElement(u.Motion,{defaultStyle:{dx:0,dy:0},style:{dx:Object(u.spring)(1.3*(1-ee),{precision:1e-6}),dy:Object(u.spring)(1.5*(1-ee),{precision:1e-6})}},(function(e){return a.a.createElement("feOffset",{dx:e.dx,dy:e.dy,result:"offsetblur"})})),a.a.createElement("feMerge",null,a.a.createElement("feMergeNode",null),a.a.createElement("feMergeNode",{in:"SourceGraphic"})))),a.a.createElement("image",L(L(L(L({width:"100%",height:"100%",xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:ie,ref:"main_image",preserveAspectRatio:"meet"===Y?"xMidYMid meet":"xMidYMid slice",alt:O},"circular"===l?{clipPath:"url(#clip_".concat(ie+ce,")"),width:"40px",height:"40px",x:"7px",y:"7px"}:{}),H),A?{x:A}:{}),C?{y:C}:{})),!!z&&z.map((function(e,t){return"PLAY_VIDEO"===e.type&&a.a.createElement("svg",{width:"25%",height:"25%",x:"38%",y:"38%",xmlnsXlink:"http://www.w3.org/1999/xlink",clipPath:"url(#clip_".concat(ie+ce,")"),preserveAspectRatio:"xMidYMid meet",ref:"play_button",viewBox:"0 0 50 50",key:"".concat(ie,"_asset:").concat(t),alt:O},a.a.createElement("g",{id:"Page-1_1_",fill:"white"},a.a.createElement("path",{id:"Fill-2",d:"M25,0C11.2,0,0,11.2,0,25s11.2,25,25,25s25-11.2,25-25S38.8,0,25,0 M25,2.5 c12.4,0,22.5,10.1,22.5,22.5S37.4,47.5,25,47.5S2.5,37.4,2.5,25S12.6,2.5,25,2.5"}),a.a.createElement("polygon",{id:"Path-2",points:"20,15 35,25 20,35"})))})),!!z&&z.map((function(e,t){return"ZOOM_IMAGE"===e.type&&a.a.createElement("text",{key:"".concat(ie,"_icon:").concat(t),x:"85%",y:"90%",className:"tsla-icon-zoom-img",fontSize:"200%",stroke:"black",strokeWidth:"0",fill:"white",cursor:"pointer"},"")})));case"video":return a.a.createElement("div",{className:p()("asset-loader-2",V({},i,i)),onClick:this.clicked,style:this.props.style,role:"presentation"},a.a.createElement("iframe",{title:"assetLoaderV2",src:B,width:G,height:U,frameBorder:"0",allowFullScreen:!0}));case"video-inline":var le=b?S:j,ue=k?le:"".concat(r).concat(le),de=_||ue;return a.a.createElement("div",{className:"asset-loader-2-video-inline",role:"presentation"},a.a.createElement(T,D({},K,{type:"video","data-src":S,"data-src-desktop":j,src:de,title:g,playVideo:w,id:"video-id-".concat(g)})));case"image-compositor":var pe=I?ne({path:s()(c,"compositor_url",""),query:I}):s()(c,"views.".concat(R,".url"),"");return pe=M?ne({path:pe,query:"bkba_opt=".concat(M)}):pe,pe=ne({path:pe,query:"version=".concat(ae)}),pe=ne({path:pe,query:"crop=".concat(Q.toString())}),$?a.a.createElement("div",{className:p()({"asset-zoom-wrap":x},i,"asset-compositor")},a.a.createElement(y,{loading:ee,classes:"assets-loader"}),a.a.createElement("img",{ref:"asset_element",onClick:o,className:p()("asset-compositor--image",{loading:ee}),key:"asset-compositor--image_".concat(v),src:pe,style:{transform:"scale(".concat(x,")")},onLoad:this.onFinishLoad,alt:P,"aria-label":P,role:"presentation"})):a.a.createElement(q,{relative:!0,className:i,asset:L(L({},n),{},{type:"image",url:pe,relative:!0,zoom:x})});case"badge":return a.a.createElement("div",{className:"battery-badge option-set--badge"},a.a.createElement("span",{className:"battery-badge--img battery-badge--".concat(X)},X));default:return a.a.createElement("p",{className:"No asset type found"})}}}])&&N(t.prototype,n),r&&N(t,r),o}(r.Component);B.propTypes={key:i.string,openModal:i.func,spanClassName:i.string,className:i.string,baseURL:i.string.isRequired,method:i.string,asset:Object(i.shape)({type:Object(i.oneOf)(["image-sprite","image","image-gallery","battery-badge","image-overlay","image-compositor","option-badge","video","video-inline","badge"]),url:i.string,yOffset:i.number,xOffset:i.number,view:i.string,ratio:i.string,relative:i.bool,action:i.string,urlDesktop:i.string,zoom:i.number,query:i.string,bkba:i.number,src:i.string,width:i.number,height:i.number,image_props:Object(i.shape)({}),video_props:Object(i.shape)({}),badgeClass:i.string,loader:i.bool,crop:Object(i.arrayOf)(i.number)}),onClick:i.func,onLoad:i.func,sliderIndex:i.number,isLayoutTablet:i.bool,isLayoutMobile:i.bool,onAction:i.func,compositor:Object(i.shape)({}),shape:i.string,selected:i.bool,disabled:i.bool,model_key:i.string,title:i.string,optionName:i.string,label:i.string,videoUrl:i.string,style:i.string,playVideo:i.bool},B.defaultProps={spanClassName:"",method:"",className:"",asset:{type:"image",url:"",assets:[],yOffset:0,xOffset:0,ratio:"",crop:[0,0,0,0]},onClick:function(){},sliderIndex:0,onLoad:function(){},isLayoutTablet:!1,isLayoutMobile:!1,onAction:function(){},key:"",openModal:function(){},compositor:{},shape:"",selected:!1,disabled:!1,model_key:"",title:"",optionName:"",label:"",videoUrl:"",style:"",playVideo:!0},B.contextTypes={i18n:i.func};var q=Object(l.connect)((function(e){return{isLayoutTablet:e.App.isLayoutTablet,isLayoutMobile:e.App.isLayoutMobile,baseURL:e.Assets.baseURL,compositor:e.Compositor}}),(function(e){return{openModal:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t,n){return e(openModal(t,n))})),onAction:function(t,n){t&&e(Object(m.triggerLoaderAction)(t,n))}}}))(B);t.default=q},170:function(e,t,n){"use strict";n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return A})),n.d(t,"f",(function(){return D})),n.d(t,"c",(function(){return R})),n.d(t,"h",(function(){return L})),n.d(t,"a",(function(){return N})),n.d(t,"i",(function(){return x})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return F})),n.d(t,"g",(function(){return M})),n.d(t,"l",(function(){return B})),n.d(t,"b",(function(){return q})),n.d(t,"p",(function(){return G})),n.d(t,"o",(function(){return U}));var r=n(58),a=n.n(r),i=n(1),o=n.n(i),c=n(37),s=n.n(c),l=n(17),u=n.n(l),d=n(172),p=n(4),m=n(153),f=n(23),y=n(41),b=n(56),v=n.n(b),g=n(8),h=n(2),O=n(9);function P(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){P(i,r,a,o,c,"next",e)}function c(e){P(i,r,a,o,c,"throw",e)}o(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){return function(e,t){var n=t(),r=o()(n,"App.version",null),a=o()(n,"ApplicationFlow.referral",{}),i=o()(n,"App.sibling"),c=o()(n,"App.uiLocale");e({type:h.dd}),u()(a)||Object(p.a)(h.gd,a,{expires:9e5,version:r}),window.location=Object(p.e)(h.eb,i,c)}},C=function(){return{type:h.Se}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:h.xe,session:e||!1}},A=function(){return{type:h.U}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:h.ye,session:e||!1}},R=function(e,t){return{type:h.De,isComplete:e,transactionNumber:t}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:h.Ze,session:e||!1}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:h.w,session:e||!1}},x=function(){var e={genericWrapper:!0,header:{display:!1},size:h.qd};return Object(g.openModal)("BatterySavingsModal",e)},I=function(){var e={genericWrapper:!0,header:{display:!1},size:h.qd};return Object(g.openModal)("WechatPayModal",e)};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(g.openModal)("SuccessModal",{context:"survey",surveyComplete:!1,error:E({title:Object(p.L)("Survey.errors__surveySaveErrorTitle"),message:Object(p.L)("Survey.errors__surveySaveErrorMessage")},e)})}function k(){return function(e,t){var n=t();e({type:h.dd});var r=o()(window.tesla,"env.findMyTesla.drupalEndPoint.dashboard"),a=o()(window.tesla,"sibling"),i="".concat(o()(n,"OMS.lexicon.language",""),"_").concat(o()(n,"OMS.lexicon.market")),c=o()(n,"Configuration.rn",null),s=Object(p.e)(r,a,i);window.location="".concat(s,"?rn=").concat(c,"&redirect=no")}}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,n){var r=n();t({type:h.dd});var a=o()(r,"App.locale","en_US"),i=o()(r,"Configuration.rn",null),c=o()(r,"Payment.PaymentDetail.PaymentType"),s=o()(r,"Payment.PaymentDetail.BillingInfoDetail.PickupLocation"),l=r.App,d=l.useIntentPage,p=l.useConfirmationPage,m=r.Configuration.model_code;if(f.a.transaction(r),d||p)if(e||c===h.he)window.location=c===h.he?Object(y.localizeUrl)("/configurator/order/alipay/".concat(i,"?model=").concat(m,"&trtId=").concat(s),{base_url:"",locale:"",delimiter:"_"}):e;else{var b=a,v=h.td[m],g="/".concat(v,"/delivery-intent/").concat(i),P=o()(r,"App.isBurstMode",!1);if((p||P)&&!Object(O.lb)(r)){var _=u()(i)?"RN":i;g="/".concat(v,"/confirmation/").concat(_)}"en_US"!==a&&"zh_CN"!==a||(b=""),window.location=Object(y.localizeUrl)(g,{base_url:"",locale:b,delimiter:"_"})}else setTimeout((function(){t(k())}),200)}}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;e({type:h.cd}),Object(O.lb)()||e(Object(m.d)("")),e(Object(g.clearRedirectDetails)()),t&&e({type:h.Ae,error:{code:t}})}var B=function(){return function(e){e({type:"NOOP"})}};function q(e){return function(t,n){var r=n();Object(O.ib)(r)||Object(O.lb)(r)||a.a.post("/configurator/api/v1/sesscheck").set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end((function(n,r){if(n)console.warn("Error on sesscheck: ".concat(n));else{var a=o()(r,"body.csrf_key",""),i=o()(r,"body.csrf_token","");window.tesla.csrf_key=a,window.tesla.csrf_token=i,t((c=a,l=i,{type:h.if,key:c,token:l})),s()(e)&&e()}var c,l}))}}var G=function(e){var t=e.rules,n=void 0===t?[]:t;return function(e,t){var r=t().Configuration.option_codes,a=void 0===r?[]:r;n.map((function(t){var n=t.selected_by,r=void 0===n?{}:n,i=t.option,o=void 0===i?{}:i;Object(p.Q)(r,a)&&e(Object(g.setOptionExtended)(o))}))}},U=function(e,t){return e.filter((function(e){return[h.xe,h.ye,h.Ze,h.Ce,h.Ee,h.w,h.Ae,h.Dd,h.Ed,h.f,h.jf,h.q,h.Ne,h.Ag,h.U,h.Se,h.Df,h.Cf,h.zf,h.wf,h.sf,h.De,h.wc,h.xf,h.tf,h.ig,h.hg,h.n,h.gg,h.yf,h.og,h.J].includes(e.type)})).map((function(e){var n,r,a=t.getState(),i=o()(a,"OMS.oms_params.model");switch(e.type){case h.xe:return t.dispatch(Object(g.removeAlert)({message:Object(p.L)("common.errors__genericOrderProcessing")})),n=e.session||!1,Object(g.postMktConfigWithPayment)(n);case h.U:return Object(g.postCreateEnergyLead)();case h.Df:return f.a.fireTagEvent({event:"configurator",interaction:e.interaction,"cfg-type":i}),Object(g.openModal)(h.q,{genericWrapper:!0,size:h.sd});case h.Cf:return Object(g.openModal)(h.Ne,{genericWrapper:!0,size:h.sd});case h.tf:return Object(g.openModal)(h.o,{genericWrapper:!0,size:h.sd});case h.zf:case h.sf:return Object(g.openModal)(h.Oe,{genericWrapper:!0,size:h.sd,props:o()(e,"props",{})});case h.wf:return Object(g.openModal)(h.Gb,{genericWrapper:!0,size:h.md,props:o()(e,"props",{})});case h.ye:return t.dispatch(Object(g.removeAlert)({message:Object(p.L)("common.errors__genericOrderProcessing")})),t.dispatch(Object(g.removeAlert)({message:Object(p.L)("common.errors__checkYourAccount")})),n=e.session||!1,Object(g.postOrderWithPayment)(n);case h.Ze:return t.dispatch(Object(g.removeAlert)({message:Object(p.L)("common.errors__genericOrderProcessing")})),n=e.session||!1,Object(g.postMktConfig)(n);case h.gg:return Object(g.setOptionExtended)(E(E({},o()(e,"option",{})),{},{interaction:e.interaction,panelName:e.panelName}));case h.og:return G(e);case h.Ce:var c=o()(e,"response.body.referenceNumber",""),s=o()(a,"Payment.PaymentDetail.PaymentType");if((Object(d.isRN)(c)||c.match(/^EO\d{6,}$/))&&(t.dispatch(Object(m.d)(c)),a.Payment.PaymentDetail.RedirectPaymentName)){var l=o()(e,"response.body.token"),y=o()(e,"response.body.returnUrl");return null!=l?Object(g.setRedirectDetails)({token:l,returnUrl:y}):Object(g.addAlert)({message:Object(p.L)("common.errors__genericOrderProcessing")})}var b=o()(e,"response.body.redirectUrl"),O=o()(e,"response.body.connectArgs");if(O)return function(e,t){return{type:h.Ke,args:e,url:t}}(O,b);if(s===h.oe)if(a.App.isWeChatBrowserEnv){var P=function(){var n=_(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.ab)(e.response.body.wechat);case 3:t.dispatch({type:h.cd}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert("支付失败");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",P,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",P),document.attachEvent("onWeixinJSBridgeReady",P)):P()}else{var w=o()(e,"response.body.wechat.redirectUrl","");if(w){if(o()(e,"response.body.wechat.isMobile")){var S=o()(a,"App.sibling"),C=a.App.useConfirmationPage,T=a.Configuration.model_code,A=h.td[T],D="".concat(A,"/delivery-intent/").concat(c);if(C){var R=u()(c)?"RN":c;D="".concat(A,"/confirmation/").concat(R)}return D="".concat(S,"/").concat(D),M(w+="&redirect_url=".concat(encodeURIComponent(D)))}return t.dispatch({type:h.cd}),t.dispatch(Object(g.updateWechat)("/wechat/qrcode?data=".concat(w))),Object(g.updatePaymentInteractionRequired)(!0)}}return M(b);case h.De:return function(e){return function(){var t=_(regeneratorRuntime.mark((function t(n,r){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),e.transactionNumber?e.isComplete?n(M()):("UNKNOWN_ERROR",i=o()(a,"App.isPayXUIEnabled",!1),Object(p.X)(i,"UNKNOWN_ERROR"),V(n,"UNKNOWN_ERROR")):e.isComplete?n(M()):V(n);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e);case h.Ee:return k();case h.w:return t.dispatch(Object(g.cancelEditOrder)(!1)),k();case h.Ae:if(e.error.code===h.Zd)return{type:h.Zd};if(e.error.code===h.Zb)return{type:h.Zb,field:e.error.field};var L=o()(a,"App.isPayXUIEnabled",!1);return Object(p.X)(L,e.error.code),e.error.code===h.Ab?Object(g.addAlert)({message:Object(p.L)("common.errors__checkYourAccount")}):e.error.code===h.Rc?Object(g.addAlert)({message:Object(p.L)("common.errors__configExpired",{TRIGGER:h.J}),withTrigger:!0}):Object(g.addAlert)({message:Object(p.L)("common.errors__genericOrderProcessing")});case h.Ed:case h.Dd:return e.key===h.Cd?M():a.App.closeOpenModalsOnNavigation&&o()(a,"Modal.open",!1)?Object(g.closeAllModals)():{type:h.Bd};case h.jf:if(e.error.code===h.Q)return Object(g.openModal)(h.kf,{className:"session-time-out--container",genericWrapper:!1,size:h.jd});break;case h.q:return Object(g.openModal)(h.q,{genericWrapper:!1,size:h.md});case h.Se:return j();case h.wc:return r=o()(e,"location",{}),function(){document.cookie="ip_info=".concat(JSON.stringify(r),"; expires=0; path=/")};case h.Ne:return Object(g.openModal)(h.Ne,{genericWrapper:!1,size:h.md});case h.xf:return f.a.fireTagEvent({event:"configurator","cfg-type":"financing",interaction:"cost-comparison"}),Object(g.openModal)(h.dc,{genericWrapper:!0,form:h.ic,message:"financeSelector",header:{display:!0,logo:!1,close:!0},size:h.ld});case h.yf:return Object(g.openModal)(h.dc,{analyticsPrefix:e.analyticsPrefix,genericWrapper:!0,form:h.gc,selectedTab:"incentives",size:h.ld});case h.ig:return Object(g.openModal)(h.tg,{className:"session-time-out--container",genericWrapper:!0,size:h.qd,type:h.pd,header:{display:!0,close:!1,logo:!1}});case h.hg:return f.a.fireTagEvent({event:"configurator","cfg-type":"inventory",interaction:"mechanical-standards-modal"}),Object(g.openModal)(h.Qc,{genericWrapper:!0,size:h.md,type:h.pd,header:{display:!0,close:!0,logo:!1}});case h.J:return setTimeout((function(){v.a.remove(h.fd),window.location=window.location.href.split("#")[0]}),300),B();case h.n:var N=e.userHasApplePay,x=void 0!==N&&N,I=a.ReviewDetails;return(void 0===I?{}:I).isDeliveryDetailsRequired&&x?Object(g.openModal)(h.tg,{className:"session-time-out--container",genericWrapper:!0,size:h.qd,type:h.pd,header:{display:!0,close:!1,logo:!1}}):B()}return null}))}},172:function(e,t){function n(e){for(var t in e){var n=e.charCodeAt(t);if(!(n>47&&n<58||n>64&&n<91||n>96&&n<123))return!1}return!0}e.exports={isRN:function(e){return e&&!!e.match(/^RN\d{6,}$/i)},isTeslaVIN:function(e){var t=e.substring(0,3);return e&&e.length>=10&&e.length<18&&("5YJ"===t||"LRW"===t)&&n(e)},isAlphanumeric:n,email:function(e){return e.replace(/[<>"'\/]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))===e&&/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-+[a-z0-9]+)*\.){1,126})+(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-+[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))]))$/i.test(e)},number:function(e){return/^[0-9]$/.test(e)},oneOf:function(e,t){return t.indexOf(e)>-1},empty:function(e){return null==e||"string"==typeof e&&!e.length},isValidVIN:function(e,t){switch(t=t||"US"){case"US":if(e=e.toLowerCase(),!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/.test(e))return!1;for(var n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,j:1,k:2,l:3,m:4,n:5,p:7,r:9,s:2,t:3,u:4,v:5,w:6,x:7,y:8,z:9},r=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],a=0,i=0;i<e.length;++i)a+=n[e.charAt(i)]*r[i];var o=a%11;return 10===o?"x"===e.charAt(8):e.charAt(8)==o}return!1},isPostalCode:function(e,t,n){switch(n=!1!==n,t=t||"US"){case"US":return n?/(^\d{5}$)/.test(e):/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)}return!1},isValidPassword:function(e){return e.length>=8&&/[a-z\u00C0-\u017F]+/i.test(e)&&/[0-9]+/.test(e)}}},173:function(e,t,n){var r,a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){var c;if(void 0===(a="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),c=!0,"object"===i(t)&&(e.exports=o(),c=!0),!c){var s=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=s,l}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},a.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+c}}function o(e,n){if("undefined"!=typeof document){for(var a={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var c=i[o].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(c[0]);if(s=(r.read||r)(s,l)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(a[l]=s,e===l)break}catch(e){}}return e?a[e]:a}}return a.set=i,a.get=function(e){return o(e,!1)},a.getJSON=function(e){return o(e,!0)},a.remove=function(t,n){i(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},176:function(e,t,n){"use strict";var r=n(1823),a=n(1824),i={cardTypes:{VISA:{cardType:"VISA",cardPattern:/^4[0-9]{12}(?:[0-9]{3})?$/,partialPattern:/^4/,cvvPattern:/^\d{3}$/},MASTERCARD:{cardType:"MASTERCARD",cardPattern:/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[0-1][0-9]|2720)[0-9]{12}$/,partialPattern:/^(?:5[1-5]|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[0-1][0-9]|2720)/,cvvPattern:/^\d{3}$/},AMERICANEXPRESS:{cardType:"AMERICANEXPRESS",cardPattern:/^3[47][0-9]{13}$/,partialPattern:/^3[47]/,cvvPattern:/^\d{4}$/},DINERSCLUB:{cardType:"DINERSCLUB",cardPattern:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,partialPattern:/^3(0[0-5]|[68])/,cvvPattern:/^\d{3}$/},DISCOVER:{cardType:"DISCOVER",cardPattern:/^6(?:011|5[0-9]{2})[0-9]{12}$/,partialPattern:/^6(011|5[0-9])/,cvvPattern:/^\d{3}$/},JCB:{cardType:"JCB",cardPattern:/^(?:2131|1800|35\d{3})\d{11}$/,partialPattern:/^(2131|1800|35)/,cvvPattern:/^\d{3}$/}},expiryMonths:{min:1,max:12},expiryYears:{min:1900,max:2200},schema:{cardType:"cardType",number:"number",expiryMonth:"expiryMonth",expiryYear:"expiryYear",cvv:"cvv"}};y("VISA",["vc","VC","visa"]),y("MASTERCARD",["mc","MC","mastercard","master card","MASTER CARD"]),y("AMERICANEXPRESS",["ae","AE","ax","AX","amex","AMEX","american express","AMERICAN EXPRESS"]),y("DINERSCLUB",["dinersclub"]),y("DISCOVER",["dc","DC","discover"]),y("JCB",["jcb"]);var o=a({},i);function c(e,t,n){return u(e,t,n)&&m(e)}function s(e,t){var n=a({},i.expiryMonths,t);return!("string"==typeof e&&e.length>2)&&((e=~~e)>=n.min&&e<=n.max)}function l(e,t){var n=a({},i.expiryYears,t);return("string"!=typeof e||4===e.length)&&((e=~~e)>=n.min&&e<=n.max)}function u(e,t,n){var r=a({},i.cardTypes,n)[t];return!!r&&r.cardPattern.test(e)}function d(e,t,n){var r=a({},i.cardTypes,n)[t];return!!r&&r.cvvPattern.test(e)}function p(e,t){e=~~e,t=~~t;var n=new Date(t,e);return Date.now()>=n}function m(e){if(/[^\d]+/.test(e)||"string"!=typeof e||!e)return!1;for(var t,n=0,r=!1,a=e.length-1;a>=0;--a)t=~~e.charAt(a),r&&(t*=2)>9&&(t-=9),n+=t,r=!r;return n%10==0}function f(e){return"string"!=typeof e?"":e.replace(/[^\d]/g,"")}function y(e,t){for(var n=0;n<t.length;++n)i.cardTypes[t[n]]=i.cardTypes[e]}e.exports={validate:function(e,t){e=e||{};var n,o=a({},i,t),u=o.schema,m=r(e,u.cardType),y=f(r(e,u.number)),b=r(e,u.expiryMonth),v=r(e,u.expiryYear),g=f(r(e,u.cvv)),h=o.customValidation;return"function"==typeof h&&(n=h(e,o)),{card:e,validCardNumber:c(y,m,o.cardTypes),validExpiryMonth:s(b,o.expiryMonths),validExpiryYear:l(v,o.expiryYears),validCvv:d(g,m,o.cardTypes),isExpired:p(b,v),customValidation:n}},determineCardType:function(e,t){var n=a({},i,t),r=n.cardTypes,o=Object.keys(r);e=f(e);for(var c=0;c<o.length;++c){var s=r[o[c]];if(s.cardPattern.test(e)||!0===n.allowPartial&&s.partialPattern.test(e))return s.cardType}return null},isValidCardNumber:c,isValidExpiryMonth:s,isValidExpiryYear:l,doesNumberMatchType:u,doesCvvMatchType:d,isExpired:p,luhn:m,sanitizeNumberString:f,defaults:function(e,t){return e=e||{},i=!0===t?a({},e):a({},i,e)},reset:function(){return i=a({},o)}}},177:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(6),o=n.n(i),c=n(3);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.id,n=e.className,r=e.title,i=e.description,c=e.style,s=e.rotate;if(!t)return null;var u=c.width,d=void 0===u?"16px":u,p=c.height,m=void 0===p?"16px":p;return a.a.createElement("svg",{className:o()("tds-icon",n),style:l(l({},{width:d,height:m}),c),viewBox:"0 0 30 30"},a.a.createElement("title",null,r||t),a.a.createElement("description",null,i||t),"tds-arrow"===t&&a.a.createElement("path",{stroke:"var(--tds-icon-fill-secondary)",strokeWidth:"1.5",d:"M10.5 17.5l4.5-4 4.5 4",fill:"none",strokeLinecap:"round",className:"arrow",transform:"rotate(".concat(s," 15 15)")}),"tds-plus"===t&&a.a.createElement("line",{x1:"15",y1:"10",x2:"15",y2:"20",stroke:"var(--tds-icon-fill-secondary)",strokeWidth:"1.5",strokeLinecap:"round"}),("tds-plus"===t||"tds-minus"===t)&&a.a.createElement("line",{x1:"10",y1:"15",x2:"20",y2:"15",stroke:"var(--tds-icon-fill-secondary)",strokeWidth:"1.5",strokeLinecap:"round"}),"tds-info"===t&&a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("circle",{stroke:"var(--tds-color--grey40)",strokeWidth:"1.5",cx:"8",cy:"8",r:"7.25"}),a.a.createElement("g",{transform:"translate(7.25 4)",fill:"var(--tds-color--grey40)"},a.a.createElement("rect",{y:"2.5",width:"1.5",height:"5.5",rx:".75"}),a.a.createElement("rect",{width:"1.5",height:"1.5",rx:".75"}))))};d.propTypes={id:c.string.isRequired,className:c.string,description:c.string,title:c.string,style:Object(c.shape)({}),rotate:c.number},d.defaultProps={className:"",description:"",title:"",style:{},rotate:0},t.a=d},1794:function(e,t,n){var r=n(123);e.exports=function(){return r.Date.now()}},1795:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),t.default=function(e){var t=e.object,n=e.overrides,r=void 0===n?{}:n;return{method:"merge",InitialState:{object:a(a({},t),r)}}}},1796:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),t.default=function(e){var t=e.object,n=e.overrides,r=void 0===n?{}:n;return{method:"merge",InitialState:{object:a(a({},t),r)}}}},1797:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),t.default=function(e){var t=e.object,n=e.overrides;return{InitialState:{merge_method:"assign",object:a(a({},t),n)},Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}}}},1798:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),t.default=function(e){var t=e.object,n=e.overrides,r=void 0===n?{}:n;return{method:"merge",InitialState:{object:a(a({},t),r)}}}},1799:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),t.default=function(e){var t=e.object,n=e.overrides,r=void 0===n?{}:n;return{method:"assign",InitialState:{object:a(a({},t),r)}}}},1800:function(e,t,n){"use strict";n.r(t),t.default=function(e){return{method:"assign",InitialState:{object:e.object}}}},1801:function(e,t,n){"use strict";n.r(t),t.default=function(e){return{InitialState:{object:e.i18n}}}},1802:function(e,t,n){"use strict";n.r(t),t.default=function(e){return{Epics:{omit:["updatePrices","referralFlow"]},InitialState:{object:e.object}}}},1803:function(e,t,n){"use strict";n.r(t);var r=n(405),a=n.n(r),i=n(1),o=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t=e.object,n=e.overrides,r=void 0===n?{}:n;return{method:"merge",InitialState:{object:s(s(s({},t),r),{},{platform:{Browser:a.a.name,OS:a.a.os.toString(),BrowserVersion:a.a.version},vin:o()(window,"tesla.vin",""),showSummaryPanelFooter:!0,showAssetGallery:!0})}}}},1804:function(e,t,n){"use strict";n.r(t);var r=n(2);t.default=function(){return{method:"merge",InitialState:{object:{selected:null,available:[],layouts:{tabbed_content:{component:r.Wf},more_info:{component:r.vd},finance_container:{component:r.dc},referral:{component:r.od},success_modal:{component:"SuccessModal"},video_modal:{component:r.vg},standard_features_modal:{component:r.Ff},zoom_image:{component:r.Cg},gas_saving:{component:r.sc},session_time_out_modal:{component:r.kf},referral_modal:{component:r.Re},common_modal:{component:r.M},country_selector_modal:{component:r.T,theme:"slim",size:r.rd,genericWrapper:!0,showFlag:!1,header:{display:!0,logo:!1,close:!0,title:"Select Your Market"}},save_design_modal:{component:r.bf},federal_tax_modal:{component:r.Kb},battery_savings_modal:{component:r.q},wechat_pay_modal:{component:r.Ag},recommended_info_modal:{component:r.Oe},feature_list_modal:{component:r.Gb},user_location_modal:{component:r.tg},range_info_modal:{component:r.Ne},video_asset_modal:{component:r.ug},banner_modal:{component:r.o},incentives_modal:{component:r.yf},inpection_modal:{component:r.Qc}}}}}}},1805:function(e,t,n){"use strict";n.r(t),t.default=function(e){return{InitialState:{merge_method:"assign",object:e.object},Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}}}},1806:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},1807:function(e,t,n){"use strict";e.exports=function(){}},1808:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},a=[];for(var i in e)t.hasOwnProperty(i)?a.length&&(r[i]=a,a=[]):a.push(i);var o=void 0,c={};for(var s in t){if(r.hasOwnProperty(s))for(o=0;o<r[s].length;o++){var l=r[s][o];c[r[s][o]]=n(l)}c[s]=n(s)}for(o=0;o<a.length;o++)c[a[o]]=n(a[o]);return c};var r=n(0)},1809:function(e,t,n){},1823:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,t,n){if("string"!=typeof t)throw new TypeError("Reach path must a string. Found ".concat(t,"."));for(var i=Object.assign({},a,n),o=t.split(i.separator),c=e,s=0;s<o.length;++s){var l=o[s];if("-"===l[0]&&Array.isArray(c)&&(l=l.slice(1,l.length),l=c.length-l),null===c||"object"!==r(c)&&"function"!=typeof c||!(l in c)){if(i.strict)throw new Error("Invalid segment, ".concat(l,", in reach path ").concat(t,"."));return i.default}c=c[l]}return c};var a={separator:".",strict:!1,default:void 0}},1824:function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,s=o||c||Function("return this")(),l=t&&!t.nodeType&&t,u=l&&"object"==typeof n&&n&&!n.nodeType&&n,d=u&&u.exports===l,p=d&&o.process,m=function(){try{var e=u&&u.require&&u.require("util").types;return e||p&&p.binding&&p.binding("util")}catch(e){}}(),f=m&&m.isTypedArray;function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var b,v,g,h=Array.prototype,O=Function.prototype,P=Object.prototype,_=s["__core-js_shared__"],w=O.toString,E=P.hasOwnProperty,S=(b=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",j=P.toString,C=w.call(Object),T=RegExp("^"+w.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=d?s.Buffer:void 0,D=s.Symbol,R=s.Uint8Array,L=A?A.allocUnsafe:void 0,N=(v=Object.getPrototypeOf,g=Object,function(e){return v(g(e))}),x=Object.create,I=P.propertyIsEnumerable,F=h.splice,k=D?D.toStringTag:void 0,M=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),V=A?A.isBuffer:void 0,B=Math.max,q=Date.now,G=le(s,"Map"),U=le(Object,"create"),W=function(){function e(){}return function(t){if(!Pe(t))return{};if(x)return x(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=this.__data__=new z(e);this.size=t.size}function X(e,t){var n=be(e),r=!n&&ye(e),a=!n&&!r&&ge(e),i=!n&&!r&&!a&&we(e),o=n||r||a||i,c=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=c.length;for(var l in e)!t&&!E.call(e,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ue(l,s))||c.push(l);return c}function $(e,t,n){(void 0!==n&&!fe(e[t],n)||void 0===n&&!(t in e))&&J(e,t,n)}function Z(e,t,n){var r=e[t];E.call(e,t)&&fe(r,n)&&(void 0!==n||t in e)||J(e,t,n)}function Q(e,t){for(var n=e.length;n--;)if(fe(e[n][0],t))return n;return-1}function J(e,t,n){"__proto__"==t&&M?M(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Y.prototype.clear=function(){this.__data__=U?U(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(U){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return E.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return U?void 0!==t[e]:E.call(t,e)},Y.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=U&&void 0===t?"__lodash_hash_undefined__":t,this},z.prototype.clear=function(){this.__data__=[],this.size=0},z.prototype.delete=function(e){var t=this.__data__,n=Q(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),--this.size,!0)},z.prototype.get=function(e){var t=this.__data__,n=Q(t,e);return n<0?void 0:t[n][1]},z.prototype.has=function(e){return Q(this.__data__,e)>-1},z.prototype.set=function(e,t){var n=this.__data__,r=Q(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},H.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(G||z),string:new Y}},H.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},H.prototype.get=function(e){return se(this,e).get(e)},H.prototype.has=function(e){return se(this,e).has(e)},H.prototype.set=function(e,t){var n=se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},K.prototype.clear=function(){this.__data__=new z,this.size=0},K.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},K.prototype.get=function(e){return this.__data__.get(e)},K.prototype.has=function(e){return this.__data__.has(e)},K.prototype.set=function(e,t){var n=this.__data__;if(n instanceof z){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new H(r)}return n.set(e,t),this.size=n.size,this};var ee,te=function(e,t,n){for(var r=-1,a=Object(e),i=n(e),o=i.length;o--;){var c=i[ee?o:++r];if(!1===t(a[c],c,a))break}return e};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?function(e){var t=E.call(e,k),n=e[k];try{e[k]=void 0;var r=!0}catch(e){}var a=j.call(e);r&&(t?e[k]=n:delete e[k]);return a}(e):function(e){return j.call(e)}(e)}function re(e){return _e(e)&&"[object Arguments]"==ne(e)}function ae(e){return!(!Pe(e)||function(e){return!!S&&S in e}(e))&&(he(e)?T:r).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ie(e){if(!Pe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=de(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function oe(e,t,n,r,a){e!==t&&te(t,(function(i,o){if(a||(a=new K),Pe(i))!function(e,t,n,r,a,i,o){var c=pe(e,n),s=pe(t,n),l=o.get(s);if(l)return void $(e,n,l);var u=i?i(c,s,n+"",e,t,o):void 0,d=void 0===u;if(d){var p=be(s),m=!p&&ge(s),f=!p&&!m&&we(s);u=s,p||m||f?be(c)?u=c:_e(h=c)&&ve(h)?u=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(c):m?(d=!1,u=function(e,t){if(t)return e.slice();var n=e.length,r=L?L(n):new e.constructor(n);return e.copy(r),r}(s,!0)):f?(d=!1,y=s,b=!0?(v=y.buffer,g=new v.constructor(v.byteLength),new R(g).set(new R(v)),g):y.buffer,u=new y.constructor(b,y.byteOffset,y.length)):u=[]:function(e){if(!_e(e)||"[object Object]"!=ne(e))return!1;var t=N(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==C}(s)||ye(s)?(u=c,ye(c)?u=function(e){return function(e,t,n,r){var a=!n;n||(n={});var i=-1,o=t.length;for(;++i<o;){var c=t[i],s=r?r(n[c],e[c],c,n,e):void 0;void 0===s&&(s=e[c]),a?J(n,c,s):Z(n,c,s)}return n}(e,Ee(e))}(c):Pe(c)&&!he(c)||(u=function(e){return"function"!=typeof e.constructor||de(e)?{}:W(N(e))}(s))):d=!1}var y,b,v,g;var h;d&&(o.set(s,u),a(u,s,r,i,o),o.delete(s));$(e,n,u)}(e,t,o,n,oe,r,a);else{var c=r?r(pe(e,o),i,o+"",e,t,a):void 0;void 0===c&&(c=i),$(e,o,c)}}),Ee)}function ce(e,t){return me(function(e,t,n){return t=B(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=B(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(o),y(e,this,c)}}(e,t,Ce),e+"")}function se(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ae(n)?n:void 0}function ue(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&a.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function pe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var me=function(e){var t=0,n=0;return function(){var r=q(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(M?function(e,t){return M(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ce);function fe(e,t){return e===t||e!=e&&t!=t}var ye=re(function(){return arguments}())?re:function(e){return _e(e)&&E.call(e,"callee")&&!I.call(e,"callee")},be=Array.isArray;function ve(e){return null!=e&&Oe(e.length)&&!he(e)}var ge=V||function(){return!1};function he(e){if(!Pe(e))return!1;var t=ne(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Oe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==typeof e}var we=f?function(e){return function(t){return e(t)}}(f):function(e){return _e(e)&&Oe(e.length)&&!!i[ne(e)]};function Ee(e){return ve(e)?X(e,!0):ie(e)}var Se,je=(Se=function(e,t,n){oe(e,t,n)},ce((function(e,t){var n=-1,r=t.length,a=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(a=Se.length>3&&"function"==typeof a?(r--,a):void 0,i&&function(e,t,n){if(!Pe(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&ue(t,n.length):"string"==r&&t in n)&&fe(n[t],e)}(t[0],t[1],i)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var o=t[n];o&&Se(e,o,n,a)}return e})));function Ce(e){return e}n.exports=je}).call(this,n(31),n(57)(e))},1825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^[0-9]{4}$/,a=/^[0-9]{5}$/,i=/^[0-9]{6}$/,o=/^[0-9]{3}[ ]?[0-9]{2}$/,c={AD:/.*/,AE:/.*/,AT:r,AU:r,BE:r,BG:r,CA:/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:r,CN:/^([0-9]{6})?$/,CY:r,CZ:o,DE:a,DEFAULT:/^[a-zA-Z0-9\-\s]{1,}$/i,DK:r,EE:a,ES:/^([0-4][0-9]|[5][0-2])[0-9]{3}$/,EU:/.*/,FI:a,FR:a,GB:/^[a-zA-Z]{1,2}([0-9]{1,2}|[0-9][a-zA-Z])\s*[0-9][a-zA-Z]{2}$/,GI:/^[A-Z]{1,2}[0-9]{1,2}[A-Z]?[0-9][A-Z]{2}$/,GR:o,HK:/.*/,HR:a,HU:r,IE:/^([a-zA-Z0-9\s]{1,9})?$/,IL:/^[0-9]{7}$/,IN:i,IS:/^[0-9]{3}$/,IT:a,JO:a,JP:/^[0-9]{3}-[0-9]{4}$/,KR:/^([0-9]{3}[-]?[0-9]{3}|[0-9]{5})$/,LI:r,LT:/^(((LT)[-]?)?[0-9]{5})$/,LU:r,LV:/^(((LV)[-]?)?[0-9]{4})$/,MC:a,MO:/.*/,MT:/.*/,MX:a,NL:/^[0-9]{4}[ ]?[A-Za-z]{2}$/,NO:r,NZ:r,PL:/^[0-9]{2}-[0-9]{3}$/,PR:/^00[0-9]{3}$/,PT:/^[0-9]{4}-[0-9]{3}$/,RO:i,RS:/.*/,RU:/^[0-9]{6}$/,SE:o,SG:i,SI:/^(((SI)[-]?)?[0-9]{4})$/,SK:o,SM:a,TH:a,TR:/^[0-9]{4,5}$/,TW:/^([0-9]{3}[-]?([0-9]{0,2})?)$/,US:/^([0-9]{5})(-[0-9]{4})?$/};t.default=c},1826:function(e,t,n){},1827:function(e,t,n){},1828:function(e,t,n){},1829:function(e,t,n){},200:function(e,t,n){"use strict";n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return A}));var r=n(1),a=n.n(r),i=(n(21),n(26)),o=n.n(i),c=n(16),s=n.n(c),l=(n(68),n(17)),u=n.n(l),d=n(909),p=n.n(d),m=n(20),f=n(81),y=n(173),b=n.n(y),v=n(2),g=n(8),h=n(4),O=n(23);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){var t=e.key,n=e.force,r=e.isEditDesign;return function(e,a){var i=a(),o=i.Navigation.allowedSections,c=void 0===o?[]:o;c.includes(t)&&(n||1===c.length||i.Navigation.section!==t||window.location.hash.substring(1)!==t)&&(window.location.hash=t,e({type:v.Dd,key:t,isEditDesign:r}))}},S=function(){return function(e,t){return window.location.hash=t().Navigation.next_section,null}};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=r(),c=a()(i,"App.isLayoutMobile",!1),l=a()(i,"App.query_params.referral",!1);switch(e){case"link":var u=a()(t,"url",""),d=a()(t,"query",{}),p=a()(t,"type","_blank"),f=Object(m.l)(d);u&&window.open("".concat(u,"?").concat(f),p);break;case"go_to_custom":var y=t.pkg,b=t.group,v="",g=a()(t,"url",""),h=a()(t,"query_params",{}),O=a()(t,"retain_params",!1),P=a()(t,"type","_self"),w=c?a()(g,"mobile",""):a()(g,"default",""),E=c?a()(h,"mobile",{}):a()(h,"default",{});if(y&&b){var S=o()(a()(i,"CustomGroups.packages.current",[]),(function(e){return e.key===y}));if(S){var j=a()(S,"options",[]),C=s()(a()(S,"custom_upgrades_by_group",{}),(function(e,t,n){var r=e;return b.includes(n)&&(r=r.concat(t)),r}),[]);v=Object(m.d)(i,j.concat(C))}}else{var T=a()(i,"Configuration.option_codes",[]);v=Object(m.d)(i,T)}var A={cfg:v};l&&O&&(c?A.referral=l:w&&(w="".concat(w.replace(/\/$/,""),"/referral/").concat(l)));var D=Object(m.l)(_(_({},E),A));w&&window.open("".concat(w,"?").concat(D),P);break;default:return null}return null}}function C(e){var t=e.analytics,n=e.href,r=e.target;return function(e){e({type:v.Ad,analytics:t}),window.open(n,r)}}var T=function(e){return e.filter((function(e){return[v.ze,v.Bg,v.xg].includes(e.type)})).map((function(e){switch(e.type){case v.ze:return Object(g.openModal)(v.vg,{className:"asset-video-container",asset:e.content});case v.Bg:return Object(g.openModal)(v.Cg,{className:"asset-zoom-container",asset:_(_({},e.asset),{},{method:"background-image"}),genericWrapper:!0,size:v.jd});case v.xg:return Object(g.openModal)(v.Ff,{className:"standard-features--container",genericWrapper:!0,size:v.jd});default:return null}}))},A=function(e,t){return e.filter((function(e){var n=t.getState(),r=n.Configuration.model_code,i=n.FinancingOptions.analyticsPrefix;switch(e.type){case v.Ld:O.a.fireOnce(v.Sd,n);break;case v.nd:switch(e.component_target){case"Video":case"AssetLoader":case"GasSaving":case"DetailsMatrix":case"SuccessModal":O.a.fireOptionInteractionEvent(e,i);break;case"SaveDesign":O.a.fireInteractionTag({action:e,state:n});break;default:return null}break;case v.gf:O.a.fireOptionInteractionEvent(e,i);break;case v.S:case v.pf:O.a.fireInteractionTag({action:e,state:n});break;case v.Vf:O.a.fireTabChangeEvent(e);break;case v.be:O.a.fireOptionInteractionEvent(e);break;case v.Af:e.selectedForm&&O.a.fireOptionInteractionEvent(e,i);break;case v.Tf:e.regionCode||O.a.fireOptionInteractionEvent(e);break;case v.Pf:case v.Lf:case v.Mf:case v.Nf:O.a.fireOptionInteractionEvent(e);break;case v.Dd:var o=n.Navigation,c=o.allowedSections,s=o.section,l=e.key,d=e.isEditDesign;switch(c.includes(l)&&(1!==c.length&&s===l&&window.location.hash.substring(1)===l||(window.location.hash=l)),l){case"payment":O.a.addToCart(n),O.a.fireTagEvent({event:"configurator",interaction:"continue-to-payment","cfg-type":r});break;default:if(d)O.a.fireTagEvent({event:"configurator",interaction:"edit-design","cfg-type":r});else{var y=l;O.a.fireVirtualPageTag(e.key,y,n)}}break;case v.Ad:O.a.fireNavigationTag(e.analytics);break;case v.n:e.userHasApplePay&&O.a.fireApplePayAnalyticsEvent({action:e});break;case v.l:O.a.fireApplePayAnalyticsEvent({action:e});break;case v.Ze:case v.w:O.a.fireModifyOrderAnalyticsEvent({action:e,state:n});break;case v.wc:if(a()(n,"ReviewDetails.product.isInventory"))return null;var g=Object(h.P)(a()(n,"App.uiLocale")),P=a()(window,"tesla.App.availableLocales",[]),_=p()(P).map((function(e){return Object(h.P)(e)}));if("no"===Object(m.e)().redirect){var w=window.location.hostname.indexOf("teslamotors.com")>-1?"teslamotors.com":"tesla.com";return b.a.set("ip_lookup_desired_locale",g,{expires:365,domain:w}),!0}var E=b.a.get("ip_lookup_desired_locale");if(!u()(E)&&_.indexOf(E)>=0)return g!==E?Object(h.S)(E,!1,r):null;var S=a()(n,"Configuration.rn",""),j=a()(e,"location.countryCode","US"),C=a()(n,"App.countryCode"),T=a()(window,"tesla.App.locale"),A="".concat(Object(f.getDefaultLanguage)(j),"_").concat(j);""===S&&C!==j&&Object(h.S)(A,!1,r),""!==S&&T!==g&&Object(h.S)(T,!1,r)}return null})).map((function(e){return{type:v.ng}}))}},201:function(e,t,n){"use strict";n.d(t,"n",(function(){return P})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return w})),n.d(t,"p",(function(){return E})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return j})),n.d(t,"k",(function(){return C})),n.d(t,"r",(function(){return T})),n.d(t,"u",(function(){return A})),n.d(t,"s",(function(){return D})),n.d(t,"o",(function(){return R})),n.d(t,"l",(function(){return L})),n.d(t,"c",(function(){return N})),n.d(t,"m",(function(){return x})),n.d(t,"q",(function(){return I})),n.d(t,"t",(function(){return F})),n.d(t,"g",(function(){return k})),n.d(t,"e",(function(){return M})),n.d(t,"j",(function(){return V})),n.d(t,"b",(function(){return B})),n.d(t,"f",(function(){return q}));var r=n(1),a=n.n(r),i=n(58),o=n.n(i),c=n(42),s=n.n(c),l=n(17),u=n.n(l),d=n(126),p=n.n(d),m=n(68),f=n.n(m),y=n(910),b=n.n(y),v=n(2),g=n(4),h=n(8),O=n(9),P=function(e){return{type:v.be,isOpen:e}},_=function(){return{type:v.Wd}},w=function(){return{type:v.K}},E=function(e){return{type:v.ee,creditCardDetail:e}},S=function(e){return{type:v.Yd,flag:e}},j=function(e){return{type:v.s,flag:e}},C=function(e){return{type:v.ce,flag:e}},T=function(e){return{type:v.Xd,paymentDetails:e}},A=function(e){return{type:v.qe,qrCode:e}},D=function(e){return{type:v.de,flag:e}},R=function(e){return{type:v.r,billingInfo:e}},L=function(e){var t=e.returnUrl,n=e.token;return{type:v.Pe,returnUrl:t,token:n}},N=function(){return{type:v.Qe}},x=function(e){return e.filter((function(e){return[v.ee].includes(e.type)})).map((function(e){return function(t,n){var r=n(),i=a()(r,"Payment.CreditCardDetail",{}),o=i.IsProfileExists,c={PayorName:"",ExpirationMonth:"",ExpirationYear:"",CardType:i.CardType,ProcessWithProfile:o,BillingZipCode:i.BillingZipCode};t({type:v.Xd,paymentDetails:c});var l=r.Payment.collectAllBillingInfo,d=e.creditCardDetail.BillingAddress;if(l){var m=p()(d,["CountryCode","Street","Address2","City","ZipCode","StateProvince"]),y=f()(m,"Address2"),g=!0;b()(y,(function(e){s()(e)&&!u()(e)||(g=!1)})),g&&(m.IsFromSavedProfile=!0),t(R(m))}}}))},I=function(e,t){return{type:v.t,changedType:e,payload:t}},F=function(e){return{type:v.ve,payload:e}},k=function(){return function(e,t){var n=t();e({type:v.dd});var r=Object(g.R)({CallingApplicationName:"WEBSITE_DEV",Metadata:{LocationCode:a()(n,"Payment.PaymentDetail.BillingInfoDetail.PickupLocation",null)},User:{PhoneNumber:a()(n,"Payment.PaymentDetail.VerificationPhone",null),IDType:"CITIZEN_ID_NO",IDNumber:a()(n,"Payment.PaymentDetail.PayorIDNumber",null),SmsChannel:"2"},payment:{PayorName:a()(n,"Payment.PaymentDetail.PayorName",null),PaymentType:a()(n,"Payment.PaymentDetail.CreditCardDetail.CardType",null),CountryCode:a()(n,"Payment.CountryCode",null),CurrencyCode:a()(n,"Payment.CurrencyCode",null),PaymentDetails:{AccountNumber:a()(n,"Payment.PaymentDetail.CreditCardDetail.AccountNumber",null),ExpirationMonth:a()(n,"Payment.PaymentDetail.CreditCardDetail.ExpirationMonth",null),ExpirationYear:a()(n,"Payment.PaymentDetail.CreditCardDetail.ExpirationYear",null),LastFourDigits:a()(n,"Payment.PaymentDetail.CreditCardDetail.AccountNumber","").slice(-4),VerificationNumber:a()(n,"Payment.PaymentDetail.CreditCardDetail.VerificationNumber",null)}}});o.a.post("/configurator/api/v1/unionpay/get-sms").send(r).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end((function(t,n){t?(t.status,e({type:v.cd}),e(Object(h.addAlert)({message:"".concat(t.status,": ").concat(n.body.error)})),window.setTimeout((function(){e(Object(h.removeAlert)({message:"".concat(t.status,": ").concat(n.body.error)}))}),3e4)):e({type:v.cd})}))}},M=function(e){return{type:v.Xc,invoiceType:e}},V=function(e){return{type:v.Wc,flag:e}},B=function(e){return e.filter((function(e){return[v.r].includes(e.type)})).map((function(e){return function(t){var n=a()(e,"billingInfo.CountryCode",null);n&&(Object(O.ab)(n).length?t(Object(h.showBaseField)(v.Hf)):t(Object(h.hideBaseField)(v.Hf)))}}))};function q(){return function(e,t){var n=t().App,r=void 0===n?{}:n,a=r.countryCode,i=r.sibling,c=r.isBurstMode,s=[{service_id:"beijingyizhuangdeliveryhubnew",title:"Beijing-Yizhuang-Delivery Hub",appointment_location_id:443,distance:null,non_customer_location:"0",trt_id:3056,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D北京市大兴区亦庄经济开发区中和街9号特斯拉交付中心",city:"北京",province:"北京",country_code:"CN",map_address:"北京市大兴区亦庄经济开发区中和街9号特斯拉交付中心",address_line_1:"北京市大兴区亦庄经济开发区中和街9号特斯拉交付中心",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"北京亦庄交付中心",metro_area:""},{service_id:"shanghaisenlandelivery",title:"Shanghai-Senlan Delivery Hub",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14441,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D上海市浦东新区津行路580号",city:"上海",province:"上海",country_code:"CN",map_address:"上海市浦东新区津行路580号",address_line_1:"上海市浦东新区津行路580号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"上海森兰交付中心",metro_area:""},{service_id:"dongguandelivery",title:"Dongguan-Nancheng Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:4817,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省东莞市南城街道黄金路1号",city:"东莞",province:"广东",country_code:"CN",map_address:"广东省东莞市南城街道黄金路1号",address_line_1:"广东省东莞市南城街道黄金路1号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"东莞南城特斯拉中心",metro_area:""},{service_id:"foshanchanchengdelivery",title:"Foshan Chancheng",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12924,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省佛山市禅城区石湾镇街道番村丰田工业区及祠前工业区自编1座首层1107、1108号铺",city:"佛山",province:"广东",country_code:"CN",map_address:"广东省佛山市禅城区石湾镇街道番村丰田工业区及祠前工业区自编1座首层1107、1108号铺",address_line_1:"广东省佛山市禅城区石湾镇街道番村丰田工业区及祠前工业区自编1座首层1107、1108号铺",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"佛山禅城特斯拉中心",metro_area:""},{service_id:"guangzhoukexuecheng",title:"Guangzhou Kexuecheng",appointment_location_id:5241,distance:null,non_customer_location:"0",trt_id:5241,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省广州市黄埔区科学城南翔一路50号新银河世纪跨境电商产业园南门",city:"广州",province:"广东",country_code:"CN",map_address:"广东省广州市黄埔区科学城南翔一路50号新银河世纪跨境电商产业园南门",address_line_1:"广东省广州市黄埔区科学城南翔一路50号新银河世纪跨境电商产业园南门",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"广州科学城特斯拉中心",metro_area:""},{service_id:"huizhouhuichengdelivery",title:"Huizhou Huicheng Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14980,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省惠州市惠城区汝湖镇东亚过沥村（惠民大道广惠高速汝湖出口）",city:"惠州",province:"广东",country_code:"CN",map_address:"广东省惠州市惠城区汝湖镇东亚过沥村（惠民大道广惠高速汝湖出口）",address_line_1:"广东省惠州市惠城区汝湖镇东亚过沥村（惠民大道广惠高速汝湖出口）",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"惠州惠城特斯拉中心",metro_area:""},{service_id:"shenzhenchiwandelivery",title:"Shenzhen Chiwan Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:11873,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省深圳市南山区招商街道赤湾社区赤湾四路三号A5库（赤湾一号）A07",city:"深圳",province:"广东",country_code:"CN",map_address:"广东省深圳市南山区招商街道赤湾社区赤湾四路三号A5库（赤湾一号）A07",address_line_1:"广东省深圳市南山区招商街道赤湾社区赤湾四路三号A5库（赤湾一号）A07",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"深圳赤湾特斯拉中心",metro_area:""},{service_id:"zhongshanchengnandelivery",title:"Zhongshan Chengnan Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:4814,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省中山市城南四路1号",city:"中山",province:"广东",country_code:"CN",map_address:"广东省中山市城南四路1号",address_line_1:"广东省中山市城南四路1号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"中山城南特斯拉中心",metro_area:""},{service_id:"zhuhaixiangzhoudelivery",title:"Zhuhai Xiangzhou Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8894,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广东省珠海市香洲区唐家湾镇创新九路103号1栋A101室",city:"珠海",province:"广东",country_code:"CN",map_address:"广东省珠海市香洲区唐家湾镇创新九路103号1栋A101室",address_line_1:"广东省珠海市香洲区唐家湾镇创新九路103号1栋A101室",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"珠海香洲特斯拉中心",metro_area:""},{service_id:"huzhouwuxingdelivery",title:"Huzhou Wuxing Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:13860,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省湖州市吴兴区杭长桥路1158号",city:"湖州",province:"浙江",country_code:"CN",map_address:"浙江省湖州市吴兴区杭长桥路1158号",address_line_1:"浙江省湖州市吴兴区杭长桥路1158号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"湖州吴兴特斯拉中心",metro_area:""},{service_id:"jiaxingnanhudelivery",title:"Zhejiang Jiaxing Nanhu Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12911,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省嘉兴市南湖区中环南路汽车商贸园南江路1402号",city:"嘉兴",province:"浙江",country_code:"CN",map_address:"浙江省嘉兴市南湖区中环南路汽车商贸园南江路1402号",address_line_1:"浙江省嘉兴市南湖区中环南路汽车商贸园南江路1402号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"嘉兴南湖特斯拉中心",metro_area:""},{service_id:"moganshadelivery",title:"Hangzhou-Moganshan Delivery Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12167,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省杭州市余杭区莫干山路1803号",city:"杭州",province:"浙江",country_code:"CN",map_address:"浙江省杭州市余杭区莫干山路1803号",address_line_1:"浙江省杭州市余杭区莫干山路1803号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"杭州莫干山路交付中心",metro_area:""},{service_id:"ningboyinzhoudelivery",title:"Ningbo Yinzhou Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:15681,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省宁波市鄞州区下应北路717号",city:"宁波",province:"浙江",country_code:"CN",map_address:"浙江省宁波市鄞州区下应北路717号",address_line_1:"浙江省宁波市鄞州区下应北路717号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"宁波鄞州特斯拉中心",metro_area:""},{service_id:"shaoxingpaojiangdelivery",title:"Shaoxing Paojiang Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14632,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省绍兴市越城区斗门街道群贤东路9号6幢101号",city:"绍兴",province:"浙江",country_code:"CN",map_address:"浙江省绍兴市越城区斗门街道群贤东路9号6幢101号",address_line_1:"浙江省绍兴市越城区斗门街道群贤东路9号6幢101号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"绍兴袍江特斯拉中心",metro_area:""},{service_id:"taizhoufanglindelivery",title:"Taizhou Luqiao Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8860,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省台州市路桥区路南街道方林汽车城东展示厅1-9号",city:"台州",province:"浙江",country_code:"CN",map_address:"浙江省台州市路桥区路南街道方林汽车城东展示厅1-9号",address_line_1:"浙江省台州市路桥区路南街道方林汽车城东展示厅1-9号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"台州路桥特斯拉中心",metro_area:""},{service_id:"wenzhoulongwandelivery",title:"Wenzhou Longwan Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:4026,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D浙江省温州市龙湾区蒲州街道高一路178号",city:"温州",province:"浙江",country_code:"CN",map_address:"浙江省温州市龙湾区蒲州街道高一路178号",address_line_1:"浙江省温州市龙湾区蒲州街道高一路178号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"温州龙湾特斯拉中心",metro_area:""},{service_id:"changzhouzhongloudelivery",title:"Changzhou Zhonglou Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12922,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省常州市钟楼区棕榈路37号内",city:"常州",province:"江苏",country_code:"CN",map_address:"江苏省常州市钟楼区棕榈路37号内",address_line_1:"江苏省常州市钟楼区棕榈路37号内",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"常州钟楼特斯拉中心",metro_area:""},{service_id:"nanjingdongqidelivery",title:"Nanjing Dongqi Road Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:5060,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省南京市江宁区临麒路18号",city:"南京",province:"江苏",country_code:"CN",map_address:"江苏省南京市江宁区临麒路18号",address_line_1:"江苏省南京市江宁区临麒路18号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"南京东麒路特斯拉中心",metro_area:""},{service_id:"nantongtongqidelivery",title:"Nantong Tongqi Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:5048,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省南通市崇川区通启路8号",city:"南通",province:"江苏",country_code:"CN",map_address:"江苏省南通市崇川区通启路8号",address_line_1:"江苏省南通市崇川区通启路8号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"南通通启特斯拉中心",metro_area:""},{service_id:"suzhouyuanqudelivery",title:"Suzhou Yuanqu Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12210,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省苏州市工业园区民生路18号",city:"苏州",province:"江苏",country_code:"CN",map_address:"江苏省苏州市工业园区民生路18号",address_line_1:"江苏省苏州市工业园区民生路18号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"苏州园区特斯拉中心",metro_area:""},{service_id:"taizhouyongdingdelivery",title:"Jiangsu Taizhou Yongding Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14633,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省泰州市海陵区永定东路299号",city:"泰州",province:"江苏",country_code:"CN",map_address:"江苏省泰州市海陵区永定东路299号",address_line_1:"江苏省泰州市海陵区永定东路299号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"泰州永定特斯拉中心",metro_area:""},{service_id:"wuxixianfengdelivery",title:"Wuxi Xianfeng Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:4809,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省无锡市安镇街道先锋中路25-5号",city:"无锡",province:"江苏",country_code:"CN",map_address:"江苏省无锡市安镇街道先锋中路25-5号",address_line_1:"江苏省无锡市安镇街道先锋中路25-5号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"无锡先锋特斯拉中心",metro_area:""},{service_id:"yangzhouheyedelivery",title:"Yangzhou Heye Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14634,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江苏省扬州市邗江区荷叶东路128号",city:"扬州",province:"江苏",country_code:"CN",map_address:"江苏省扬州市邗江区荷叶东路128号",address_line_1:"江苏省扬州市邗江区荷叶东路128号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"扬州荷叶特斯拉中心",metro_area:""},{service_id:"chengdulongquandelivery",title:"Chengdu Longquan Delivery Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14962,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D四川省成都市龙泉驿区经开区南五路66号",city:"成都",province:"四川",country_code:"CN",map_address:"四川省成都市龙泉驿区经开区南五路66号",address_line_1:"四川省成都市龙泉驿区经开区南五路66号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"成都龙泉交付中心",metro_area:""},{service_id:"fuzhoucangshandelivery",title:"Fuzhou Cangshan Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12923,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D福建省福州市仓山区盖山投资区高旺路6号",city:"福州",province:"福建",country_code:"CN",map_address:"福建省福州市仓山区盖山投资区高旺路6号",address_line_1:"福建省福州市仓山区盖山投资区高旺路6号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"福州仓山特斯拉中心",metro_area:""},{service_id:"quanzhoujinjiangdelivery",title:"Quanzhou Jinjiang Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14624,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D福建省泉州经济技术开发区清濛园区吉泰路290号",city:"泉州",province:"福建",country_code:"CN",map_address:"福建省泉州经济技术开发区清濛园区吉泰路290号",address_line_1:"福建省泉州经济技术开发区清濛园区吉泰路290号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"泉州特斯拉中心",metro_area:""},{service_id:"xiamenjimeidelivery",title:"Xiamen Jimei Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8868,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D福建省厦门市集美区岩隆路汽车城5号楼",city:"厦门",province:"福建",country_code:"CN",map_address:"福建省厦门市集美区岩隆路汽车城5号楼",address_line_1:"福建省厦门市集美区岩隆路汽车城5号楼",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"厦门集美特斯拉中心",metro_area:""},{service_id:"chongqinghuijin",title:"Chongqing Huijin Rd",appointment_location_id:4945,distance:null,non_customer_location:"0",trt_id:4945,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D重庆市渝北区汇金路3号特斯拉服务中心",city:"重庆",province:"重庆",country_code:"CN",map_address:"重庆市渝北区汇金路3号特斯拉服务中心",address_line_1:"中国重庆市汇金路3号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"重庆汇金特斯拉中心",metro_area:""},{service_id:"xiangaoxin",title:"Xi'an-Jinye",appointment_location_id:485,distance:null,non_customer_location:"0",trt_id:3490,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D西安市雁塔区科技八路与瞪羚二路交叉口向南100米",city:"西安",province:"陕西",country_code:"CN",map_address:"西安市雁塔区科技八路与瞪羚二路交叉口向南100米",address_line_1:"陕西省西安市高新区锦业路69号创业园A区",address_line_2:"11号第3幢（瞪羚二路上）",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"西安锦业特斯拉中心",metro_area:""},{service_id:"jinandelivery",title:"Jinan Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8879,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D山东省济南市槐荫区经十西路2518号",city:"济南",province:"山东",country_code:"CN",map_address:"山东省济南市槐荫区经十西路2518号",address_line_1:"山东省济南市槐荫区经十西路2518号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"济南特斯拉中心",metro_area:""},{service_id:"linyidelivery",title:"Linyi Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14626,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D山东省临沂市罗庄区沂河路与湖东二路交汇处东南角",city:"临沂",province:"山东",country_code:"CN",map_address:"山东省临沂市罗庄区沂河路与湖东二路交汇处东南角",address_line_1:"山东省临沂市罗庄区沂河路与湖东二路交汇处东南角",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"临沂特斯拉中心",metro_area:""},{service_id:"qingdaoyinchuanvrl",title:"Qingdao-Yinchuan",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:12110,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D青岛市市南区银川西路29号",city:"青岛",province:"山东",country_code:"CN",map_address:"青岛市市南区银川西路29号",address_line_1:"山东省青岛市市南区银川西路29号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"青岛银川西路交付中心",metro_area:""},{service_id:"weifangdelivery",title:"Weifang Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14625,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D山东省潍坊市潍城经济开发区北宫西街7007号",city:"潍坊",province:"山东",country_code:"CN",map_address:"山东省潍坊市潍城经济开发区北宫西街7007号",address_line_1:"山东省潍坊市潍城经济开发区北宫西街7007号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"潍坊特斯拉中心",metro_area:""},{service_id:"yantaidelivery",title:"Yantai Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:9542,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D山东省烟台市芝罘区卧龙工业园卧龙中路",city:"烟台",province:"山东",country_code:"CN",map_address:"山东省烟台市芝罘区卧龙工业园卧龙中路",address_line_1:"山东省烟台市芝罘区卧龙工业园卧龙中路",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"烟台特斯拉中心",metro_area:""},{service_id:"wuhanqialkou",title:"Wuhan-Guanggu Park",appointment_location_id:4838,distance:null,non_customer_location:"0",trt_id:4838,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D湖北省武汉市洪山区光谷一路关南工业园3号厂房",city:"武汉",province:"湖北",country_code:"CN",map_address:"湖北省武汉市洪山区光谷一路关南工业园3号厂房",address_line_1:"湖北省武汉市东湖新技术开发区关南工业园3号厂房",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"武汉光谷特斯拉中心",metro_area:""},{service_id:"tianjindeliveryhub",title:"Tianjin-Wanggang Road",appointment_location_id:1800,distance:null,non_customer_location:"0",trt_id:3516,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D天津市津南区旺港路5号",city:"天津",province:"天津",country_code:"CN",map_address:"天津市津南区旺港路5号",address_line_1:"天津市津南区旺港路5号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"天津旺港特斯拉中心",metro_area:""},{service_id:"huayuanludelivery",title:"Zhengzhou Huayuanlu Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14752,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D河南省郑州市金水区花园北路159号",city:"郑州",province:"河南",country_code:"CN",map_address:"河南省郑州市金水区花园北路159号",address_line_1:"河南省郑州市金水区花园北路159号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"郑州花园路特斯拉中心",metro_area:""},{service_id:"changshatianxin",title:"Changsha-Tianxin Queyuanlu Tesla Center",appointment_location_id:3364,distance:null,non_customer_location:"0",trt_id:3364,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D湖南省长沙市天心区芙蓉南路雀园路口东",city:"长沙",province:"湖南",country_code:"CN",map_address:"湖南省长沙市天心区芙蓉南路雀园路口东",address_line_1:"湖南省长沙市天心区芙蓉南路雀园路口东",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery"],chinese_title:"长沙天心特斯拉中心",metro_area:""},{service_id:"dalianxishanhudelivery",title:"Dalian-West Lake Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8888,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D辽宁省大连市甘井子区红旗西路棠梨工业园9号",city:"大连",province:"辽宁",country_code:"CN",map_address:"辽宁省大连市甘井子区红旗西路棠梨工业园9号",address_line_1:"辽宁省大连市甘井子区红旗西路棠梨工业园9号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"大连西山湖特斯拉中心",metro_area:""},{service_id:"shenyanglianhevrl",title:"Shenyang-Lianhe",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8866,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D辽宁省沈阳市大东区联合路187号",city:"沈阳",province:"辽宁",country_code:"CN",map_address:"辽宁省沈阳市大东区联合路187号",address_line_1:"辽宁省沈阳市大东区联合路187号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"沈阳联合路特斯拉中心",metro_area:""},{service_id:"nanningqingxiudelivery",title:"Nanning Qingxiu Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8897,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D广西壮族自治区南宁市江南区白沙大道31号汽车城4号楼",city:"南宁",province:"广西",country_code:"CN",map_address:"广西壮族自治区南宁市江南区白沙大道31号汽车城4号楼",address_line_1:"广西壮族自治区南宁市江南区白沙大道31号汽车城4号楼",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"南宁青秀特斯拉中心",metro_area:""},{service_id:"nanchanghengwangdelivery",title:"Nanchang Hengwang",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8898,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D江西省南昌市新建区望城新区新兴西大道139号",city:"南昌",province:"江西",country_code:"CN",map_address:"江西省南昌市新建区望城新区新兴西大道139号",address_line_1:"江西省南昌市新建区望城新区新兴西大道139号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"南昌恒望特斯拉中心",metro_area:""},{service_id:"haikouxiuyingdelivery",title:"Hainan-Haikou-Xiuying",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:10831,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D海南省海口市秀英区兴海路9号",city:"海口",province:"海南",country_code:"CN",map_address:"海南省海口市秀英区兴海路9号",address_line_1:"海南省海口市秀英区兴海路9号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"海口秀英交付中心",metro_area:""},{service_id:"dushichemingdelivery",title:"Kunming Beichen Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8883,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D云南省昆明市盘龙区北京路延长线1046号",city:"昆明",province:"云南",country_code:"CN",map_address:"云南省昆明市盘龙区北京路延长线1046号",address_line_1:"云南省昆明市盘龙区北京路延长线1046号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"昆明北辰特斯拉中心",metro_area:""},{service_id:"baodingdelivery",title:"Baoding Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:13858,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D河北省保定市莲池区长城路1485号",city:"保定",province:"河北",country_code:"CN",map_address:"河北省保定市莲池区长城路1485号",address_line_1:"河北省保定市莲池区长城路1485号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"保定特斯拉中心",metro_area:""},{service_id:"langfangdelivery",title:"Langfang Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14627,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D河北省廊坊市广阳区东环路19号",city:"廊坊",province:"河北",country_code:"CN",map_address:"河北省廊坊市广阳区东环路19号",address_line_1:"河北省廊坊市广阳区东环路19号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"廊坊特斯拉中心",metro_area:""},{service_id:"shijiazhuangdelivery",title:"Shijiazhuang Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14623,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D河北省石家庄市长安区北二环东路86号河北国际汽车园",city:"石家庄",province:"河北",country_code:"CN",map_address:"河北省石家庄市长安区北二环东路86号河北国际汽车园",address_line_1:"河北省石家庄市长安区北二环东路86号河北国际汽车园",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"石家庄特斯拉中心",metro_area:""},{service_id:"taiyuandelivery",title:"Taiyuan Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14750,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D山西省太原市马练营路59号新汇众汽车园",city:"太原",province:"山西",country_code:"CN",map_address:"山西省太原市马练营路59号新汇众汽车园",address_line_1:"山西省太原市马练营路59号新汇众汽车园",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"太原特斯拉中心",metro_area:""},{service_id:"hefeifeidongdelivery",title:"Hefei Feidong Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:8861,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D安徽省合肥市肥东县经济开发区包公大道与护城路交口南侧1号",city:"合肥",province:"安徽",country_code:"CN",map_address:"安徽省合肥市肥东县经济开发区包公大道与护城路交口南侧1号",address_line_1:"安徽省合肥市肥东县经济开发区包公大道与护城路交口南侧1号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"合肥肥东特斯拉中心",metro_area:""},{service_id:"changchunjingyuedelivery",title:"Changchun Jingyue Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14628,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D吉林省长春市净月高新技术产业发展区天普路488号",city:"长春",province:"吉林",country_code:"CN",map_address:"吉林省长春市净月高新技术产业发展区天普路488号",address_line_1:"吉林省长春市净月高新技术产业发展区天普路488号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"长春净月特斯拉中心",metro_area:""},{service_id:"harbindelivery",title:"Haerbin Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14629,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D黑龙江省哈尔滨市道外区先锋路与黄家崴子交口哈得力园区",city:"哈尔滨",province:"黑龙江",country_code:"CN",map_address:"黑龙江省哈尔滨市道外区先锋路与黄家崴子交口哈得力园区",address_line_1:"黑龙江省哈尔滨市道外区先锋路与黄家崴子交口哈得力园区",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"哈尔滨特斯拉中心",metro_area:""},{service_id:"guiyangguanshanhudelivery",title:"Guiyang Guanshanhu Tesla Center",appointment_location_id:null,distance:null,non_customer_location:"0",trt_id:14981,gmaps_url:"http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D贵州省贵阳市观山湖区林城西路248号",city:"贵阳",province:"贵州",country_code:"CN",map_address:"贵州省贵阳市观山湖区林城西路248号",address_line_1:"贵州省贵阳市观山湖区林城西路248号",address_line_2:"",address_description:"",country:"中国大陆",postal_code:"",store_hours:"",timezone:null,location_type:["Delivery","Logistics"],chinese_title:"贵阳观山湖特斯拉中心",metro_area:""}];c&&e({type:v.qg,data:s}),o.a.get("".concat(i,"/pickup-locations")).timeout({response:5e3,deadline:3e4}).query({countrycode:a}).end((function(t,n){if(!t&&n){var r=n.body;s=void 0===r?[]:r}e({type:v.qg,data:s})}))}}},2037:function(e,t,n){"use strict";n.r(t);n(577);var r=n(1),a=n.n(r),i=n(16),o=n.n(i),c=n(17),s=n.n(c),l=n(392),u=n.n(l),d=n(393),p=n.n(d),m=n(49),f=n.n(m),y=n(21),b=n.n(y),v=n(19),g=n.n(v),h=n(0),O=n.n(h),P=n(151),_=n(13),w=n(24),E=n(69),S=n(81),j=n(5),C=n(402),T=n.n(C),A=n(239),D=n.n(A),R=n(900),L=n(901),N=n.n(L),x=n(4),I=n(2),F=n(3),k=n.n(F),M=n(6),V=n.n(M),B=n(390),q=n(86),G=n(8),U=n(18),W=n.n(U),Y=n(243);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,a=Q(i);function i(){return X(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.state,a=r.OMS,i=r.Configuration,c=r.Pricing,s=o()(Y,(function(t,r,a){return Object.assign(t,K({},a,(function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];n(r.apply(e,a))})))}),{});return W()(window,"tesla.ds",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getManufacturingString:function(){return c.manufacturing_string.split(",").sort().join(",")},getOptionsPriceString:function(){return c.price_string.split(";").sort().join(";")},getMarket:function(){return a.oms_params.market},getLocale:function(){return"".concat(a.oms_params.market,"_").concat(a.oms_params.language.toLowerCase())},getPriceBook:function(){return a.pricebook},getPriceBookName:function(){return a.pricebook.meta_data.name},getPreviousSelectedOptions:function(){console.log("Functionality to be implemented")},getOptionsPerCategory:function(){return i.options_by_category},getUserSelectedOptions:function(){return i.user_selected_options},isOptionSet:function(e){return i.option_codes.includes(e)},getOMSParams:function(){return a.oms_params},getAppState:function(){return r}},s)),O.a.createElement("span",{className:"Debugger",style:{display:"none"}})}}])&&$(t.prototype,n),r&&$(t,r),i}(h.PureComponent);te.propTypes={dispatch:k.a.func.isRequired,state:k.a.shape({OMS:k.a.shape(),Configuration:k.a.shape(),Pricing:k.a.shape()}).isRequired};var ne=Object(_.connect)((function(e){return{state:e}}))(te),re=n(66),ae=n.n(re),ie=n(913);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){var t=Object(h.lazy)(e);return t.preload=e,t}var ve={PaymentOverview:be((function(){Promise.resolve().then(n.bind(null,920))})),AssetLoader:be((function(){return Promise.resolve().then(n.bind(null,156))})),EditDesignLink:be((function(){return Promise.resolve().then(n.bind(null,935))})),PaymentOverviewTrigger:be((function(){return Promise.resolve().then(n.bind(null,936))})),LexiconGroup:be((function(){return Promise.resolve().then(n.bind(null,913))}))},ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,e);var t,n,r,a=de(i);function i(){var e;se(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(me(e=a.call.apply(a,[this].concat(n))),"shouldComponentUpdate",(function(t){var n=e.props.components,r=t.components;return n.length!==r.length})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.components,n=e.isMain,r=e.withMain,a=e.isStarting,i=e.classes;return t.length?O.a.createElement(O.a.Fragment,null,n||r?O.a.createElement("div",{className:"cf-asset-wrapper"},O.a.createElement("div",{className:"group--main-content group--main-content--big group-main-content--full-asset"},t.map((function(e){var t=e.component,n=e.props,r=void 0===n?{}:n,i=e.key;if(!b()(ve,t))return null;var o=ve[t];return a?O.a.createElement(o,ce({key:"GroupComponent_".concat(t,"_").concat(i)},r)):O.a.createElement(h.Suspense,{key:"Suspense.Main.GroupComponent_".concat(t,"_").concat(i),fallback:O.a.createElement("div",{className:"tds-spinner tds-spinner--fade_in",style:{position:"absolute",height:"450px"}})},O.a.createElement(o,ce({key:"GroupComponent_".concat(t,"_").concat(i)},r)))})))):null,n?null:O.a.createElement("div",{className:V()({"tds--vertical_padding--6x":!r},{"tds--padding tds--align_center":r},"option-widget--container",ye({},i,i))},t.map((function(e){var t=e.component,n=e.props,r=void 0===n?{}:n,i=e.key;if(!b()(ve,t))return null;var o=ve[t];return a?O.a.createElement(o,ce({key:"GroupComponent_".concat(t,"_").concat(i)},r)):O.a.createElement(h.Suspense,{key:"Suspense.Aside.GroupComponent_".concat(t,"_").concat(i),fallback:O.a.createElement("div",{className:"tds-spinner tds-spinner--fade_in",style:{position:"absolute",height:"450px"}})},O.a.createElement(o,ce({key:"GroupComponent_".concat(t,"_").concat(i)},r,{classes:"".concat(t,"--section")})))})))):null}}])&&le(t.prototype,n),r&&le(t,r),i}(h.Component);ge.propTypes={isStarting:F.bool,isMain:F.bool,withMain:F.bool,isDesktop:F.bool,classes:F.string,currentNavigationKey:F.string,components:Object(F.arrayOf)(Object(F.shape)({})).isRequired},ge.defaultProps={isDesktop:!1,isStarting:!1,withMain:!1,isMain:!1,classes:"",currentNavigationKey:""};var he=Object(_.connect)((function(e,t){var n=t.isMain,r=t.withMain,a=t.components,i=a.main,o=void 0===i?[]:i,c=a.aside,s=void 0===c?[]:c,l=e.Navigation.section,u=r?o.concat(s):s;return{components:(n?o:u).filter((function(e){return(e.sections||[]).includes(l)}))}}),null)(ge),Oe=n(156),Pe=n(935),_e=n(936),we=n(394),Ee=n(920),Se=n(409);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ce={LexiconGroup:ie.default,CustomGroup:he,PaymentOverview:Ee.default,AssetLoader:Oe.default,EditDesignLink:Pe.default,PaymentOverviewTrigger:_e.default},Te=O.a.forwardRef((function(e,t){var n=e.group,r=e.sectionData,a=e.isDesktop,i=void 0!==a&&a,o=e.isAsset,c=void 0!==o&&o,s=e.withAsset,l=e.isActiveElement,u=e.isStarting,d=void 0!==u&&u,p=e.isActive,m=e.handleOnClick,f=r.component,y=r.props,b=void 0===y?{}:y,v=r.id,g=Ce[f]||null,h=b.asset;return!g&&!n||c&&!n&&!h?null:O.a.createElement("div",{role:"none",key:"".concat(c?"asset":"widget","_").concat(n||v),"data-group-id":n||v,className:V()("aside-section",{"is-active":l}),onClick:m,ref:t},p?[s&&n?O.a.createElement(Se.a,{type:"Group",key:"LocationObserver:Group:".concat(n,":").concat(n.code)},O.a.createElement(we.a,{group:n,detail_size:"full-asset",key:"GroupDetails_OptionWidget_".concat(n,"_Mobile")})):null,O.a.createElement(g,je({code:n,isDesktop:i,isMain:!1,isStarting:d},b,{key:"1"}))]:null)}));Te.propTypes={group:F.string,sectionData:Object(F.shape)({}).isRequired,isStarting:F.bool,isAsset:F.bool,isActiveElement:F.bool,isDesktop:F.bool,isActive:F.bool,withAsset:F.bool,handleOnClick:F.func.isRequired},Te.defaultProps={group:null,isDesktop:!1,isStarting:!1,isAsset:!1,isActiveElement:!1,isActive:!1,withAsset:!1};var Ae=Te,De=n(177),Re=function(e){var t=e.onPrev,n=e.onNext,r=e.currentIndex,a=e.group,i=e.model,o=e.key,c=e.isActive,s=e.assets,l=e.isCarouselOpen,u=e.isFocusOnGallery,d=e.leftFocus,p=e.rightFocus,m=a.code,f=m||o,y=Object(h.useRef)(),b=function(e){e.preventDefault();var t=document.querySelector(".gallery.".concat(f,'.is-active .gallery_asset--section.is-active [id^="video-id"]'));t&&t.currentTime===t.duration&&n()};return Object(h.useEffect)((function(){var e,t=(null===(e=y.current)||void 0===e?void 0:e.querySelector('.gallery_asset--section.is-active [id^="video-id"]'))||null;if(t)return t.currentTime=0,t.play(),t.addEventListener("timeupdate",b,!1),function(){return t.removeEventListener("timeupdate",b,!1)}}),[r]),O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:V()("gallery ".concat(f),{"is-active":c,focused:d||p}),key:m,ref:y},s.map((function(e,t){return O.a.createElement("div",{className:V()("gallery_asset--section",{"is-active":r===t}),key:"".concat(m,"__asset__").concat(e.view||e.url)},t<=r+1?[O.a.createElement(Oe.default,{className:"group--main-content--asset group--main-content--asset__".concat(m||""," ").concat(i),asset:e,key:"".concat(m,"__asset"),title:(null==e?void 0:e.title)||m,playVideo:!l}),e.title?O.a.createElement("div",{className:"tds-text--500 tds-text_color--10",key:"1"},e.title):null]:null)})),O.a.createElement("button",{type:"button",className:V()("gallery_control gallery_control__prev",{focused:d}),onClick:t,"aria-label":"gallery control previous",onFocus:function(e){return u("left",!0)},onBlur:function(e){return u("left",!1)}},O.a.createElement(De.a,{id:"tds-arrow",className:"gallery-icon-left",style:{width:"32px",height:"32px"}})),O.a.createElement("button",{type:"button",className:V()("gallery_control gallery_control__next",{focused:p}),onClick:n,"aria-label":"gallery control next",onFocus:function(e){return u("right",!0)},onBlur:function(e){return u("right",!1)}},O.a.createElement(De.a,{id:"tds-arrow",className:"gallery-icon-right",style:{width:"32px",height:"32px"}}))))};Re.propTypes={group:Object(F.shape)({asset:Object(F.oneOfType)([Object(F.arrayOf)(Object(F.shape)({})),Object(F.shape)({})])}).isRequired,model:F.string.isRequired,key:F.string,onNext:F.func.isRequired,onPrev:F.func.isRequired,currentIndex:F.number.isRequired,isActive:F.bool,assets:Object(F.arrayOf)(Object(F.shape)({})).isRequired,isCarouselOpen:F.bool},Re.defaultProps={isActive:!0,isCarouselOpen:!1,key:""};var Le=Re;n(1826);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=function(e){var t=e.group,n=e.activeGroup,r=e.excludeGroup,a=e.model,i=e.activeAssetId,o=e.isActive,c=e.galleryId,s=e.assets,l=e.isCarouselOpen,u=Fe(Object(h.useState)(0),2),d=u[0],p=u[1],m=Fe(Object(h.useState)(!0),2),f=m[0],y=m[1],b=Fe(Object(h.useState)(0),2),v=b[0],g=b[1],P=Fe(Object(h.useState)(!1),2),_=P[0],w=P[1],E=Fe(Object(h.useState)(!1),2),S=E[0],j=E[1],C=s.length;Object(h.useEffect)((function(){o&&null!==i&&d!==i&&p(i),null===i&&v!==d&&p(v)}),[c,i]);var T={onNext:function(){var e=d===C-1?0:d+1;p(e),g(e),y(!0)},onPrev:function(){var e=d<1?C-1:d-1;p(e),g(e),y(!1)},isNext:f,currentIndex:d,group:t,model:a,isActive:o,assets:s,isCarouselOpen:l,isFocusOnGallery:function(e,t){"right"===e?j(t):w(t)},leftFocus:_,rightFocus:S};return r&&n&&r===n?null:O.a.createElement(Le,T)};Me.propTypes={group:Object(F.shape)({asset:Object(F.oneOfType)([Object(F.arrayOf)(Object(F.shape)({})),Object(F.shape)({})])}).isRequired,excludeGroup:F.string,activeGroup:F.string,model:F.string.isRequired,activeAssetId:F.number,isActive:F.bool.isRequired,galleryId:F.string,assets:Object(F.arrayOf)(Object(F.shape)({})).isRequired,isCarouselOpen:F.bool},Me.defaultProps={activeGroup:null,excludeGroup:null,activeAssetId:null,galleryId:null,isCarouselOpen:!1};var Ve=Object(_.connect)((function(e,t){var n=t.gallery,r=void 0===n?null:n,i=t.excludeGroup,c=void 0===i?null:i,s=t.source,l=void 0===s?null:s,u=null;if(l){var d=l.path,p=l.defaultParams,m=void 0===p?{}:p,f=a()(e,d,{});u=o()(f,(function(e,t){return e.push(xe(xe({},m),{},{view:t})),e}),[])}var y=a()(e,"CustomGroups.".concat(t.group),{})||{},b=y.asset,v=void 0===b?[]:b,g=a()(e,"CustomGroups.".concat(t.activeGroup),{}).gallery,h=r||(void 0===g?{}:g),O=h.group,P=h.section,_=void 0===P?null:P,w=e.OMS.oms_params.model,E=u||!O||O===t.group,S=u||v.map((function(t){return xe(xe({},t),{},{title:a()(e,"".concat(t.content_path),"")})}));return{group:y,excludeGroup:c,activeGroup:t.activeGroup||"",model:w,isActive:E,activeAssetId:u?null:_,assets:S,isCarouselOpen:a()(e,"FeatureListModal.isCarouselOpen",!1)}}))(Me),Be=n(10),qe=n(541),Ge=n(246);n(1827);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var a=Ze(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(i,e);var t,n,r,a=Xe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isVisible:!1,fade:!1};var n=Object(qe.interval)(5e3),r=Be.Observable.fromEvent(window,"scroll").pipe(Object(Ge.merge)(Be.Observable.fromEvent(window,"wheel"))).take(1);return t.observable=n.takeUntil(r),t.disposable=null,t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.disposable=this.observable.subscribe({next:function(){e.setState((function(e){return e.isVisible?null:Ye(Ye({},e),{},{isVisible:!0})}))},complete:function(){e.setState({fade:!0}),setTimeout((function(){e.setState({isVisible:!1})}),500)}})}},{key:"componentWillUnmount",value:function(){this.disposable.unsubscribe()}},{key:"render",value:function(){var e=this.props.disableScrollIndicator,t=this.state,n=t.isVisible,r=t.fade;return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:V()("fade-feature",{"is-open":!e&&n,"is-close":r})},!e&&n?O.a.createElement("div",{className:"scroll-indicator-container fade"},O.a.createElement("svg",{width:"24px",height:"13px",viewBox:"0 0 24 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"scroll-indicator bounce"},O.a.createElement("title",null,"Arrow"),O.a.createElement("g",{id:"SCROLL-ALTERNATIVES",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",{id:"SCROLL-INDICATOR-PATH",transform:"translate(-1700.000000, -814.000000)",fill:"#171A20"},O.a.createElement("path",{d:"M1724,815.167804 C1724,815.441009 1723.88,815.714214 1723.64,815.903356 L1712,826.096 L1700.36,815.903356 C1699.88,815.48304 1699.88,814.831552 1700.36,814.411236 C1700.84,813.990921 1701.584,813.990921 1702.064,814.411236 L1712,823.132778 L1721.96,814.411236 C1722.44,813.990921 1723.184,813.990921 1723.664,814.411236 C1723.88,814.621394 1724,814.894599 1724,815.167804 Z",id:"cfg-scroll-indicator-Arrow"}))))):null))}}])&&He(t.prototype,n),r&&He(t,r),i}(O.a.Component);Qe.propTypes={disableScrollIndicator:F.bool.isRequired};var Je=Object(_.connect)((function(e){var t=e.FeatureListModal,n=e.Modal;return{disableScrollIndicator:t.isCarouselOpen||n.open}}))(Qe);function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nt=function(e){var t=e.scrollIndicatorStyle,n=et(Object(h.useState)(!1),2),r=n[0],a=n[1];return Object(h.useEffect)((function(){var e=Be.Observable.fromEvent(document.body,"animationend").take(1).subscribe({next:function(){},complete:function(){a(!0)}});return function(){e.unsubscribe()}}),[]),O.a.createElement(O.a.Fragment,null,r?O.a.createElement(Je,{scrollIndicatorStyle:t}):null)};nt.propTypes={scrollIndicatorStyle:Object(F.shape)({}).isRequired};var rt=nt,at=n(919);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var a=mt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?pt(e):t}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(i,e);var t,n,r,a=ut(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ft(pt(t=a.call(this,e)),"handleScroll",(function(){t.setChildProperties()})),ft(pt(t),"setChildProperties",(function(){var e,n,r=t.state,a=r.main,i=r.defaultChild,o=r.activeChildId,c=document.body.clientHeight,s=1,l=a.activeChild;a.children.forEach((function(e){if(e.current){var t=e.current.clientHeight,n=(e.current.getBoundingClientRect().top+t/2-c/2)/c,r=Math.abs(n);window.requestAnimationFrame((function(){e.current})),r<.5&&r<s?(s=r,l=e,e.current.classList.add("is-active")):e.current.classList.remove("is-active")}}));var u=(null===(e=l)||void 0===e||null===(n=e.current)||void 0===n?void 0:n.getAttribute("data-group-id"))||i;u&&o!==u&&t.setState({activeChildId:u})})),ft(pt(t),"handleClick",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.props.isScrollEnabled;n&&t.goToSection(e)})),ft(pt(t),"handleOnClick",(function(e){t.state.activeChildId!==e&&t.setState({activeChildId:e})})),ft(pt(t),"handleKeyDown",(function(e){!t.props.isModalOpen&&["ArrowDown","ArrowUp","Space"].includes(e.key)&&(e.preventDefault(),t.goToSection("ArrowDown"===e.key||"Space"===e.key))})),ft(pt(t),"goToSection",(function(e){var n,r,a=t.state.main,i=a.children.length-1;a.children.forEach((function(t,n){t.current.getAttribute("class").includes("is-active")&&(e&&n<i&&(r=a.children[n+1],t.current.classList.remove("is-active")),!e&&n>0&&(r=a.children[n-1],t.current.classList.remove("is-active")))})),null!==(n=r)&&void 0!==n&&n.current&&(r.current.scrollIntoView({block:"center",behavior:"smooth"}),r.current.classList.add("is-active"))})),ft(pt(t),"setSnap",(function(){var e=t.state.snapEnabled;t.setState({snapEnabled:!e},(function(){t.state.snapEnabled?document.body.classList.add("snap-enabled"):document.body.classList.remove("snap-enabled")}))})),t.state={defaultChild:"BATTERY_AND_DRIVE",main:{children:[],activeChild:null},activeChildId:"BATTERY_AND_DRIVE",snapEnabled:!1,scrollIndicatorStyle:{zIndex:0}},t.container=O.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){document.body.addEventListener("scroll",this.handleScroll,{passive:!0}),document.body.addEventListener("wheel",this.handleScroll,{passive:!0}),window.addEventListener("keydown",this.handleKeyDown),document.body.classList.add("snap-enabled")}},{key:"componentDidUpdate",value:function(e){var t=this.state.main,n=this.props,r=n.groupsMain,a=n.currentNavigationKey,i=n.defaultChild,o=a&&e.currentNavigationKey!==a;if(o&&(document.body.scrollTop=0),r.length&&(o||e.groupsMain.length!==r.length||!t.children.length)){var c=r.reduce((function(e){return e.push(O.a.createRef()),e}),[]);this.setState({defaultChild:i,main:ct(ct({},t),{},{children:c,activeChild:c[0]})})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.state,n=t.main,r=t.defaultChild,a=t.activeChildId,i=t.scrollIndicatorStyle,o=this.props,c=o.groupsMain,s=o.groupsAside,l=o.isDesktop,u=o.currentNavigationKey,d=o.isScrollEnabled,p=o.isModalOpen,m=o.showAssetGallery,f=o.isLayoutTablet,y=o.isLayoutMobile;return O.a.createElement("main",{ref:this.container,className:"scroll-container tds-scrollModal--".concat(p)},O.a.createElement("section",{role:"none",className:V()("option-widget","cf-layout",{"cf-layout--desk":l},{"tds--no_horizontal_padding":!l})},l&&m?O.a.createElement("div",{className:"cf-asset-wrapper"},s.map((function(e){return O.a.createElement(Ve,{activeGroup:a||r,group:e.group,gallery:null==e?void 0:e.gallery,source:null==e?void 0:e.source,excludeGroup:null==e?void 0:e.excludeGroup,detail_size:"full-asset",key:e.key})}))):null,O.a.createElement("div",{className:V()("group-section",{"option-widget--container":l})},O.a.createElement("div",{className:"group-container",onMouseEnter:function(){e.setState({scrollIndicatorStyle:{zIndex:-1}})},onMouseLeave:function(){e.setState({scrollIndicatorStyle:{zIndex:0}})}},l&&u!==I.Gd?O.a.createElement(at.default,{showTaxValue:!1,withoutPadding:!0}):null,c.length?c.map((function(t,a){var i,o;return O.a.createElement(Ae,{key:t.id,group:t.group,sectionData:t,withAsset:!l,handleOnClick:function(){return e.handleOnClick(t.group)},isActiveElement:!d||(t.group||t.id)===((null===(i=n.activeChild)||void 0===i||null===(o=i.current)||void 0===o?void 0:o.getAttribute("data-group-id"))||r),isStarting:(t.group||t.id)===r,isActive:t.sections.includes(u),className:"cf-layout ".concat(l?"cf-layout--desk":"tds--no_horizontal_padding"),ref:n.children[a]})})):null),f||y||u===I.Gd?null:O.a.createElement(rt,{scrollIndicatorStyle:i}))))}}])&&st(t.prototype,n),r&&st(t,r),i}(h.Component);function bt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.available,i=e.selected,o=ae()(a,(function(e,t){return i.includes(t)}))[0]||{},c=o.components,l=void 0===c?[]:c;return l.length?l.reduce((function(e,a){var i=a.key,o=a.component,c=a.group,l=a.props,u=void 0===l?{}:l;if(!a.sections.includes(t))return e;if(c){var d=n[c]||null;if(!d)return e;var p=d.current,m=d.child_groups,f=d.options,y=d.asset,b=u.isAsset;if((void 0!==b&&b||r)&&!y||s()(p)&&!s()(f)&&s()(m))return e}return e.push(ct(ct({},a),{},{component:o,id:i})),e}),[]):[]}yt.propTypes={groupsMain:Object(F.arrayOf)(Object(F.shape)({})).isRequired,groupsAside:Object(F.arrayOf)(Object(F.shape)({})).isRequired,currentNavigationKey:F.string.isRequired,isDesktop:F.bool.isRequired,isLayoutMobile:F.bool.isRequired,isLayoutTablet:F.bool.isRequired,isModalOpen:F.bool,isScrollEnabled:F.bool.isRequired,defaultChild:F.string,showAssetGallery:F.bool.isRequired},yt.defaultProps={defaultChild:null,isModalOpen:!1};var vt=Object(_.connect)((function(e){var t=e.App,n=e.Navigation,r=e.CustomGroups,a=e.FeatureListModal,i=e.Modal,o=t.isLayoutMobile,c=t.isLayoutTablet,s=t.showAssetGallery,l=!o&&!c,u=n.layouts,d=void 0===u?{}:u,p=n.section,m=d.main,f=void 0===m?{}:m,y=d.gallery,b=void 0===y?{}:y,v=bt(f,p,r,l),g=bt(b,p,r),h=v.length?v[0]:{},O=h.group,P=h.id;return{groupsMain:v,groupsAside:g,currentNavigationKey:p,isDesktop:l,isLayoutMobile:o,isLayoutTablet:c,isScrollEnabled:p!==I.Gd&&!o&&!c,defaultChild:O||P,isModalOpen:a.isCarouselOpen||i.open,showAssetGallery:s}}),null)(yt),gt=(n(1828),function(e){return e.active?O.a.createElement("div",{"aria-busy":"true","aria-hidden":"false","aria-label":"Loading","aria-live":"polite",className:"tds-loader tds-loader--show"},O.a.createElement("svg",{className:"tds-icon tds-icon-loader",viewBox:"0 0 51 51",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("clipPath",{id:"tds-loader-clip-path",transform:"translate(-44.5 -44.5)"},O.a.createElement("path",{fill:"none",d:"M70 45.5a2.5 2.5 0 010 5 19.5 19.5 0 1014.23 6.17 2.5 2.5 0 113.65-3.42A24.5 24.5 0 1170 45.5z"})),O.a.createElement("image",{width:"51",height:"51",clipPath:"url(#tds-loader-clip-path)",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsSAAALEgHS3X78AAALDklEQVRoQ41azW4ktxH+qtijGW2AtSXAjxQ/kI+5+OgVDC8M3/YV7EfIwcgTBIGB+BDAB8dBrMT7L40002R9OZDFrqZG6xAgmr/d9fGrKhY5I5999tmPJEVExJ8AYlYvtz4N4zS0+bje5jnW29zfSL4UkZcAXgJ4RfJVe75W1ddm9kZE3pB8a2ZvN5vNu6urq/cn5OtZSaLiIP0JwDNCmQDg47zPzBDmIPQ9lgyAiUgBkAHMAI4ichSRg4gczOyQUro3s3sRuQNw9+TJk7vwjlNgoKjynQIUhWSrdiCsaSX8KSAn2gxAIZkBzCRnkkeSBwAHVb0HcAfgTkTuHMznn3+eAyvAAASATFhWHCISn6xzV6njbH1EVT8H7BPYxsQ2oA52RjLJWUSOJI8ADmZ2UNV7kvc557vNZrPf7/f7b7755u6Eeq1eiwhmAAIsjKFVXOi+2s5c6BtB9fkhGYAiIjOaigE4iMg9yTsAd6q6F5F9znn/ww8/7E8AOZknX2pPkZlYj+rS+h4FcOp9IXVbIel2cg/gHsAdyX0pZQ9gD+D2+++/j+o1Zm3vFACiqOpgvspYbMOwCErUFe11abblSUQeZAyJpJAsWFTswGor92iMNCC3Z2dnN8+fP3f16h4VayCrvqkBEQlq1j6M1uceL9oRY9nrWIB2+TEkqTYzi0hXLzRG0NhIKd389NNPN7/DyNiGyYUKAn8IkAtHAMa6t3SmGlsP3DfWacUKyTsR2QO4VdWblNL7169f33z77bdFRD7ESM+Xl5dCUiYXAADi8xFA1j7QBZVgN2YGVXWmVu9oHwaa0bOqVwciIjcA3ovI+xcvXuwDkCj8o0BIVgdAEqraFrRGAmHyKUDAskeNzFCaw/DykDKAA4B7EdmTvDWzm5TS+/1+//76+vqdyEn1+iCQDiYAGdXN7Um5BuQAjKQENvxdp0BARArbnuKMoLLxDsDb4/H45rvvvrMTAFZPB2FmHQhQ4yZjSGjhBqpN+GrHukn1dIYFUO8Lc055tYwautyR3JO8AfCe5Ntpmt68ePFiH4T+IJATWbuquIAMaQQWnwGQu2zzd7X3ddtp/WANYQ4A9iJyIyLvROTNZrN5/cUXX7yWaicjkF6/uLhQM1tltgCXTc06rVw8lqjqaDs+DiS1gUFr8z6TSkt3EpEZEZlJ3pG8JfkupfRGRF6VUl628aeAyOXlpfIEG01mlxHdtTZQq9UNKbKwyrGPXGzphIoBVcX2qHbyppTy6v7+/rcvv/zyFo8wcnl5eZKNIQtJnbCsqqACOeVJYna0KtVrddcr0r1QdxJA30QFwD2rnbwh+ZLkf77++uvrQb2Sg2pqJQ3Aion2RCx7oMkgLOOkMZsZmtB9XwqAQFJk7SAYxtyJyDszeyki1ymlfzcgDiBhzYaYWbeJQS6M5QlVPaR9eAVomCxm1SRQvWBfeS7uXKS6XxERt6uobrckX6nqtar+6+rq6mYAkgY2HmOkAzg/P+8MuTp0j8TqZqNdFNTDVGllI1lOZRHJw3i3QV/FtyJynXP+57Nnz352AKgakj7++ONkZlpKSWaW+NA2lKTudjvd7XZ6fn7urCmdGUcZdLvX27Oz08DHsm+UCQDCO7QB9IUCgN9I/rzdbv8hIh3I5eVlKqWkUkp0tStWIgOt3RfIv4eVmsWOCI5VjSQCC3N6wMm2eaqqz0vSPBuAA8lfzOzHZ8+evQWwAbC5uLhIOeeRBSGpI4BR+FAHBjUb1cusGklXrWYPPWM5/maScyvPrXxEPYDl9o23AP7+1Vdf/Q0VyNlHH320yTlvSimbUsrGzKbtdjvtdrtpt9slM+t5AOsMrjbVrmaODuibHUi69wIaQyRFVbsn4cKWNoCpPa29I7VF+CWl9GcR2V5cXOxyzpvGSNrtdt1jmdkDQw/PkY1V3wrMiYEP2pu6AQCad+tqaGZ+R5ZIZhEpTeWeAPjL1dXV9dOnT/9wPB7Pttvt5CtcSuk2OXzvQyA8LWDoktV0MtqNKQyXWPePRcZUVdsxGM+fP//T5eXlJ6WUzTRNmnNWnhD6kfqjKYL0Y3PsXI3F76Rm3Gjq6GWKiOWcjeRxv9//9dNPP/3jr7/++tt+vz/mnC3nbAAwz7PvV6t3Ho/HB996JPW5E5pumy2mI/IgpjopNFBPl7JEyO7dipkVksdSyu08z/99+vTpJwBwe3t7ezgcjsfjsZRSSs6ZpRQDwJyz2ytTSqfk4DzPQ9MAZuzFeqXIaviQGjyiCd2zmY0eMZvZbGYH1pPkPE3T5vz8/A8AME3TtNvt5nme8+FwMDOzUoptt1vmnNnA9AWb57kD22w2BABnLgKegmAPOgGXu59HOLT5HrJy5Q3IbGYHMzuiRgQppXR2dnZWAGCeZxWRpKq5lNIBNRAOhjlnTtO0AgSA5+fnGNpWzLjAvYxl9UFydYIMKe5PhWQ2s8x6PJ5bnaoqqjpN07Rp46GqklKSeZ6LmZmqWkrJcs5MKbGUsnpG4ZsMD5ix2OkgvOKCA92wadXA4unUc7wQ983URISqKiKiKaVUSpnavQFISkpJVbWoqjkoB3AKmMsY7VdE2I8ArHbRO/CQHR/Xz/oOwtWLy21lYXMCaKpYp9VwP6WUSFoQDEDdt8xMUkpSSqGrXdSIaZqYc4bLHGStx+aoiwMAWDXumK21dfUSETOzHu6gRc5tDK15SlX180lKKa1Oo6yxV5GWmsp1UNvttrOiqv2OASFq8UBzpYOeBmD95gVL/EYAxZmx6o4jyMgwmpAi9eoqoaoqp2lCzhnTNMHa9VFjyTVApKp393SRLQBSSqHfaK6ARKYGAGyCd0BBxaITWN3mtPd6HKeq6lGCTtOkpZQeeagqrN6Mehxo0WaijF53Qaf2YfgqdQQLCLamLuCoZmx24wA9ByBQVeScO6CWiXqmwWazQc7Zr3gdEIGVE/LbVMhy1mIphdM09Ytzl7+7YAfh2LColTm4UXgH6vO5Do2QUoItUbGqqrWysF6QcGCGqupGbmjHdZdxmiZGUN1mHgPh7Q6oNcXV726apLl7dXV3ZlBf2INRrfdyrmIEqmGPzFhzvw7OZSml0B2Bg+rMNIRRcHqSdvRlULUApANyVoaPwlUjAiml9ItGktrmamTG2Wh2qQ2cpZQAVFUrpaC9b3EAQTVWdW0X4Q5EVZ0dilQP08rmdal6jJi4OAAxsxWgnLNIsyEfU0rRCKipJDCoWpB1iZrJhQ0fFNpGIF3NGgjfAB1g38z8Q2PiIwx5f0rJmn0pqi2qVodgZoaUEkopq2cPNNk82gCqsxCBxDFo9uXCW9tkIzutrX+4gYi2I+7pYm4ALACCav/9hS2Ok247QXAXelUfy57aKhGA78wkl3DI2eHg0errBA6ilCIMoDybmTo7Td06IF8UqbEepdnOyjX70wXzNqCHJe5BzBlwFrzcwKGVH6QmiJDVs0UQzo7WTdW9n1o1TDQjWgHS5jBWavZ7QFCdQVe7OHZ8RkaizXABAFezmAd2XA0hUt1hE1raewFgBWgaQQwC9dX28shC6MeYot14ioIDQM55BcoB+VirfzQSd8eufg6ifQcA1mqGAchoN8Bi4N7mLJwCOQIZkwvv77DwGyW5vqNzVfJ5J9Xs/wUylGN07bR42T/4OIqQGFip1bXNODMuNKvtdHArNQuCnHQEQ1s3KLcFZ6QJH+c+msjVzxMEFkcgIrS6v5ADM65W7uFGQH7h/ahHcxdrIdZq9c4I8PB6aqx7agAAVEeg9W6gM+F5bI+2lFJa2ZfX/wfatzqKbvkfOAAAAABJRU5ErkJggg=="})),O.a.createElement("svg",{className:"tds-icon tds-icon-logo",viewBox:"0 0 160 160",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("g",{fill:"var(--tds-icon--fill, #171a20)",transform:"translate(30 30)"},O.a.createElement("path",{d:"M50 99.8l14-78.7c13.3 0 17.5 1.5 18.1 7.4 0 0 8.9-3.3 13.5-10.1C78 10.3 60.3 9.9 60.3 9.9L50 22.5 39.7 9.9s-17.7.4-35.3 8.5c4.5 6.8 13.5 10.1 13.5 10.1.6-6 4.8-7.4 18.1-7.4l14 78.7z"}),O.a.createElement("path",{d:"M50 6.3c14.2-.1 30.5 2.2 47.2 9.5 2.2-4 2.8-5.8 2.8-5.8C81.8 2.7 64.7.3 50 .2 35.3.3 18.2 2.7 0 10c0 0 .8 2.2 2.8 5.8 16.7-7.3 33-9.6 47.2-9.5z"})))):null});gt.propTypes={active:F.bool.isRequired};var ht=Object(_.connect)((function(e){return{active:e.Loader.active}}))(gt),Ot=n(251),Pt=n(898);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var a=Dt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?At(e):t}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=Object(Ot.a)((function(){return n.e(10).then(n.bind(null,2078))})),Nt=Object(Ot.a)((function(){return n.e(20).then(n.bind(null,2079))})),xt=Object(Ot.a)((function(){return n.e(19).then(n.bind(null,2080))})),It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(o,e);var t,n,r,i=Ct(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Rt(At(t=i.call(this,e)),"setCarouselActiveView",(function(e){t.setState({carouselActiveView:e})})),Rt(At(t),"onCloseCarousel",(function(){var e=t.props.closeCarouselModal;t.setState({isFadeOut:!0}),setTimeout((function(){e(),t.setState({isFadeOut:!1,carouselActiveView:""})}),500)}));var n=e.selectedView;return t.state={isFadeOut:!1,docBody:document.getElementsByTagName("body")[0],carouselActiveView:n},t}return t=o,(n=[{key:"render",value:function(){var e=this.state,t=e.isFadeOut,n=e.docBody,r=e.carouselActiveView,i=this.props,o=i.CustomGroups,c=(i.carouselTriggerText,i.groupName),l=i.isCarouselOpen,u=i.isLayoutMobile,d=i.selectedView,p=Et(i,["CustomGroups","carouselTriggerText","groupName","isCarouselOpen","isLayoutMobile","selectedView"]),m=a()(o,"".concat(c,".groups"),[]).filter((function(e){return o[e]}));if(!m.length)return null;var f=[];if(l){n.classList.contains("no-scroll-cfg")||(n.classList.add("no-scroll-cfg"),n.classList.add("no-scroll"));var y=r&&r.length>0?r:m[0];f=m.map((function(e){var t=o[e],n=a()(t,"components",[]),r=t.options,i=void 0===r?[]:r,c=t.current,l=void 0===c?[]:c;return i.length&&s()(l)?null:s()(t.child_groups)?n.length?{option:t,component:O.a.createElement(Pt.a,{group:t,components:n,classes:"groupComponent--container"})}:{option:t,component:O.a.createElement(Nt,{option:t,selectedCard:y})}:{option:t,CustomGroups:o,component:O.a.createElement(xt,{groups:t,CustomGroups:o,modelCode:p.modelCode,isLayoutMobile:u})}}))}else n.classList.remove("no-scroll"),n.classList.remove("no-scroll-cfg");var b=f?f.filter((function(e){return null!==e})):[],v=a()(o,"".concat(c,".aria_label"),"");return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:V()("cf-carousel-container",{"is-open":l,"is-close":t})},l&&f.length?O.a.createElement(Lt,wt({onCloseCarousel:this.onCloseCarousel,id:c,panels:b,label:v,setCarouselActiveView:this.setCarouselActiveView,preselectedView:d||r},p)):null))}}])&&St(t.prototype,n),r&&St(t,r),o}(h.Component);It.propTypes={CustomGroups:Object(F.shape)({}).isRequired,closeCarouselModal:F.func.isRequired,analyticsTriggerText:F.string,modelCode:F.string.isRequired,isCarouselOpen:F.bool.isRequired,groupName:F.string.isRequired,carouselTriggerText:F.string,isLayoutMobile:F.bool,selectedView:F.string},It.defaultProps={carouselTriggerText:"",analyticsTriggerText:"",isLayoutMobile:!1,selectedView:null};var Ft=Object(_.connect)((function(e){var t=e.CustomGroups,n=e.FeatureListModal,r=e.OMS,a=e.App,i=r.oms_params,o=(void 0===i?{}:i).model,c=a.isLayoutMobile;return{CustomGroups:t,modelCode:o,isCarouselOpen:n.isCarouselOpen,groupName:n.groupName,isLayoutMobile:c,selectedView:n.selectedView}}),(function(e){return{closeCarouselModal:function(){return e(Object(G.closeFeatureModal)())}}}))(It);function kt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=function(e){var t=e.values,n=e.didUpdate;return Object(h.useEffect)((function(){n.apply(void 0,kt(t))}),t),null};function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var a=zt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?Yt(e):t}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){var t=Object(h.lazy)(e);return t.preload=e,t}var Xt=Kt((function(){return n.e(24).then(n.bind(null,2091))})),$t=Kt((function(){return n.e(13).then(n.bind(null,2075))})),Zt=Kt((function(){return n.e(26).then(n.bind(null,2076))})),Qt=Kt((function(){return Promise.resolve().then(n.bind(null,919))})),Jt=Kt((function(){return n.e(29).then(n.bind(null,2092))})),en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(o,e);var t,n,r,i=Ut(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ht(Yt(t=i.call(this,e)),"toggleEnergyLead",(function(e){(0,t.props.dispatch)(Object(G.toggleEnergyLeadSelection)(e))})),Ht(Yt(t),"handleViewedLeadCard",(function(e){(0,t.props.dispatch)(Object(G.trackLeadCardView)(e))})),Ht(Yt(t),"toggleAccessorySelection",(function(e){(0,t.props.dispatch)(Object(G.toggleAccessorySelection)(e))})),Ht(Yt(t),"handleListeners",(function(){var e=function(){var e=Object(x.v)(),n=t.props.dispatch,r=!1;return e.isLayoutMobile?(e.isLayoutMobileAdjusted&&(r=!0),n(Object(G.updateScreenLayout)(I.ef,r))):e.isLayoutTablet?(e.isLayoutMobileAdjusted&&(r=!0),n(Object(G.updateScreenLayout)(I.ff,r))):n(Object(G.updateScreenLayout)(I.df))};return window.addEventListener("resize",e,!1),window.addEventListener("hashchange",(function(){var e=t.props.dispatch;window.scroll(0,0),e(Object(G.navigationSelectKey)({key:window.location.hash.substring(1)}))})),document.body.addEventListener("keydown",(function(){Object(B.startIndicatingFocus)(document.body)})),document.body.addEventListener("mousemove",(function(){Object(B.stopIndicatingFocus)(document.body)})),window.addEventListener("scroll",(function(){t.props.Modal.open||document.documentElement.style.setProperty("--scroll-y","".concat(window.scrollY,"px"))})),{stop:function(){window.removeEventListener("resize",e,!1)}}})),Ht(Yt(t),"updateBg",(function(e,t,n){var r=document.documentElement.style.getPropertyValue("--scroll-y"),a=document.body;t||n?e?(a.classList.add("body-fixed"),a.style.top="-".concat(r)):(a.classList.remove("body-fixed"),a.style.top="",window.scrollTo(0,parseInt(r||"0"))):a.classList.contains("body-fixed")&&(a.classList.remove("body-fixed"),a.style.top="")})),t.payXUIRef=O.a.createRef(),t.state={showHeader:!0,showFooter:!0},t}return t=o,(n=[{key:"getChildContext",value:function(){var e=this.props,t=e.Locale,n=a()(t,"find_my_tesla.strings",{}),r={};return{payXUIRef:this.payXUIRef,i18n:function(i,o,c,s){if(i.includes("state."))return a()(e,i.replace("state.",""));s=s||{};var l=!1;return 2===arguments.length&&"string"==typeof arguments[1]?(l=arguments[1],o=null):3===arguments.length?"string"==typeof arguments[1]?(s=arguments[2],l=arguments[1]):"string"==typeof arguments[2]&&(l=arguments[2]):4===arguments.length&&(l=c),(r=l?a()(t[l],"strings",{}):n)?Object(w.get)(i,o,r,s):null}}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.Navigation,r=e.ApplicationFlow,i=e.App,o=e.FinancingOptions,c=e.ReviewDetails,l=r.canModifyOrder,u=c.isDeliveryDetailsRequired;t(Object(G.fetchOMS)()),setTimeout((function(){t(Object(G.userDevice)()),t(Object(G.getUserLocation)()),t(Object(G.updateRegistration)())}),200),a()(this.props,"Payment.CreditCardDetail.IsProfileExists")&&t(Object(G.updateCreditCardDetails)(a()(this.props,"Payment.CreditCardDetail"))),a()(this.props,"Payment.serverErrors.".concat(I.uc))&&t(Object(G.addAlert)({message:Object(x.L)("common.errors__genericOrderProcessing")})),this.listeners=this.handleListeners(),t(Object(G.navigationSelectKey)({key:n.section,force:!0}));var d=r.referral,p=a()(window.tesla,"reviewDetails",{})||{},m=i.isLocationSelectorEnabled;i.isPickupLocationsEnabled&&t(Object(G.getPickupLocations)());var f=Object(x.F)(),y=a()(f,"financeModalTab",null),b=a()(o,"activeTabs",[]),v=y&&b.indexOf(y)>-1;if(!s()(d)&&a()(d,"isValid")&&s()(p))t(Object(G.openModal)(I.Re,{className:"session-time-out--container",genericWrapper:!1}));else if(!m||u||l){if(v){var g=a()(f,"financeProduct",null);"string"==typeof g&&""!==g&&t(Object(G.selectTab)(g)),t(Object(G.openModal)(I.dc,{selectedTab:y,title:"",genericWrapper:!0,header:{display:!0,logo:!1,close:!0},size:I.ld}))}}else t(Object(G.openModal)(I.tg,{className:"session-time-out--container",genericWrapper:!0,size:I.qd}))}},{key:"render",value:function(){var e=this.props,t=e.Navigation,n=e.App,r=e.Modal,a=e.Assets,i=r.open,o=n.isLayoutMobile,c=n.isLayoutTablet,s=n.displayCountrySelection,l=n.enableCyberpunk,u=n.showSummaryPanelFooter,d=n.availableCountrySelection,p=n.localeSelector,m=n.uiLocale,f=n.uiCountry,y=n.uiLanguage,b=a.baseURL,v=void 0===b?"":b,g=t.containerBG,P=void 0===g?null:g,_=t.section,w=this.state,E=w.showHeader,S=w.showFooter,j=o?"mobile":c?"tablet":"desktop",C=P&&!o&&!c,T=!o&&!c;return O.a.createElement(O.a.Fragment,null,O.a.createElement(Vt,{values:[i,o,c],didUpdate:this.updateBg}),E?O.a.createElement(h.Suspense,{fallback:O.a.createElement(O.a.Fragment,null)},O.a.createElement(Zt,{availableCountrySelection:d,displayCountrySelection:s,dark:l,localeSelector:p,locale:m,country:f,language:y})):null,O.a.createElement("div",{ref:"mainContainer",className:V()("tds-shell-content cf-shell-content main-page",{"cf-shell--desktop":T},"main-page--".concat(j),"".concat(_,"-page"),{"tds-theme--replicant":l}),style:C?{backgroundImage:"url(".concat(v).concat(P,")")}:null},O.a.createElement(h.Suspense,{fallback:O.a.createElement(O.a.Fragment,null)},O.a.createElement(Jt,null)),(o||c)&&"payment"!==_?O.a.createElement(h.Suspense,{fallback:O.a.createElement(O.a.Fragment,null)},O.a.createElement(Qt,{showTaxValue:!1,withoutPadding:c})):null,O.a.createElement(h.Suspense,{key:"Main.Suspense.SideScroll",fallback:O.a.createElement(ht,{active:!0})},O.a.createElement(vt,null)),O.a.createElement(h.Suspense,{key:"Main.Suspense.CyberpunkTheme",fallback:O.a.createElement(O.a.Fragment,null)},!!l&&O.a.createElement($t,null)),O.a.createElement(ht,null),O.a.createElement(ne,null),O.a.createElement(Ft,null)),u?O.a.createElement(q.Motion,{defaultStyle:{y:0},style:{y:Object(q.spring)(160*-(r.open||!S),{precision:1e-4})}},(function(e){return O.a.createElement("footer",{id:"footer",className:V()("tds-shell-footer",{"tds-theme--replicant":l})},O.a.createElement("div",{className:V()("tds-flex","cf-footer-layout cf-footer--".concat(j)),style:{bottom:e.y}},O.a.createElement("div",{className:V()({"tds-layout-item":!T},"tds-flex summary-panel--footer")},O.a.createElement(h.Suspense,{key:"Footer.Suspense.Footer",fallback:O.a.createElement(O.a.Fragment,null)},O.a.createElement(Xt,null)))))})):null)}}])&&qt(t.prototype,n),r&&qt(t,r),o}(h.Component);en.childContextTypes={i18n:F.func.isRequired,payXUIRef:Object(F.shape)({}).isRequired};var tn=Object(F.shape)({selected:Object(F.arrayOf)(F.string),available:Object(F.shape)({})});en.propTypes={Assets:Object(F.shape)({baseURL:F.string}).isRequired,dispatch:F.func.isRequired,Navigation:Object(F.shape)({section:F.string,containerBG:F.string,layouts:Object(F.shape)({menu:tn,main:tn,footer:tn})}).isRequired,ApplicationFlow:Object(F.shape)({referral:Object(F.shape)({}),canModifyOrder:F.bool}).isRequired,App:Object(F.shape)({isLocationSelectorEnabled:F.bool,isLayoutMobile:F.bool,isLayoutTablet:F.bool,sibling:F.string,locale:F.string,showRefundPolicy:F.bool,displayCountrySelection:F.bool,displayCountryFlag:F.bool,isEnergyLeadSectionEnabled:F.bool,language:F.string,isCountryFlagEnabled:F.bool,countryCode:F.string,navMinimal:F.bool,availableCountrySelection:Object(F.arrayOf)(F.string),isPickupLocationsEnabled:F.bool}).isRequired,Locale:Object(F.shape)({}).isRequired,Modal:Object(F.shape)({open:F.bool}).isRequired,ReviewDetails:Object(F.shape)({refundPolicySource:Object(F.shape)({}),isDeliveryDetailsRequired:F.bool}).isRequired,FinancingOptions:Object(F.shape)({}).isRequired},en.defaultProps={};var nn=Object(_.connect)((function(e){return e}))(en),rn=n(99),an=n(305),on=n(306),cn=n.n(on),sn=n(64),ln=n(61),un=n(388),dn=n(389),pn=n(301),mn=n(302),fn=n(387);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var vn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==yn(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+yn(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),bn(t,null,[{key:"of",value:function(){return new this(pn.of.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(Object(mn.from)(e,t))}}]),bn(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fn.filter.call(this,(function(e){var n=e.type,r=t.length;if(1===r)return n===t[0];for(var a=0;a<r;a++)if(t[a]===n)return!0;return!1}))}}]),t}(Be.Observable),gn="@@redux-observable/EPIC_END",hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On={adapter:{input:function(e){return e},output:function(e){return e}}};function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;if("function"!=typeof e)throw new TypeError("You must provide a root Epic to createEpicMiddleware");t=hn({},On,t);var n=new ln.Subject,r=t.adapter.input(new vn(n)),a=new ln.Subject,i=void 0,o=function(o){return i=o,function(o){var c;return(c=un.map.call(a,(function(e){var n="dependencies"in t?e(r,i,t.dependencies):e(r,i);if(!n)throw new TypeError('Your root Epic "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})),dn.switchMap).call(c,(function(e){return t.adapter.output(e)})).subscribe(i.dispatch),a.next(e),function(e){var t=o(e);return n.next(e),t}}};return o.replaceEpic=function(e){i.dispatch({type:gn}),a.next(e)},o}n(152);var _n=n(403);n(1829);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jn=window.tesla||{},Cn=a()(jn,"Order",{}),Tn=a()(jn,"rn",null),An=a()(jn,"product",null),Dn=a()(jn,"product.isOverviewEnabled",!1),Rn=An&&Dn,Ln=a()(jn,"product.modelRoute",null),Nn=a()(jn,"product.condition",null),xn=a()(jn,"omsParams.market","US"),In=Object(w.getCurrencyCode)(Object(S.normalizeGrayMarket)(xn)),Fn=a()(jn,"omsParams.language","en"),kn=o()(D.a.getStateList(xn),(function(e,t,n){var r=Object(x.L)("states.".concat(n),null,"common.geo",{returnNullWhenEmpty:!0})||t;return e.push({value:n,label:r}),e}),[]),Mn=Object(x.F)(),Vn=Mn.postal,Bn=Mn.coord,qn="Y"===Mn.share,Gn=null,Un=null,Wn="";if(Vn&&T()(Vn,{countryCode:xn})&&(Wn=Vn),Bn){var Yn=Bn.split(","),zn=Yn[0]||"",Hn=Yn[1]||"";zn&&Hn&&Object(x.Z)(zn,Hn)&&(Gn=parseFloat(zn),Un=parseFloat(Hn))}var Kn,Xn={PostalCode:Wn,Latitude:Gn||null,Longitude:Un||null},$n=a()(jn,"App.locale","".concat(Fn,"_").concat(xn)),Zn=I.Rd,Qn=a()(Cn,"orderDetails.orderStatus",I.Ye),Jn=a()(jn,"savedConfiguration"),er=!s()(Tn)||!s()(a()(Cn,"orderDetails.invitationDate",null)),tr=_n.InitialState.object.sections.filter((function(e){switch(Qn){case I.Ye:case I.v:case I.Qd:default:return!(An&&!Dn)||e.key===I.Gd}})).map((function(e){return e.key})),nr=(Kn=window.location.hash.substring(1),tr.includes(Kn)||(Kn=u()(tr)),Kn),rr=a()(window,"tesla.referral");s()(rr)||(rr.formatSCCreditAmount=rr.superchargerCreditAmount?Object(j.formatCurrency)(rr.superchargerCreditAmount,$n,{showCurrSymbolForeign:!0}):""),Tn&&(rr=Object(x.V)(rr,Tn,Jn)),b()(window,"tesla.resourceBaseUrl")&&(n.p=window.tesla.resourceBaseUrl);var ar="CN"===xn?Object(x.i)(D.a.getAddressByCountryCode(xn)):[],ir=p()(a()(jn,"App.availableLocales",[{USA:"en_US"}]),(function(e){return g()(e)?e:[e]})),or=a()(window,"tesla.product.data.isReservation",!1),cr=b()(window,"tesla.product.data")&&!or,sr=!!cr&&I.Uc===a()(window,"tesla.product.data.TitleStatus","").toUpperCase(),lr=!!cr&&!!a()(window,"tesla.product.data.Hash",""),ur=cr&&a()(window,"tesla.is_transport_fee_flow_enabled",!1),dr=sr?a()(window,"tesla.product.data.TradeInType",null):null,pr=a()(jn,"App.isBurstMode",!1),mr=a()(jn,"reviewDetails",{})||{},fr=mr.AccountDetail,yr=void 0===fr?{}:fr,br=mr.RegistrationDetail,vr=void 0===br?{}:br,gr=mr.ErrorCode,hr=void 0===gr?null:gr,Or=mr.BillingAddress,Pr=void 0===Or?{}:Or,_r=mr.VehicleDetail,wr=void 0===_r?{}:_r,Er=hr?Sn({},hr,hr):{},Sr={CreditCardDetail:a()(jn,"CreditCardDetail"),CurrencyCode:In,CountryCode:xn,configs:a()(jn,"payments"),time:a()(jn,"time"),PaymentDetail:{PayorName:a()(jn,"CreditCardDetail.PayorName",""),BillingInfoDetail:Pr,CurrencyCode:In,CountryCode:xn},PickupLocations:a()(jn,"PickUpLocations",[]),provinceData:ar,acceptedCardTypes:a()(jn,"payments.ccTypes",[]),depositAmount:a()(jn,"paymentAmounts.EXTRA_DEPOSIT",null),serverErrors:Er},jr=Object(x.D)(Sr),Cr=!!Tn,Tr=N()(window.location.href,!0).query.code,Ar=Object(x.N)();if(window.tesla.wechat_pay_enabled&&Ar&&!Tr){var Dr=encodeURIComponent(window.location.href),Rr=encodeURIComponent(window.tesla.payx_redirect_uri+Dr),Lr="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(window.tesla.wechat_appid,"&redirect_uri=").concat(Rr,"&response_type=code&scope=snsapi_base&state=123&connect_redirect=1#wechat_redirect");window.location.href=Lr}var Nr=a()(jn,"payx_ui_enabled",!1),xr=a()(jn,"cr_enabled",!1),Ir=a()(jn,"cr_ip_check_enabled",!1),Fr=f()(Object(Y.InitialState)(En(En({},window.tesla.omsParams),{},{isInventory:cr,isUsedInventory:sr,isComboInventory:lr,isProductWithOverview:Rn,tradeInType:dr,isInvited:er,isReservation:or,isEditDesign:Cr})),{Accessories:{},App:En({code:Tr,isWeChatBrowserEnv:Ar,analytics_variant_map:a()(jn,"analytics_variant_map",null),sibling:a()(jn,"sibling"),locale:a()(jn,"App.locale"),wol_key:a()(jn,"App.wol_key"),language:Fn,countryCode:xn,uiCountry:a()(jn,"App.uiCountry"),uiLanguage:a()(jn,"App.uiLanguage"),uiLanguageDirection:a()(jn,"App.uiLanguageDirection","ltr"),uiLocale:a()(jn,"App.uiLocale"),forceZipCodeOnEditRegistrationAddress:a()(jn,"App.forceZipCodeOnEditRegistrationAddress"),availableCountrySelection:ir,displayCountrySelection:ir.length>2,isSaveDesignLiteEnabled:a()(jn,"save_design_feature_enabled",!1),isSaveDesignHeavyEnabled:!1,showFederalTaxBanner:a()(jn,"show_tax_credit_banner",!1),adyenDf:a()(jn,"adyenDf",{enabled:!1}),isPayXUIEnabled:Nr,isApplePayInPayX:Nr,isBurstMode:pr,closeOpenModalsOnNavigation:!Rn,isTransportFeeCollectionEnabled:ur,showInspectionModal:a()(jn,"showInspectionModal",!1)},Object(x.v)()),ApplicationFlow:{orderStatus:Qn,alertDetails:a()(Cn,"alertDetails"),isInvited:er,canModifyOrder:a()(Cn,"enableOrderModification",!1),userId:a()(Cn,"orderDetails.userId",null),surveyCompleted:a()(Cn,"alertDetails.survey",!1)===I.O,survey:{results:{orderType:Zn}},referral:rr,isSessionSet:!!Tn,isCryptoEnabled:xr,isCryptoIpCheckEnabled:xr&&Ir},ApplePay:{enabled:!!a()(jn,"ap_enabled"),apMerchantId:a()(jn,"ap_merchant_id")},EnergyLeadPanel:{},Payment:En(En({},Sr),{},{PaymentDetail:En(En({},Sr.PaymentDetail),jr)}),DeliveryDate:{startDate:a()(jn,"DeliveryDate.eddStartDate"),endDate:a()(jn,"DeliveryDate.eddEndDate")},Location:{sources:{registration:En(En({},a()(jn,"Survey.registrationAddress",{})),{},{countryCode:xn}),delivery:En(En({},a()(jn,"Survey.deliveryAddress",{})),{},{countryCode:xn})}},Configuration:{rn:Tn,savedConfiguration:Jn},User:a()(jn,"userType",{}),Navigation:{hideNavigation:!Rn,allowedSections:tr,section:nr},Address:{stateList:kn},ReviewDetails:{product:An?{isInventory:!or,isUsedInventory:sr,isComboInventory:lr,type:An.type,data:An.data,isProductWithOverview:Dn,isReservation:or,modelRoute:Ln,condition:Nn}:null,checkEmailAvailability:!pr,errorState:hr,AccountDetail:yr,RegistrationDetail:vr,VehicleDetail:wr,DeliveryDetails:Xn,isSalesReferred:cr&&qn}});window.dataLayer||(window.dataLayer=[]),a()(Fr,"App.reduxLogger")&&console.log("App init with the state:",Fr);var kr=Object(x.P)($n);Object(w.setLocale)(kr,"_"),Object(E.setLocale)(kr);var Mr,Vr,Br,qr,Gr,Ur=Fr.App.debug&&R.composeWithDevTools,Wr=(Mr=Fr,Vr=Ur,Br=a()(window,"tesla.App.reduxLogger"),qr=Vr||rn.compose,Gr=[an.default,Pn(Object(sn.rootEpic)())],Br&&Gr.push(cn()()),Object(rn.createStore)(Object(sn.rootReducer)(),Mr,qr(rn.applyMiddleware.apply(void 0,Gr.concat([function(){return function(e){return function(t){var n;try{n=e(t)}catch(e){Br&&(console.error("ERROR on action:",t),console.error("error object:",e))}return n}}}])))));Object(P.render)(O.a.createElement(_.Provider,{store:Wr},O.a.createElement(nn,null)),document.getElementById("root"))},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));n(1);var r=n(2);function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=function(e){return function(t){t({type:r.Af,selectedForm:e})}},o=function(e){return e.filter((function(e){return[r.Sf,r.Pf,r.Rf,r.Mf,r.Nf,r.Kf,r.Of,r.Qf,r.Uf,r.nd,r.eg].includes(e.type)})).map((function(e){switch(e.type){case r.nd:var t=e.props,n=t.form,i=a(t,["form"]);return{type:r.Af,selectedForm:n,props:i};default:return{type:r.jc,leaseTerm:e.leaseTerm,loanTerm:e.leaseTerm,loanDistance:e.loanDistance,leaseApr:e.leaseApr,leaseDistance:e.leaseDistance,financeeApr:e.financeApr,balloonPayment:e.balloonPayment,fuelParams:e.params,residualAmount:e.residualAmount}}}))}},224:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(2),a=n(311),i=n.n(a),o=n(23);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return{type:r.xb,key:e}},d=function(e){return{type:r.wg,key:e}},p=function(e,t){return e.filter((function(e){var n=t.getState();switch(e.type){case r.xb:o.a.fireOptionInteractionEvent(s(s({},e),{},{value:n.EnergyLeadPanel.leadCardStatuses[e.key]}));break;case r.wg:o.a.fireOptionInteractionEvent(e);break;case r.Ce:var a=n.EnergyLeadPanel.leadCardStatuses,c=a.homeCharging,l=a.homeEnergy;if(c||l){var u=i()([c?r.vb[r.Ec]:void 0,l?r.vb[r.Gc]:void 0]).join(",");o.a.fireTagEvent({event:"configurator","cfg-type":"energy-upsell-ordered",interaction:"".concat(u," - ").concat(n.Configuration.rn)})}break;default:return!1}return!0})).map((function(){return{type:r.pg}}))}},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(21),a=n.n(r),i=n(1),o=n.n(i),c=n(63),s=n.n(c),l=n(67),u=n.n(l),d=n(310),p=n.n(d),m=n(45),f=n.n(m),y=n(17),b=n.n(y),v=n(9),g=n(2);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={ms:"Model S",mx:"Model X",m3:"Model 3",my:"Model Y",mp:"cybertruck"},w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"fireOnce",value:function(t,n){e.counts[t]||e.fireEvent(t,n)}},{key:"fireEvent",value:function(t,n){var r={event:{name:t}};switch(t){case g.Sd:e.firePDPTag(n);break;case g.yg:e.fireVirtualPageTag(n);break;default:return}e.counts[t]?e.counts[t]++:e.counts[t]=1;var a=e.events[t];if(a)for(var i=0,o=a.length;i<o;i++)a[i](r)}},{key:"firePDPTag",value:function(t){var n=_[Object(v.O)(t)];e.fireTagEvent({event:"dataLayer-loaded",pageCategory:"Product Details",autoType:"new",referral:!1,ecommerce:{detail:{products:[{id:n,name:n,brand:"Tesla",category:"auto"}]}}})}},{key:"fireVirtualPageTag",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,a=Object(v.O)(r)||"",i="/virtual/".concat(a,"-configurator/").concat(t),o=t;n&&(o=n),e.events.virtualPageUrl!==i&&(e.fireTagEvent({virtualPageUrl:i,event:"virtualPageview",virtualPageTitle:"".concat(a.toUpperCase()," CFG - ").concat(o)}),e.events.virtualPageUrl=i)}},{key:"fireTabChangeEvent",value:function(t){e.fireTagEvent({event:"configurator","cfg-type":e.cfgType,interaction:"".concat(t.source,"-").concat(t.tabID)})}},{key:"fireConfigurationChangeTag",value:function(t){var n=[],r={TRIM:"battery",DRIVE_MODE:"drivetrain",PAINT:"color",WHEELS:"wheels",AUTOPILOT:e.getAutoPilotType(t.options),PREMIUM_PACKAGE:"interior-type",INTERIOR:"interior-color"},i={WHEEL:"WHEELS"};s()(t.set,(function(e){s()(t.userSelectedOptionsByGroup.matchedCodes,(function(t,o){var c=a()(i,o)?i[o]:o;a()(r,c)&&u()(t,e)&&n.push({keyToUse:c,selectedOption:e})}))})),0===n.length&&0===t.userSelectedOptionsByGroup.nonMatchedCodes.length&&t.set[0].includes("$APF2")&&e.fireTagEvent({event:"configurator","cfg-type":e.cfgType,interaction:t.interaction?t.interaction:"remove-fsd"}),s()(n,(function(n){var a=r[n.keyToUse];a&&(t.panelName&&t.interaction?e.fireTagEvent({event:"configurator","cfg-type":e.cfgType,interaction:"".concat(t.interaction,"-").concat(n.selectedOption)}):e.fireTagEvent({event:"configurator","cfg-type":e.cfgType,interaction:"".concat(a,"-").concat(n.selectedOption)}))}))}},{key:"fireOptionInteractionEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="",a="",i=null,o=null,c=["SUMMARY_PANEL_FINANCE_TERM_CHANGE","SUMMARY_PANEL_DOWNPAYMENT_CHANGE","SUMMARY_PANEL_FINANCE_APR_CHANGE"];switch(t.component_target){case"AssetLoader":r="interior-image",a="expand";break;case"GasSaving":r="savings-calculation",a="expand";break;case"Video":r="fsd-ap-video",a="play";break;case"FinanceContainer":r="ribbon",a="savings";break;case"SaveDesign":a="view-open",i="form-interaction",o="save design"}switch(t.type){case"PAYMENT_FORM_TOGGLE":r="ribbon",a="savings";break;case"SUMMARY_PANEL_REGION_CHANGE":r="change-state",a="toggle";break;case g.xb:r="energy-upsell",a="".concat(g.vb[t.key]," - ").concat(t.value?"click":"unclick");break;case g.wg:r="energy-upsell",a="".concat(g.vb[t.key]," - impression")}switch(u()(c,t.type)&&void 0!==t.userClicked&&t.userClicked?(r="financing",a="finance-options"):t.type===g.xb?(r="energy-upsell",a="".concat(g.vb[t.key]," - ").concat(t.value?"click":"unclick")):t.type===g.wg&&(r="energy-upsell",a="".concat(g.vb[t.key]," - impression")),t.selectedForm){case g.hc:case g.fc:case g.ec:case g.gc:case g.ic:r=e.cfgType,a="".concat(n,"-").concat(t.selectedForm);break;case"FinancingOptions":r=e.cfgType,a="".concat(n,"-finance-options");break;case"loan":r="loan-after-savings",a="expand"}var s={event:i||"configurator","cfg-type":r,formType:o,interaction:a};null==s.formType&&delete s.formType,s["cfg-type"].length&&s.interaction.length&&e.fireTagEvent(s)}},{key:"fireInteractionTag",value:function(t){var n=t.action,r=t.userInteraction,a=void 0!==r&&r,i=t.nameOfWidget,c=void 0!==i&&i,s=t.eType,l=void 0!==s&&s,u=t.state,d=o()(n,"component_target"),p=n.type,m=_[Object(v.O)(u)].toLowerCase().replace(" "),f="",y="view-open",b="User Requested";switch(a&&(y=a),c&&(f=c),l&&(b=l),d){case"SuccessModal":f="".concat(m,"-hold-my-place-in-line"),y="personal-info-complete";break;case"SaveDesign":f="save design"}switch(p){case g.S:y="copy-link",f="save design";break;case g.pf:y="personal-info-complete",f="save design"}e.fireTagEvent({event:"form-interaction",interaction:y,formType:f,engagementType:b})}},{key:"fireNavigationTag",value:function(t){e.fireTagEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event:"configurator"},t))}},{key:"fireApplePayAnalyticsEvent",value:function(t){var n="";switch(t.action.type){case g.n:n="impression";break;case g.l:n="click"}e.fireTagEvent({event:"apple_pay",interaction:n})}},{key:"fireModifyOrderAnalyticsEvent",value:function(t){var n=t.action,r=t.state,a=n.type,i="",o="",c=_[Object(v.O)(r)].toLowerCase().replace(" ");switch(a){case g.Ze:i="update-order",o="".concat(c," - ").concat(r.Configuration.rn);break;case g.w:i="cancel-keep-current-design",o="".concat(c," - ").concat(r.Configuration.rn)}e.fireTagEvent({event:"modify-order",interaction:i,label:o})}},{key:"fireTagEvent",value:function(t){return e.enabled?void 0!==window&&window.dataLayer?window.dataLayer.push(t):console.log("window.dataLayer not found. No GA event added",t):e.suppressConsole||console.log("DEBUG:fireTagEvent",t),t}},{key:"addToCart",value:function(t){var n=e.getProductAttributes(t),r=n.modelName,a=n.brand,i=n.category,o=n.trimName,c=n.driveTrainName,s=n.pkgName,l=n.price,u=n.financeType,d=n.optionsString,m=n.autopilot,f=n.autoType;return e.fireTagEvent({event:"add-to-cart",autoType:f,paymentOption:p()(u),ecommerce:{add:{products:[{id:r,name:r,brand:a,category:i,quantity:1,price:l,variant:o,dimension21:m,dimension22:c,dimension23:d,dimension27:s,dimension31:String(l)}]}}})}},{key:"transaction",value:function(t){var n=e.getProductAttributes(t),r=n.modelName,a=n.brand,i=n.category,o=n.trimName,c=n.driveTrainName,s=n.pkgName,l=n.price,u=n.optionsString,d=n.autopilot,p=n.referralCode,m=n.countryCode,f=n.paymentType,y=n.paymentOption,v=n.totalPrice,g=n.rn;return e.fireTagEvent({event:"newTransactionId",referralCode:b()(p),autoType:"new",tradeIn:"false",internalStore:"web",paymentOption:y,paymentType:f,ecommerce:{purchase:{actionField:{id:g,affiliation:m,revenue:v},products:[{id:r,name:r,brand:a,category:i,quantity:1,price:l,variant:o,dimension21:d,dimension22:c,dimension23:u,dimension27:s}]}}})}},{key:"getProductAttributes",value:function(t){var n=_[Object(v.O)(t)],r=function(){var e=o()(t,"App.analytics_variant_map"),n=o()(t,"Configuration.option_codes");if(e){var r=0;return e.reduce((function(e,t){var a=f()(n,t.options);return a.length>r?(r=a.length,t.variant):e}),null)}return o()(t,"CustomGroups.TRIM.currentSelected[0].code")}(),a=o()(t,"Configuration.options_by_group.DRIVE_MODE[0]",""),i=Number(o()(t,"Pricing.subtotal")),c=o()(t,"Pricing.financeType"),s=o()(t,"Configuration.option_string"),l=s?s.split(","):[],u=e.getAutoPilotType(l),d=o()(t,"OMS.oms_params.market"),m=o()(t,"ApplicationFlow.referral.referralCode"),y=o()(t,"Pricing.total"),g=p()(c),h=b()(o()(t,"ApplyPay.payment"))?"Credit Card":"Apply Pay",O=o()(t,"Configuration.rn","");return{autoType:Object(v.ib)(t)?"inventory":"new",modelName:n,brand:"Tesla",category:"auto",trimName:r,driveTrainName:a,pkgName:"Premium",financeType:c,optionsString:s,autopilot:u,referralCode:m,price:i,totalPrice:y,countryCode:d,paymentType:h,paymentOption:g,rn:O}}},{key:"getAutoPilotType",value:function(e){return e.includes("$APPA")&&e.includes("$APF0")?"none":e.includes("$APF2")&&(e.includes("$APPB")||e.includes("$APBS"))?"add-fsd":e.includes("$APBS")?"standard-autopilot":e.includes("$APPB")?"enhanced-autopilot":"none"}},{key:"on",value:function(t,n){e.events[t]||(e.events[t]=[]),e.events[t].push(n)}},{key:"removeListener",value:function(t,n){if(n&&e.events[t]){for(var r=0;r<e.events[t].length;r++)if(e.events[t][r]===n){e.events[t].splice(r,1);break}}else delete e.events[t]}}],(n=null)&&O(t.prototype,n),r&&O(t,r),e}();P(w,"enabled",!0),P(w,"suppressConsole",!0),P(w,"events",{}),P(w,"counts",{}),P(w,"initializeTime",Date.now()),P(w,"cfgType",window.tesla.omsParams.model)},235:function(e,t,n){"use strict";n.d(t,"u",(function(){return J})),n.d(t,"w",(function(){return ee})),n.d(t,"a",(function(){return ne})),n.d(t,"v",(function(){return re})),n.d(t,"h",(function(){return ae})),n.d(t,"p",(function(){return ie})),n.d(t,"q",(function(){return oe})),n.d(t,"f",(function(){return ce})),n.d(t,"g",(function(){return le})),n.d(t,"r",(function(){return de})),n.d(t,"m",(function(){return me})),n.d(t,"j",(function(){return fe})),n.d(t,"b",(function(){return ye})),n.d(t,"k",(function(){return be})),n.d(t,"l",(function(){return ve})),n.d(t,"d",(function(){return ge})),n.d(t,"c",(function(){return he})),n.d(t,"n",(function(){return Oe})),n.d(t,"o",(function(){return Pe})),n.d(t,"e",(function(){return _e})),n.d(t,"t",(function(){return we})),n.d(t,"s",(function(){return Ee})),n.d(t,"i",(function(){return Se}));var r=n(1),a=n.n(r),i=n(18),o=n.n(i),c=n(21),s=n.n(c),l=n(68),u=n.n(l),d=n(49),p=n.n(d),m=n(74),f=n.n(m),y=n(304),b=n.n(y),v=n(247),g=n.n(v),h=n(245),O=n.n(h),P=n(205),_=n.n(P),w=n(111),E=n.n(w),S=n(246),j=n(23),C=n(4),T=n(9),A=n(56),D=n.n(A),R=n(2),L=n(8),N=n(64),x=n(29),I=n(58),F=n.n(I),k=n(54),M=n(33),V=n.n(M);function B(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G,U,W,Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,a,i;return t=e,n=null,r=[{key:"encrypt",value:(a=regeneratorRuntime.mark((function t(){var n,r,a,i,o,c,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>0&&void 0!==s[0]?s[0]:R.h,r=s.length>1?s[1]:void 0,a=s.length>2?s[2]:void 0,i=s.length>3?s[3]:void 0,e.providers.includes(n)){t.next=6;break}return t.abrupt("return",!1);case 6:if(n!==R.Jf){t.next=11;break}if(void 0!==window.Stripe&&V()(window.Stripe)){t.next=9;break}return t.abrupt("return",!1);case 9:return Stripe.setPublishableKey(a),t.abrupt("return",new Promise((function(e){Stripe.card.createToken({name:r.name||"",number:r.number||"",cvc:r.cvc,exp_month:r.month||0,exp_year:r.year||0},(function(t,n){return n.error?e(!1):e(n.id)}))})));case 11:if(void 0!==window.adyen&&V()(window.adyen)){t.next=13;break}return t.abrupt("return",!1);case 13:return o=adyen.encrypt.createEncryption(a,{numberIgnoreNonNumeric:!1}),c={number:"".concat(r.number)||"",cvc:"".concat(r.cvc)||"0",holderName:"".concat(r.name)||"",expiryMonth:"".concat(r.month)||"0",expiryYear:"".concat(r.year)||"0",generationtime:i},t.abrupt("return",o.encrypt(c));case 16:case"end":return t.stop()}}),t)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=a.apply(e,t);function o(e){B(i,n,r,o,c,"next",e)}function c(e){B(i,n,r,o,c,"throw",e)}o(void 0)}))},function(){return i.apply(this,arguments)})}],n&&q(t.prototype,n),r&&q(t,r),e}();function z(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){z(i,r,a,o,c,"next",e)}function c(e){z(i,r,a,o,c,"throw",e)}o(void 0)}))}}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}G=Y,U="providers",W=[R.h,R.Jf],U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W;var J=function(e){return e.filter((function(e){return[R.hd].includes(e.type)})).map((function(){return Object(N.getInventoryMatching)()}))};function ee(){return function(e,t){var n=t(),r=a()(n,"Location.sources.".concat(R.e),{});e({type:R.id,sourceName:R.e,sourceData:r})}}function te(e,t,n){var r,i=new Date,o=e.result,c=e.financeType,s=e.apiResults.price,l=s.matchedCodes,u=s.priceString,d=s.vehiclePrice,p=s.subtotalPrice,m=l.map((function(e){return e.code})).toString(),f=o.grossPrice,y=o.netPrice,b=a()(o,"netMonthlyPayment",0),v=a()(o,"LoanAPI.loanAmount",{}),g=v.monthlyPayment,h=v.amountDueAtSigning,O=v.interestRate,P=v.term,_=v.residualAmount,w=a()(o,"LeasingAPI.leaseAmount",a()(o,"lease.LeaseAPI.leaseAmount",{})),E=w.monthlyPayment,S=w.amountDueAtSigning,j=w.interestRate,C=w.residualAmount,T=($(r={prices_per_code:l,price_string:u,manufacturing_string:m,financeType:c},c,o),$(r,"calculatorResult",e),$(r,"total",d),$(r,"subtotal",p),$(r,"grossPrice",f),$(r,"netPrice",y),$(r,"netPaymentMonthly",b),$(r,"financeAmountDueAtSigning",h),$(r,"financeTerm",P),$(r,"financeInterestRate",O),$(r,"financePaymentMonthly",g),$(r,"financeResidualAmount",_),$(r,"leaseAmountDueAtSigning",S),$(r,"leasePaymentMonthly",E),$(r,"leaseInterestRate",j),$(r,"leaseResidualAmount",C),r);return function(e,t){var n=e.trimOption,r=e.financingPartners,i=e.leaseDistance,o=e.leaseDownPayment,c=e.leaseTerm,s=e.loanDistance,l=e.loanDownPayment,u=e.loanTerm,d=e.selectedLeaseDistance,p=e.selectedLeaseTerm,m=e.selectedLoanDistance,f=e.selectedLoanTerm,y=e.isInventory,b=e.mileage,v=e.modelCode,g=t.calculatorResult.grossPrice,h=t.financeType,O={identifier:"".concat(v,",").concat(a()(n,"code")),identifierType:"TeslaDescription",isNew:!y||b<=50,cashPrice:g,mileage:b,registration:{date:null,number:null},isFranchiseApproved:!1,term:{defaultValue:"lease"===h?p:f,minimumValue:"lease"===h?Math.min.apply(Math,Z(c)):Math.min.apply(Math,Z(u)),maximumValue:"lease"===h?Math.max.apply(Math,Z(c)):Math.max.apply(Math,Z(u))},deposit:{defaultValue:"lease"===h?o:l},annualMileage:{defaultValue:"lease"===h?d:m,minimumValue:"lease"===h?Math.min.apply(Math,Z(i)):Math.min.apply(Math,Z(s)),maximumValue:"lease"===h?Math.max.apply(Math,Z(i)):Math.max.apply(Math,Z(s))},specificProductType:"lease"===h?"PCP":"HP"};r.forEach((function(e){var t=e.storageId;localStorage.setItem(t,JSON.stringify(O))}))}(n,T),{type:R.Fe,data:e,massagedData:T,calculatorParameters:t,receivedAt:{timestamp:Date.now(),localeString:i.toLocaleString()}}}function ne(e){var t=e.state,n=a()(t,"Configuration.rn",""),r=a()(t,"ApplicationFlow.canModifyOrder",!1),i=R.Me;return n&&(i=r?R.ob:R.Xe),i}var re=function(e,t){return e.pipe(Object(S.filter)((function(e){var n=t.getState(),r=n.ApplicationFlow,a=void 0===r?{}:r,i=n.ReviewDetails,o=(void 0===i?{}:i)||{},c=o.actionsToUpdatePrices,s=void 0===c?[]:c,l=o.commonActionsToUpdatePrices,u=[].concat(void 0===l?[]:l,s),d=a||{},p=d.initializeOn,m=d.isInitialized;return p.includes(e.type)||m&&u.includes(e.type)})),Object(S.map)((function(){var e=t.getState(),n=Object(T.d)(e,!0),r=Object(T.w)(e),i=a()(e,"Location.components.summaryPanel.regionCode")||a()(e,"SummaryPanel.region_code"),c=a()(e,"ReviewDetails.RegistrationDetail.RegistrantType",null),l=a()(e,"FinancingOptions.showOrderFee",!1),u=e.OMS,d=(void 0===u?{}:u).oms_params,m=void 0===d?{}:d,f=m.market,y=parseFloat(a()(e,"ReviewDetails.product.data.Odometer",0))||0,b=a()(e,"ReviewDetails.product.data.RegistrationDetails.registrationCount",0),v=a()(e,"ReviewDetails.product.data.Year",(new Date).getFullYear())||(new Date).getFullYear(),g=X(X({},m),{},{fuelDist:Object(T.z)(e),fuelPrice:a()(e,"SummaryPanel.fuelPrice"),considerTermForGas:Object(T.c)(e),InjectPricebookOptions:e.OMS.pricebook,options:e.Configuration.option_codes,leaseDistance:Object(T.H)(e),leaseTerm:Object(T.I)(e),loanTerm:Object(T.K)(e),loanDistance:Object(T.J)(e),loanApr:Object(T.F)(e),balloonPayment:Object(T.f)(e),benefitType:a()(e,"SummaryPanel.benefitType"),includeServiceFee:a()(e,"SummaryPanel.includeServiceFee"),residualAmount:a()(e,"SummaryPanel.residualAmount"),commute:a()(e,"SummaryPanel.commute"),ecoTaxReduction:a()(e,"SummaryPanel.ecoTaxReduction","other"),tradeInAmount:a()(e,"TradeIn.unformatted_price"),discounts:a()(e,"Pricing.discounts",[]),applyDeltas:!1,regionCode:i,loanType:a()(e,"SummaryPanel.loanType",{}),vehiclePrice:null,customerType:c||a()(e,"ReviewDetails.AccountDetail.AccountType"),teslaInsurance:a()(e,"FinancingOptions.includeTeslaInsurance",!1),extraFeeAmount:l?Object(T.j)(e):0,newRegState:a()(e,"ReviewDetails.product.data.RegistrationDetails.state",null)!==i,prevRegistered:b>0||y>50,isInventory:Object(T.ib)(e),licenseStatus:a()(e,"ReviewDetails.product.data.RegistrationDetails.licenseStatus",!1),financeProductId:Object(T.u)(e),selectedIncentives:a()(e,"SummaryPanel.selectedIncentives",[]),vehicleYear:v});if(a()(e,"ReviewDetails.product.isInventory")){g.vehiclePrice=Object(T.G)(e),g.odometerMileage=y;var h=a()(e,"ReviewDetails.product.isUsedInventory");g.inventory=(h?R.Uc:R.Tc).toLowerCase(),g.inventoryDiscount=parseFloat(a()(e,"ReviewDetails.product.data.Discount",0)),"DK"===f&&y<50&&!h&&(g.vehiclePriceExAccessories=g.vehiclePrice),"IS"===f&&h&&(g.tradeInType=a()(e,"ReviewDetails.product.data.TradeInType",null))}var O=Object(C.I)(e),P={accessoriesSelected:a()(e,"Accessories.accessoriesSelected",null),accessoriesPrice:a()(e,"Accessories.accessoriesPrice",null)},_=Object(C.O)(x.Calculator.total,X(X({},g),{},{incentivesFinanceType:r,months:"lease"===r?g.leaseTerm:null,financeType:"cash"}))({Incentives:e.Financial.fms_incentives,Fees:e.Financial.fms_fees,TCC:e.Financial.fms_tcc,Loan:e.Financial.fms_loan,PricebookOptions:e.OMS.pricebook,Lexicon:e.OMS.lexicon,Configuration:{options:e.Configuration.option_codes},UnselectedOptions:O,AccessoriesSelected:P},X(X({},g),{},{incentivesFinanceType:r,months:"lease"===r?g.leaseTerm:null,financeType:"cash"})),w={},E={},S={},j={},A=Object(T.mb)(e),D=Object(T.m)(e,{grossPrice:_.grossPrice,excludeVAT:A,VATAmount:a()(_,"variables.fees.vat_percent.total",null)}),L=Object(T.m)(e,{grossPrice:_.grossPrice}),N=Object(T.m)(e,{grossPrice:_.grossPrice,preservePercentage:!0});n.map((function(t){switch(t){case R.rc.CASH:E=a()(_,"apiResults.incentives"),S=a()(_,"apiResults.fees"),j=a()(_,"apiResults.tcc"),p()(w,_);break;case R.rc.LOAN:var n=Object(C.O)(x.Calculator.total,X(X({},g),{},{downPayment:N,financeType:"loan"}))({Incentives:e.Financial.fms_incentives,Fees:e.Financial.fms_fees,TCC:e.Financial.fms_tcc,Loan:e.Financial.fms_loan,PricebookOptions:e.OMS.pricebook,Lexicon:e.OMS.lexicon,Configuration:{options:e.Configuration.option_codes,UnselectedOptions:O},AccessoriesSelected:P},X(X({},g),{},{downPayment:N,financeType:"loan"}));E=a()(n,"apiResults.incentives"),S=a()(n,"apiResults.fees"),j=a()(n,"apiResults.tcc"),p()(w,n);break;case R.rc.LEASE:var r=Object(C.O)(x.Calculator.total,X(X({},g),{},{downPayment:D,financeType:"lease"}))({Incentives:e.Financial.fms_incentives,Fees:e.Financial.fms_fees,TCC:e.Financial.fms_tcc,Lease:e.Financial.fms_lease,PricebookOptions:e.OMS.pricebook,Lexicon:e.OMS.lexicon,Configuration:{options:e.Configuration.option_codes,UnselectedOptions:O},AccessoriesSelected:P},X(X({},g),{},{downPayment:D,financeType:"lease"}));E=a()(r,"apiResults.incentives"),S=a()(r,"apiResults.fees"),j=a()(r,"apiResults.tcc"),p()(w,r);break;default:return null}return null})),o()(w,"apiResults.incentives",E),o()(w,"apiResults.fees",S),o()(w,"apiResults.tcc",j),n.includes(w.financeType)&&["result.netMonthlyPayment","result.loan.monthlyPayment","result.loan.netMonthlyPayment","result.loan.financedAmount","result.lease.monthlyPayment","result.lease.netMonthlyPayment","result.lease.monthlyPaymentWithoutVat","result.lease.netMonthlyPaymentWithoutVat"].forEach((function(e){s()(w,e)&&a()(w,e)<1&&o()(w,e,0)}));var I=Object(T.s)(e),F=a()(I,"leaseTermsOffered",{}),k=a()(I,"loanTermsOffered",{});return te(w,X(X({},g),{},{financeType:a()(e,"SummaryPanel.selected_tab")}),{financingPartners:a()(e,"FinancingOptions.applyForFinancing.financingPartners",[]),trimOption:a()(e,"CustomGroups.TRIM.currentSelected[0]",{code:a()(e,"ReviewDetails.product.data.TrimCode"),long_name:a()(e,"ReviewDetails.product.data.TrimName")}),leaseDistance:Object(T.t)(e),leaseTerm:a()(F,"leaseTerm",[]),loanDistance:a()(k,"loanDistance",[]),loanTerm:a()(k,"loanTerm",[]),selectedLeaseDistance:Object(T.H)(e),selectedLeaseTerm:Object(T.I)(e),selectedLoanDistance:Object(T.J)(e),selectedLoanTerm:Object(T.K)(e),leaseDownPayment:D,loanDownPayment:L,isInventory:Object(T.ib)(e),mileage:a()(window.tesla,"product.data.Odometer",0),modelCode:Object(T.P)(e),vehicleYear:v})})))};function ae(e){return{Configuration:{option_codes:e.config.mktOptionCodes.map((function(e){return e.code})),call_toggle_option:!0}}}function ie(e){var t=e.state;return{config:{model:a()(t,"OMS.lexicon.product","")||a()(t,"OMS.oms_params.model",""),countryCode:t.Payment.CountryCode,currencyCode:t.Payment.CurrencyCode,pricingDate:(new Date).toJSON(),priceBookName:a()(t,"OMS.lexicon.name",""),languageCode:a()(t,"OMS.lexicon.language",a()(t,"App.language","")),totalPrice:a()(t,"FinancingOptions.sendTotalPrice",!0)?t.Pricing.total:t.Pricing.subtotal,series:a()(t,"ReviewDetails.VehicleDetail.series",""),qty:a()(t,"ReviewDetails.VehicleDetail.qty",""),mktOptionCodes:t.Configuration.option_codes.map((function(e){return{code:e,price:Object(C.E)(t.Pricing.calculatorResult.data.apiResults.price.matchedCodes,e),isCustomPricing:!1}})),sourceStoreInfo:{sourceDevice:Object(C.p)(t)},feeDiscount:{comments:"",docFee:0,recyclingFee:0,taxCredit:0,taxJson:null,vat:{amount:0,percentage:0}},isConfigurationAccepted:!0},order:{edd:{eddStartDate:a()(t,"DeliveryDate.startDate"),eddEndDate:a()(t,"DeliveryDate.endDate")}},comments:"Configurator comment",impersonatedUserName:"",modifiedApplication:ne({state:t})}}function oe(e){var t=e.state,n=e.baseSchema,r=Object(C.Y)(t),i=n.config,o=i.totalPrice,c=i.currencyCode,s=i.countryCode,l=i.model,u=Object(T.P)(t),d=X(X({},r),{},{asset_code:l,base_price_default:a()(t,"OMS.lexicon.options.".concat(u,".price")),model_name:a()(t,"OMS.lexicon.options.".concat(u,".name"))});return{config:X(X({},i),{},{extraConfig:X(X({},d),{},{subtotal:o,base_price_default:o,currency:c,market:s})})}}function ce(e){return se.apply(this,arguments)}function se(){return(se=H(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.p)(t),r=n.encryptor,a=n.time,i=n.key,e.abrupt("return",Y.encrypt(r,Object(T.h)(t),i,a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return ue.apply(this,arguments)}function ue(){return(ue=H(regeneratorRuntime.mark((function e(t){var n,r,i,o,c,s,l,d,p,m,f,y,b,v,h,O,P,w,S,j,A,D,L,N,x,I,F,M,V,B,q,G,U,W,z,H,K,$,Z,Q,J,ee,te,ne;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=a()(n,"Payment.PaymentDetail",{}),i=a()(r,"CreditCardDetail.VerificationNumber"),o=a()(r,"CreditCardDetail.AccountNumber"),c=a()(r,"CreditCardDetail.CreditCardToken"),s=a()(n,"Payment.time"),l=a()(n,"Payment.encryptor"),d=r.CountryCode||a()(n,"OMS.oms_params.market"),p=Object(k.getSuperRegion)(d),m=a()(n,"App.isBurstMode"),f=l!==R.Jf||"REEU"!==p.code||m?"key":"key_other",y=a()(n,"Payment.configs.".concat(l,".").concat(f)),b=a()(r,"CreditCardDetail",{}),v=a()(n,"Payment.InvoiceType",{}),h=b,O=r.RedirectPaymentName,P=r.IsOffline,null==c){e.next=22;break}w=a()(r,"CreditCardDetail.LastFourDigits"),h=X(X({},b),{},{CreditCardToken:c,LastFourDigits:w}),h=u()(h,["AccountNumber","VerificationNumber"]),e.next=33;break;case 22:if(!(o&&i&&Object(T.hb)(n))){e.next=33;break}return S=Object(T.h)(n),e.next=26,Y.encrypt(l,S,y,s);case 26:if(!(j=e.sent)){e.next=32;break}h=X(X({},b),{},{CreditCardToken:j,LastFourDigits:o.substr(-4)}),h=u()(h,["AccountNumber","VerificationNumber"]),e.next=33;break;case 32:return e.abrupt("return",!1);case 33:return A=Object(T.j)(n,!0),D=a()(A,"orderPayment",0),L=a()(A,"paymentSourceSubType",null),N=X(X(X(X({},r),h?{CreditCardDetail:h}:{}),O?{PaymentType:O,IsOffline:P}:{}),{},{OrderAmount:D,PaymentSourceSubType:L}),(x=a()(n,"ApplePay.payment"))&&(N=X(X({},N),{},{ApplePay:{SessionToken:btoa(JSON.stringify(a()(x,"token.paymentData")))},PaymentType:"APPLEPAY",PayorName:"".concat(a()(x,"billingContact.givenName","")," ").concat(a()(x,"billingContact.familyName","")),CreditCardDetail:null})),(I=a()(r,"PaymentType",R.je))!==R.pe&&I!==R.me&&I!==R.ne||g()(N,"CreditCardDetail"),F=a()(n,"App"),M=F.platform,V=F.countryCode,B=F.language,q=a()(n,"Payment.CreditCardDetail.IsProfileExists",!1),G=a()(n,"ReviewDetails.product.data.PurchasePrice",{}),U=a()(n,"Payment.PaymentDetail",{}),W=U.CreditCardDetail,z=a()(W,"AgreedToSaveProfile",!1),H=X(X({},M),{},{DeviceType:Object(C.p)(n)}),K=a()(n,"ReviewDetails.product.data"),$=K.VIN,Z=a()(n,"ReviewDetails.product.isUsedInventory",!1),Q=a()(n,"ReviewDetails.isSalesReferred",!1),J=o?o.substring(o.length-4):null,ee=a()(n,"ReviewDetails.product.data.OptionCodeData",[]),te=a()(n,"App.isPayXUIEnabled",!1),ne=_()({BrowserInfo:X(X({},H),{},{isPublicReferred:Q}),Vin:$,isUsedInventory:Z,market:V,language:B,useExisting:q,VehiclePrice:G,optionCodeData:ee,SaveWithProfile:z,RegistrationDetail:a()(n,"ReviewDetails.RegistrationDetail",{}),referralCode:a()(n,"ApplicationFlow.referral.referralCode",{}),AccessoriesSelected:a()(n,"Accessories.accessoriesSelected",{}),Payment:X(X(X({},N),a()(n,"Payment.CreditCardDetail.IsProfileExists")&&!b.AgreedToSaveProfile?{ProcessWithProfile:!x,LastFourDigits:J}:{LastFourDigits:J}),{},{isV3Payment:te}),AccountDetails:a()(n,"ReviewDetails.AccountDetail",{}),DeliveryDetails:a()(n,"ReviewDetails.DeliveryDetails",{}),TwEFapiaoProfile:v,UserLocation:a()(n,"Location.sources.geoIp.location",{})},E.a),e.abrupt("return",Object(C.R)(ne));case 55:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t,n){return pe.apply(this,arguments)}function pe(){return(pe=H(regeneratorRuntime.mark((function e(t,n,r){var i,o,c,s,l,d,p,m,f,y,b,v,h,O,P,_,w,E,S,j,A,D,L,N,x,I,F,M,V,B,q,G,U,W,z,H,K,$,Z,Q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.state,o=a()(i,"Configuration.rn",""),c=(new Date).getTime(),s=r||"".concat(o,"-").concat(c),""===o&&(s="".concat(a()(i,"ReviewDetails.AccountDetail.Email"),"-").concat(c)),l=u()(ie({state:i}),["comments","impersonatedUserName"]),d=a()(i,"Payment.PaymentDetail",{}),p=a()(d,"CreditCardDetail.VerificationNumber"),m=a()(d,"CreditCardDetail.AccountNumber"),f=a()(d,"CreditCardDetail.CreditCardToken"),y=a()(i,"Payment.time"),b=a()(i,"Payment.encryptor"),v=d.CountryCode||a()(i,"OMS.oms_params.market"),h=Object(k.getSuperRegion)(v),O=a()(i,"App.isBurstMode"),P=b!==R.Jf||"REEU"!==h.code||O?"key":"key_other",_=a()(i,"Payment.configs.".concat(b,".").concat(P)),w=a()(d,"CreditCardDetail",{}),E=a()(i,"Payment.InvoiceType",{}),S=w,j=null,A=d.RedirectPaymentName,D=d.IsOffline,null==f){e.next=28;break}L=a()(d,"CreditCardDetail.LastFourDigits"),S=X(X({},w),{},{CreditCardToken:f,LastFourDigits:L}),S=u()(S,["AccountNumber","VerificationNumber"]),e.next=40;break;case 28:if(!(m&&p&&Object(T.hb)(i))){e.next=40;break}return N=Object(T.h)(i),e.next=32,Y.encrypt(b,N,_,y);case 32:if(!(x=e.sent)){e.next=38;break}S=X(X({},w),{},{CreditCardToken:x,LastFourDigits:m.substr(-4)}),S=u()(S,["AccountNumber","VerificationNumber"]),e.next=39;break;case 38:return e.abrupt("return",!1);case 39:a()(i,"App.adyenDf.enabled")&&(I=a()(i,"App.adyenDf.value"),F=I?document.getElementById(I):null,j=F?F.value:null);case 40:return M=Object(T.j)(i,!0),V=a()(M,"orderPayment",0),B=a()(M,"paymentSourceSubType",null),q=a()(i,"App.isPayXUIEnabled",!1),G=X(X(X(X({},d),S?{CreditCardDetail:S}:{}),A?{PaymentType:A,IsOffline:D}:{}),{},{OrderAmount:V,PaymentSourceSubType:B}),(U=a()(i,"ApplePay.payment"))&&(G=X(X({},G),{},{ApplePay:{SessionToken:btoa(JSON.stringify(a()(U,"token.paymentData")))},PaymentType:"APPLEPAY",PayorName:"".concat(a()(U,"billingContact.givenName","")," ").concat(a()(U,"billingContact.familyName","")),CreditCardDetail:null})),W=a()(i,"ReviewDetails.isSaveDesignEnabled"),z=a()(i,"ReviewDetails.AccountDetail",{}),W&&(G=X(X({},G),{},{PaymentType:"wt",PayorName:"".concat(a()(z,"CCFirstName","")," ").concat(a()(z,"CCLastName","")),CreditCardDetail:null,GeoPostalCode:a()(i,"Location.sources.geoIp.postalCode")})),(H=a()(d,"PaymentType","CC"))!==R.pe&&H!==R.me&&H!==R.ne&&H!==R.oe||g()(G,"CreditCardDetail"),K={Payments:X({Payment:X(X({},G),{},{isV3Payment:q}),InstrumentDetails:n,UniqueId:s,DeviceFingerprint:j,TwEFapiaoProfile:E},a()(i,"Payment.CreditCardDetail.IsProfileExists")&&!w.AgreedToSaveProfile?{ProcessWithProfile:!U}:{}),Configs:l,rn:o,referralCode:a()(i,"ApplicationFlow.referral.referralCode",{}),AccessoriesSelected:a()(i,"Accessories.accessoriesSelected",{}),isSaveDesign:W,DeliveryDetails:a()(i,"ReviewDetails.DeliveryDetails",{})},""===o&&(K.AccountDetail=a()(i,"ReviewDetails.AccountDetail",{}),$=a()(i,"App.platform",{}),K.BrowserInfo=X(X({},$),{},{DeviceType:Object(C.p)(i)})),Z=a()(i,"App.isRegistrationDetailDisabled",!1),Q={},Z&&(Q={RegistrantType:a()(i,"ReviewDetails.AccountDetail.AccountType",""),RegistrationAddress:{CountryCode:a()(d,"BillingInfoDetail.CountryCode",""),StateProvince:a()(d,"BillingInfoDetail.StateProvince","")}}),K.RegistrationDetail=Z?Q:a()(i,"ReviewDetails.RegistrationDetail",{}),e.abrupt("return",Object(C.R)(K));case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){var t=e.state,n=u()(ie({state:t}),["comments","impersonatedUserName","config.sourceStoreInfo"]);return Object(C.R)({Configs:n,rn:a()(t,"Configuration.rn",""),referralCode:a()(t,"ApplicationFlow.referral.referralCode",{}),AccessoriesSelected:a()(t,"Accessories.accessoriesSelected",{})})}function fe(){return function(e,t){e({type:R.dd});var n=me({state:t()});if(!n)return e({type:R.cd}),e({type:R.Ae,error:{code:R.Zd}});e({type:R.Be,data:n});return F.a.post("/configurator/api/config_save").set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").send(n).end((function(t,r){if(e({type:R.cd}),t){var i="UNKNOWN_ERROR",o="";return 200!==t.status&&(i=a()(r,"body.error.ErrorCode"),o=a()(r,"body.error.Message")),412===t.status&&"EDIT ORDER TIME EXPIRED"===b()(o)&&e({type:R.jf,error:{code:R.Q}}),e({type:R.Ae,error:{code:i}})}return D.a.remove(R.fd),e({type:R.Ee,data:n,response:r})})),null}}function ye(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){t({type:R.dd});var r=n(),i=Object(C.R)({editOrderType:"CANCEL",rn:a()(r,"Configuration.rn","")});F.a.post("/configurator/api/edit_order").set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").send(i).end((function(){e&&t({type:R.cd})}))}}function be(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=H(regeneratorRuntime.mark((function t(n,r){var i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:R.dd}),i=r(),t.next=4,de({state:i});case 4:if(o=t.sent){t.next=8;break}return n({type:R.cd}),t.abrupt("return",n({type:R.Ae,error:{code:R.Zd}}));case 8:return n({type:R.Be,data:o}),c=Object(T.R)(i),F.a.post(c).send(o).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end((function(t,r){if(t){e&&e.completePayment(ApplePaySession.STATUS_FAILURE);var c="UNKNOWN_ERROR";200!==t.status&&(c=a()(r,"body.error.ErrorCode"));var s=a()(i,"App.isPayXUIEnabled",!1);return Object(C.X)(s,c),n({type:R.cd}),n({type:R.Ae,error:{code:c}})}return e&&e.completePayment(ApplePaySession.STATUS_SUCCESS),D.a.remove(R.fd),n({type:R.Ce,data:o,response:r})})),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function ve(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=H(regeneratorRuntime.mark((function t(n,r){var i,o,c,s,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:R.dd}),i=r(),!(o=Object(T.ib)(i))){t.next=9;break}return t.next=6,le({state:i});case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,de({state:i});case 11:t.t0=t.sent;case 12:if(c=t.t0,i.App.code&&(c.code=i.App.code),s=a()(i,"Payment.pickupLocationRequired"),l=a()(c,"".concat(o?"Payment.BillingInfoDetail":"Payments.Payment.BillingInfoDetail",".PickupLocation")),!s||l){t.next=19;break}return n({type:R.cd}),t.abrupt("return",n({type:R.Ae,error:{code:R.Zb,field:R.Xb}}));case 19:if(c){t.next=22;break}return n({type:R.cd}),t.abrupt("return",n({type:R.Ae,error:{code:R.Zd}}));case 22:return n({type:R.Be,data:c}),u=Object(T.R)(i),F.a.post(u).send(c).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end((function(t,r){if(t){e&&e.completePayment(ApplePaySession.STATUS_FAILURE);var i="UNKNOWN_ERROR";return 200!==t.status&&(i=a()(r,"body.error.ErrorCode")),n({type:R.cd}),n({type:R.Ae,error:{code:i}})}return e&&e.completePayment(ApplePaySession.STATUS_SUCCESS),n({type:R.Ce,data:c,response:r})})),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var ge=function(e){return{type:R.B,selected_view:e}},he=function(e){return{type:R.A,selected_type:e}};function Oe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var n=e;e||(n=[]),t({type:"PACKAGE_SELECTED",setPackageVal:n}),t(Object(L.setOption)({set:[].concat(n)})),t(Object(L.closeAllModals)())}}function Pe(e){return function(t,n){var r=n(),i=X({userSelectedOptions:[].concat(e.set,r.Configuration.user_selected_options),ignoreRules:["RequiredUpgrades","ExistInWorld","Deprecated"]},e),o=x.Configurator.setOption({PricebookOptions:r.OMS.pricebook,Lexicon:r.OMS.lexicon,Configuration:{options:r.Configuration.option_codes}},i).options,c=f()([].concat(r.Configuration.user_selected_options||[],e.set||[]||[]).filter((function(e){return o.includes(e)}))),s=x.Configurator.optionsByGroup({Groups:r.OMS.oms_groups,Lexicon:r.OMS.lexicon},{options:c});t(Object(L.setOption)(e)),j.a.fireConfigurationChangeTag({set:e.set,panelName:e.panelName?e.panelName:null,interaction:e.interaction?e.interaction:null,options:o,userSelectedOptionsByGroup:s,modelCode:a()(r,"OMS.oms_params.model")})}}var _e=function(e,t){return e.filter((function(e){[R.hd].includes(e.type)&&(["FL"].includes(a()(e,"location.region.regionCode"))||(window.location="/".concat("mx"===t.getState().OMS.oms_params.model?"modelx":"models","/design").concat(window.location.search)));return null})).map((function(){return{type:"NOOP"}}))};function we(e,t){return function(n){e.map((function(e){return n(X(X({},e),{},{asset:t}))}))}}function Ee(e){return function(t){e&&t({type:e})}}function Se(){return function(e,t){var n=t(),r=n.EnergyLeadPanel,i=r.leadCardStatuses,o=i[R.Gc],c=i[R.Ec],s=r.energyLeadSubmitted,l=n.ReviewDetails.AccountDetail,u=(l=void 0===l?{}:l).FirstName,d=l.LastName,p=l.PhoneNumber,m=l.Email,f=n.Payment,y=n.Configuration,b=a()(y,"rn"),v=a()(y,"model_code"),g=a()(f,"CreditCardDetail.BillingAddress.ZipCode"),h=a()(f,"PaymentDetail.BillingZipCode"),P=a()(f,"PaymentDetail.CountryCode"),_=a()(n,"App.language"),w=a()(n,"Location.geoIp.postalCode"),E=a()(n,"Payment.hideAllBillingInfo",!1),S=a()(n,"Payment.PaymentDetail.BillingInfoDetail.ZipCode"),j=b&&""!==b,T=Boolean(u&&d&&p&&m&&P&&(h||g||w||S||E)),A={rn:b,userDetails:{firstName:u,lastName:d,phoneNumber:p,emailAddress:m,postalCode:g||h||w||S,countryCode:P,languageCode:_},homeEnergy:o,homeCharging:c,model:v};if((j||T)&&(o||c)&&!O()(s,A)){var D=Object(C.R)(A);F.a.post("/configurator/api/createLead").send(D).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end((function(t){t||e({type:R.wb,data:A})}))}}}},243:function(e,t,n){"use strict";n.r(t);var r=n(64),a=n(29),i=n(56),o=n.n(i),c=n(1),s=n.n(c),l=n(17),u=n.n(l),d=n(63),p=n.n(d),m=n(16),f=n.n(m),y=n(66),b=n.n(y),v=n(2),g=n(555),h=n(314),O=n(403),P=n(554),_=n(558),w=n(557),E=n(922),S=n(556),j=n(933),C=n(921),T=n(912),A=n(928),D=n(930),R=n(931);for(var L in r)["default"].indexOf(L)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(L);var N=n(235);n.d(t,"updateMatching",(function(){return N.u})),n.d(t,"updateRegistration",(function(){return N.w})),n.d(t,"addModifiedApplication",(function(){return N.a})),n.d(t,"updatePricesEpic",(function(){return N.v})),n.d(t,"orderSchemaToState",(function(){return N.h})),n.d(t,"stateToOrderSchema",(function(){return N.p})),n.d(t,"stateToOrderSchemaSX",(function(){return N.q})),n.d(t,"getCreditCardToken",(function(){return N.f})),n.d(t,"inventory_stateToOrderWithPaymentSchema",(function(){return N.g})),n.d(t,"stateToOrderWithPaymentSchema",(function(){return N.r})),n.d(t,"saveDesignSchema",(function(){return N.m})),n.d(t,"postMktConfig",(function(){return N.j})),n.d(t,"cancelEditOrder",(function(){return N.b})),n.d(t,"postMktConfigWithPayment",(function(){return N.k})),n.d(t,"postOrderWithPayment",(function(){return N.l})),n.d(t,"changeHeroView",(function(){return N.d})),n.d(t,"changeHeroType",(function(){return N.c})),n.d(t,"selectPackage",(function(){return N.n})),n.d(t,"setOptionExtended",(function(){return N.o})),n.d(t,"experimentFlow",(function(){return N.e})),n.d(t,"triggerLoaderAction",(function(){return N.t})),n.d(t,"triggerGenericAction",(function(){return N.s})),n.d(t,"postCreateEnergyLead",(function(){return N.i}));var x=n(200);n.d(t,"navigationSelectKey",(function(){return x.d})),n.d(t,"navigationSelectNextKey",(function(){return x.e})),n.d(t,"triggerAction",(function(){return x.f})),n.d(t,"externalLinkClicked",(function(){return x.c})),n.d(t,"NavigationFlow",(function(){return x.b})),n.d(t,"AnalyticsFlow",(function(){return x.a}));var I=n(223);n.d(t,"showForm",(function(){return I.a})),n.d(t,"storeFinancialFormState",(function(){return I.b}));var F=n(372);n.d(t,"checkEmailAvailability",(function(){return F.c})),n.d(t,"setAccountDetailsValidFlag",(function(){return F.f})),n.d(t,"setSaveDesignFlag",(function(){return F.k})),n.d(t,"setPricingDetails",(function(){return F.i})),n.d(t,"updateAccountDetails",(function(){return F.n})),n.d(t,"setDeliveryDetailsValidFlag",(function(){return F.g})),n.d(t,"updateDeliveryDetails",(function(){return F.p})),n.d(t,"updateAccountIDTypeLabel",(function(){return F.o})),n.d(t,"hideBaseField",(function(){return F.e})),n.d(t,"showBaseField",(function(){return F.l})),n.d(t,"setRegistrationType",(function(){return F.j})),n.d(t,"toggleTrimSavingsPrice",(function(){return F.m})),n.d(t,"setFormErrors",(function(){return F.h})),n.d(t,"clearFormErrors",(function(){return F.d})),n.d(t,"calcPriceForOptions",(function(){return F.b})),n.d(t,"calcPriceForNewlySelectedOption",(function(){return F.a})),n.d(t,"updateVehicleDetail",(function(){return F.q}));var k=n(170);n.d(t,"triggerReferralDashboardFlow",(function(){return k.n})),n.d(t,"triggerRedirectWithReferral",(function(){return k.m})),n.d(t,"placeOrderFlow",(function(){return k.e})),n.d(t,"createEnergyLead",(function(){return k.d})),n.d(t,"placePublicOrderFlow",(function(){return k.f})),n.d(t,"completeRedirectOrderFlow",(function(){return k.c})),n.d(t,"saveConfigFlow",(function(){return k.h})),n.d(t,"cancelUpdateOrder",(function(){return k.a})),n.d(t,"showBatterySavingsModal",(function(){return k.i})),n.d(t,"showWechatPayModal",(function(){return k.k})),n.d(t,"showErrorModal",(function(){return k.j})),n.d(t,"redirectToDeliveryFlow",(function(){return k.g})),n.d(t,"triggerNoop",(function(){return k.l})),n.d(t,"checkSession",(function(){return k.b})),n.d(t,"updateConfigByRules",(function(){return k.p})),n.d(t,"updateApplicationFlowState",(function(){return k.o}));var M=n(289);n.d(t,"getLocationByZip",(function(){return M.d})),n.d(t,"deliverystateupdate",(function(){return M.b})),n.d(t,"changeDeliveryLocation",(function(){return M.a})),n.d(t,"getResourceToken",(function(){return M.e})),n.d(t,"getGeocodeByLocation",(function(){return M.c}));var V=n(201);n.d(t,"togglePaymentForm",(function(){return V.n})),n.d(t,"cancelPaymentEdit",(function(){return V.a})),n.d(t,"clearServerError",(function(){return V.d})),n.d(t,"updateCreditCardDetails",(function(){return V.p})),n.d(t,"setCCDetailsValidFlag",(function(){return V.i})),n.d(t,"setBillingInfoValidFlag",(function(){return V.h})),n.d(t,"setPaymentFormValidFlag",(function(){return V.k})),n.d(t,"updatePaymentDetails",(function(){return V.r})),n.d(t,"updateWechat",(function(){return V.u})),n.d(t,"updatePaymentInteractionRequired",(function(){return V.s})),n.d(t,"updateBillingInfo",(function(){return V.o})),n.d(t,"setRedirectDetails",(function(){return V.l})),n.d(t,"clearRedirectDetails",(function(){return V.c})),n.d(t,"syncPaymentDetails",(function(){return V.m})),n.d(t,"updateLocationData",(function(){return V.q})),n.d(t,"updatePickupLocationProvinceData",(function(){return V.t})),n.d(t,"sendVerificationCode",(function(){return V.g})),n.d(t,"getInvoiceType",(function(){return V.e})),n.d(t,"setInvoiceDetailsValidFlag",(function(){return V.j})),n.d(t,"checkBillingInfoStateList",(function(){return V.b})),n.d(t,"getPickupLocations",(function(){return V.f}));var B=n(373);n.d(t,"applePaySessionRequest",(function(){return B.b})),n.d(t,"applePaySessionSuccess",(function(){return B.c})),n.d(t,"applePaySessionFailure",(function(){return B.a})),n.d(t,"applePayment",(function(){return B.d})),n.d(t,"userHasApplePay",(function(){return B.f})),n.d(t,"createPaymentRequest",(function(){return B.e}));var q=n(224);n.d(t,"toggleEnergyLeadSelection",(function(){return q.b})),n.d(t,"trackLeadCardView",(function(){return q.c})),n.d(t,"EnergyAnalytics",(function(){return q.a}));var G=n(374);n.d(t,"toggleAccessorySelection",(function(){return G.a}));var U=n(371);n.d(t,"selectFinancePanelTab",(function(){return U.a})),n.d(t,"toggleFinancePanelSideBar",(function(){return U.d})),n.d(t,"selectTeslaInsurance",(function(){return U.b})),n.d(t,"toggleFinancePanelDrivertype",(function(){return U.c}));var W=n(375);n.d(t,"openFeatureModal",(function(){return W.b})),n.d(t,"closeFeatureModal",(function(){return W.a}));var Y=n(376);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"getShortUrl",(function(){return Y.c})),n.d(t,"shareDesign",(function(){return Y.d})),n.d(t,"closeFailedShareAlert",(function(){return Y.a})),n.d(t,"copyUrl",(function(){return Y.b}));var X=s()(window,"tesla",{}),$=X.env,Z=X.savedConfiguration,Q=X.DSServices,J=X.product,ee=void 0===J?{}:J,te=X.use_location_svc,ne=void 0!==te&&te,re=X.location_svc_url,ae=void 0===re?"":re,ie=X.omsParams,oe=void 0===ie?{}:ie,ce=v.xd.ROADSTER,se=v.xd.SEMI,le=oe.model,ue=oe.variant,de=new a.DSServices({}).get((function(){}),{model:le,variant:ue},oe),pe=de.PricebookOptions,me=de.Lexicon,fe=de.InitialConfig,ye=void 0===fe?{}:fe,be=Q.KeyManager.query.available_configurations.split(",").map((function(e){var t=e.split(":");return{model:t[0],variant:t[1]}}));Q&&ee&&p()(Q,(function(e){p()(e,(function(t,n){Array.isArray(t)&&(e[n]=b()(t,(function(e){return!e.inventoryFilters||!ee.data||f()(e.inventoryFilters,(function(e,t,n){var r=s()(ee,"data.".concat(n),null);return e&&f()(t,(function(e,t,a){if(v.Sc.includes(n)){var i=new Date(r).getTime(),o=(new Date).getTime();r=(o-i)/864e5}switch(a){case"<":return e&&r<t;case"<=":return e&&r<=t;case"=":case"==":case"===":return e&&r===t;case">":return e&&r>t;case">=":return e&&r>=t;case"!=":case"!==":return e&&r!==t;default:return e&&!0}}),!0)}),!0)})))}))}));var ve=s()(ee,"data.isReservation",!1)?s()(ee,"data.imgURL",""):"",ge=s()($,"designStudio.compositorUrl",""),he=ge.includes("?")?ge:"".concat(ge,"?"),Oe=le!==ce&&le!==se||!ve?he:ve,Pe=function(){if(X.savedConfiguration)return H({},h.orderSchemaToState(X.savedConfiguration));if(X.product){var e=s()(X,"product.data.OptionCodeList","").split(",").map((function(e){return{code:e}}));if(e.length)return H({},h.orderSchemaToState({config:{mktOptionCodes:e}}))}var t=o.a.get(v.fd,(function(e){var t=s()(pe,"meta_data.name"),n=s()(e,"value.StoredConfiguration.".concat(le,".pricebook")),r=s()(e,"value.StoredConfiguration.".concat(le,".effective_date")),a=s()(e,"value.StoredConfiguration.".concat(le,".lexicon_id"));return n===t&&r===s()(me,"effective_date")&&a===s()(me,"id")&&s()(e,"version")===s()(X,"version","")})),n=s()(t,"StoredConfiguration.".concat(le,".user_selected_options")),r=s()(X,"exclude_local_storage_options",[]);return u()(r)||u()(n)||(n=n.filter((function(e){return!r.includes(e)}))),H(H({},t),{},{Configuration:{option_codes:Z?Z.config&&Z.config.mktOptionCodes.map((function(e){return e.code})):n,savedConfiguration:Z}})}(),_e=$.teslaGeoip,we=void 0===_e?{}:_e,Ee=we.url,Se=H(H({},$),{},{teslaGeoip:H(H({},we),{},{url:ne&&ae?ae:Ee})}),je=s()(X,"App.localeSelector",{}),Ce={};try{Ce=JSON.parse(je)}catch(e){console.log("localeSelector err",e)}var Te=s()(window,"tesla.cr_enabled",!1),Ae=["$MTS09","$MTX09"],De=Pe.Configuration.option_codes||[];Object(r.init)({FindMyTesla:H(H({},h),{},{InitialState:h.InitialState({object:ye.FindMyTesla})}),Navigation:O,Address:T,Forms:H(H({},P),{},{InitialState:P.InitialState({object:ye.Forms})}),ReviewDetails:H(H({},w),{},{InitialState:w.InitialState({object:ye.ReviewDetails})}),ApplicationFlow:H(H({},g),{},{InitialState:g.InitialState({object:ye.ApplicationFlow,overrides:{isCryptoExcluded:Ae,isCryptoAllowed:!!Te&&!Ae.some((function(e){return-1!==De.indexOf(e)}))}})}),Payment:H(H({},S),{},{InitialState:S.InitialState({object:ye.Payment})}),DeliveryTiming:E,ApplePay:j,EnergyLeadPanel:C,FinancingOptions:H(H({},_),{},{InitialState:_.InitialState({object:ye.FinancingOptions})}),Accessories:A,FeatureListModal:D,SaveDesign:R},{Compositor:n(1795).default({object:ye.Compositor,overrides:{compositor_url:Oe}}),Configuration:n(1796).default({object:ye.Configuration,overrides:Pe.Configuration}),Assets:n(1797).default({object:ye.Assets,overrides:{baseURL:s()(Se,"designStudio.assetUrl")}}),OMS:n(1798).default({object:ye.OMS,overrides:{oms_params:oe,available_configurations:be}}),CustomGroups:n(1799).default({object:r.AvailableRedux.CustomGroups.InitialState.object,overrides:ye.CustomGroups}),SetRules:n(1800).default({object:ye.SetRules}),Locale:n(1801).default({i18n:X.i18n}),Pricing:n(1802).default({object:ye.Pricing}),SummaryPanel:n(543).default({object:ye.SummaryPanel}),App:n(1803).default({object:ye.App,overrides:{debug:X.App.debug||!1,localStorageKey:v.fd,version:s()(X,"version",""),env:Se,localeSelector:Ce}}),Modal:n(1804).default(),PrintPdf:n(1805).default({object:ye.PrintPdf})},Pe)},244:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(13),s=n(1),l=n.n(s),u=n(8);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,i=y(o);function o(){var e;p(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(v(e=i.call.apply(i,[this].concat(n))),"eventHandler",(function(t){var n=e.props.dispatchAction,r=l()(t.target,"dataset.actionTrigger");r&&n(r)})),h(v(e),"getTargetElem",(function(){return document.body})),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.getTargetElem();e.getAttribute("data-action-click")||(e.setAttribute("data-action-click",1),e.addEventListener("click",this.eventHandler,!1))}},{key:"componentWillUnmount",value:function(){var e=this.getTargetElem();e.getAttribute("data-action-click")&&(e.removeAttribute("data-action-click"),e.removeEventListener("click",this.eventHandler))}},{key:"render",value:function(){var e=this.props.children;return a.a.createElement(a.a.Fragment,null,e)}}])&&m(t.prototype,n),r&&m(t,r),o}(r.Component);O.propTypes={children:o.a.shape({}),dispatchAction:o.a.func.isRequired},O.defaultProps={children:null},t.a=Object(c.connect)(null,(function(e){return{dispatchAction:function(t){e(Object(u.triggerGenericAction)(t))}}}))(O)},251:function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));var r=n(0),a=n.n(r),i=n(113),o=n(46),c=n(312),s=n(249);var l=n(303),u=n(309),d=n.n(u);function p(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var m=a.a.createContext();var f={initialChunks:{}};var y=function(e){return e};function b(e){var t=e.defaultResolveComponent,n=void 0===t?y:t,r=e.render,u=e.onLoad;function b(e,t){void 0===t&&(t={});var y=function(e){return"function"==typeof e?{requireAsync:e}:e}(e),b={};function v(e){return t.cacheKey?t.cacheKey(e):y.resolve?y.resolve(e):null}function g(e,r,a){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!Object(l.isValidElementType)(i))throw new Error("resolveComponent returned something that is not a React component!");return d()(a,i,{preload:!0}),i}var h,O=function(e){var n,a;function l(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:v(n)},r.promise=null,p(!n.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(y.requireAsync(n).catch((function(){})),r.loadSync(),n.__chunkExtractor.addChunk(y.chunkName(n))),Object(c.a)(r)):(!1!==t.ssr&&(y.isReady&&y.isReady(n)||y.chunkName&&f.initialChunks[y.chunkName(n)])&&r.loadSync(),r)}a=e,(n=l).prototype=Object.create(a.prototype),n.prototype.constructor=n,Object(s.a)(n,a),l.getDerivedStateFromProps=function(e,t){var n=v(e);return Object(o.a)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=l.prototype;return d.componentDidMount=function(){this.mounted=!0,this.state.loading?this.loadAsync():this.state.error||this.triggerOnLoad()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&(this.promise=null,this.loadAsync())},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=g(y.requireSync(this.props),this.props,_);this.state.result=e,this.state.loading=!1}catch(e){this.state.error=e}},d.getCacheKey=function(){return v(this.props)||JSON.stringify(this.props)},d.getCache=function(){return b[this.getCacheKey()]},d.setCache=function(e){b[this.getCacheKey()]=e},d.loadAsync=function(){var e=this;if(!this.promise){var n=this.props,r=(n.__chunkExtractor,n.forwardedRef,Object(i.a)(n,["__chunkExtractor","forwardedRef"]));this.promise=y.requireAsync(r).then((function(n){var r=g(n,e.props,_);t.suspense&&e.setCache(r),e.safeSetState({result:g(n,e.props,_),loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){e.safeSetState({error:t,loading:!1})}))}return this.promise},d.render=function(){var e=this.props,n=e.forwardedRef,a=e.fallback,c=(e.__chunkExtractor,Object(i.a)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,u=s.loading,d=s.result;if(t.suspense){var p=this.getCache();if(!p)throw this.loadAsync();return r({loading:!1,fallback:null,result:p,options:t,props:Object(o.a)({},c,{ref:n})})}if(l)throw l;var m=a||t.fallback||null;return u?m:r({loading:u,fallback:m,result:d,options:t,props:Object(o.a)({},c,{ref:n})})},l}(a.a.Component),P=(h=O,function(e){return a.a.createElement(m.Consumer,null,(function(t){return a.a.createElement(h,Object.assign({__chunkExtractor:t},e))}))}),_=a.a.forwardRef((function(e,t){return a.a.createElement(P,Object.assign({forwardedRef:t},e))}));return _.preload=function(e){y.requireAsync(e)},_.load=function(e){return y.requireAsync(e)},_}return{loadable:b,lazy:function(e,t){return b(e,Object(o.a)({},t,{suspense:!0}))}}}var v=b({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return a.a.createElement(t,n)}}),g=v.loadable,h=v.lazy,O=b({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.loading,r=e.props;return!n&&r.children?r.children(t):null}}),P=O.loadable,_=O.lazy;var w=g;w.lib=P;var E=h;E.lib=_;t.a=w},289:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return _}));var r=n(1),a=n.n(r),i=n(110),o=n.n(i),c=n(42),s=n.n(c),l=n(173),u=n.n(l),d=n(58),p=n.n(d),m=n(2),f=n(4);function y(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){y(i,r,a,o,c,"next",e)}function c(e){y(i,r,a,o,c,"throw",e)}o(void 0)}))}}var v=function(e){return function(t,n){var r=n(),i=e;i||(i=a()(r,"Location.components.registration.zipCode")),i="".concat(i,", ").concat("US"),geocoder?o()((function(){t({type:m.Bc}),geocoder.geocode({addressVal:i},(function(e,n){"OK"===n?(t({type:m.id,sourceName:"geocode_by_zip",sourceData:e}),t({type:m.Cc,results:e})):(console.error("Geocode was not successful for the following reason: ".concat(n)),t({type:m.Ac,error:n}))}))}),1e3):console.warn("no geocoder found")}},g=function(e){return{type:"DELIVERY_STATE_ADDRESS",address:e}},h=function(e){return{type:"CHANGE_DELIVERY_LOCATION",isOpen:e}};function O(e){return P.apply(this,arguments)}function P(){return(P=b(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.g.includes(t)){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:if(n=u.a.get("adfs_token_".concat(t))){e.next=8;break}return e.next=6,new Promise((function(e,r){p.a.post("/configurator/api/v1/refresh_token").type("form").send(Object(f.R)({resource:t})).set("Accept","application/json").end((function(a,i){if(a)return r();var o=s()(i.body)&&i.body?JSON.parse(i.body):i.body,c=o.token,l=o.expiry,d=void 0===l?0:l;n=c;var p=new Date((new Date).getTime()+1e3*d);return u.a.set("adfs_token_".concat(t),c,{expires:p}),e(c)}))}));case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",Promise.resolve(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e,t){var n=e.postal_code,r=e.country;O(m.vc).then((function(e){e&&p.a.post("/configurator/api/v1/address").type("form").send(Object(f.R)({token:e,postal_code:n,country_code:r})).set("Accept","application/json").end((function(e,n){if(e||200!==n.statusCode)return console.warn("fetchUserLocation:err ",e),t(e,null);try{var r=s()(n.body)&&n.body?JSON.parse(n.body):n.body,a=s()(r.data)&&r.data?JSON.parse(r.data):r.data;return t(null,a)}catch(e){return console.warn("fetchUserLocation:JSON.parse:err ",e),t(e,null)}}))})).catch((function(e){return console.warn("fetchUserLocation:err ",e),t(e,null)}))}},307:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n(13),c=n(6),s=n.n(c),l=n(1),u=n.n(l),d=n(17),p=n.n(d),m=n(4);var f=function(e){var t=e.id,n=e.hideEstimatedDeliveryOrderPage,r=e.deliveryTimingMessage,i=e.classes;if(n)return null;var o,c,l,u=r.delivery_date_name,d=void 0===u?"":u;return d?a.a.createElement("p",{className:s()("tds-text--center text-loader--".concat(t),(o={},c=i,l=i,c in o?Object.defineProperty(o,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[c]=l,o)),key:"group-delivery-date-".concat(t)},d):null};f.propTypes={id:i.string,hideEstimatedDeliveryOrderPage:i.bool,deliveryTimingMessage:Object(i.oneOfType)([Object(i.shape)({}),i.bool]).isRequired,classes:i.string},f.defaultProps={id:"generic",hideEstimatedDeliveryOrderPage:!1,classes:""},t.default=Object(o.connect)((function(e,t){var n=u()(window.tesla,"eddData",null),r=p()(n)?Object(m.o)(e):Object(m.r)(e),a=t.group;return{deliveryTimingMessage:r,isLayoutMobile:e.App.isLayoutMobile,id:"string"==typeof a?a:u()(a,"code","generic")}}),null)(f)},308:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(13),o=n(3),c=n.n(o),s=n(6),l=n.n(s),u=n(401),d=n(395),p=n(399),m=n(1),f=n.n(m),y=n(139),b=n.n(y),v=n(110),g=n.n(v),h=n(402),O=n.n(h),P=n(5),_=n(54),w=n(4),E=n(8),S=n(2);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(c,e);var t,n,i,o=A(c);function c(e){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),N(R(n=o.call(this,e)),"getGeocodeRespone",(function(e,t,r,a){var i,o=n.props,c=o.updateFormDetails,s=o.setRegion,l=o.regionCode;c((N(i={},S.Tb,t),N(i,S.Ub,r),N(i,"stateCode",a),i)),a&&l!==a&&s(a),n.setState({isLocationChecked:!0})})),N(R(n),"getGeocodingData",(function(e){n.setState({isLocationChecked:!1});var t=n.props.market;Object(E.getGeocodeByLocation)({postal_code:e,country:t},(function(e,t){if(t){var r=t.latitude,a=void 0===r?0:r,i=t.longitude,o=void 0===i?0:i,c=t.stateCode,s=void 0===c?"":c;n.getGeocodeRespone(e,a,o,s)}return null}))})),N(R(n),"validateDeliveryForm",(function(){var e,t,r=(null===(e=n.formApiRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getState())||{},a=r.errors,i=void 0===a?{}:a,o=r.values,c=void 0===o?{}:o,s=Object.keys(i).length,l=n.props,u=l.setValidFlag,d=l.isDeliveryFormValid,p=n.state.isLocationChecked,m=!0,f=Object.values(c).some((function(e){return!e}));(s||!1===p||f)&&(m=!1),d!==m&&u(m)})),N(R(n),"updateDeliveryInfo",(function(){var e,t,r=(null===(e=n.formApiRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getState())||{},a=r.values,i=void 0===a?{}:a,o=r.errors,c=void 0===o?{}:o,s=r.$untouched,l=f()(i,"".concat(S.Vb),null),u=n.props,d=u.updateFormDetails,p=u.isDeliveryDetailsRequiredOnOrderFlow,m=n.state.assignments,y=Object.keys(c).length,v={};Object.keys(m).forEach((function(e){var t=m[e].stateName;v[t]=f()(i,e,null)})),s&&b()(i,(function(e,t){e&&e.length&&n.formApiRef.current.setTouched(t,!0)})),d(v),p||y||n.getGeocodingData(l),n.validateDeliveryForm()})),N(R(n),"zipCodeValidator",(function(e){var t=n.props.market;return!(!e||O()(e,{countryCode:t}))&&Object(w.L)("common.errors__invalidZipCode")})),N(R(n),"errorMessage",(function(){var e=n.state.assignments[S.Vb],t=e.maxLength,r=e.minLength;return{maxLength:Object(w.L)("common.errors__maxLength",{MAXLENGTH:t}),minLength:Object(w.L)("common.errors__minLength",{MAXLENGTH:r}),required:Object(w.L)("common.errors__required")}})),N(R(n),"showPostalCode",(function(){var e=n.state.assignments,t=n.props.isRequired;return a.a.createElement(u.a,{name:S.Vb,id:S.Vb,label:Object(w.L)("DeliveryLocation.delivery_zipcode"),defaultValue:n.defaultValues[S.Vb],required:t,maxLength:e[S.Vb].maxLength,validate:n.zipCodeValidator,onChange:g()(n.updateDeliveryInfo,400)})})),n.formApiRef=Object(r.createRef)();var i=Object(_.getStates)(e.market,e.language),s=[];return i&&i.length>0&&(s=i.map((function(e){return{value:e.code,label:e.label}}))),n.state={assignments:(t={},N(t,S.Vb,{maxLength:20,minLength:3,stateName:"PostalCode",isRequired:!0}),N(t,S.Sb,{maxLength:50,minLength:1,stateName:"City",isRequired:!0}),N(t,S.Wb,{maxLength:50,minLength:1,stateName:"StateProvince",isRequired:!0,states:s,selectedIndex:0}),t),isLocationChecked:null},n}return t=c,(n=[{key:"componentDidMount",value:function(){this.updateDeliveryInfo()}},{key:"componentDidUpdate",value:function(){this.validateDeliveryForm()}},{key:"defaultValues",get:function(){var e,t=this.props,n=t.deliveryPostalCode,r=t.deliveryCity,a=t.deliveryStateProvince;return N(e={},S.Vb,n),N(e,S.Wb,a),N(e,S.Sb,r),e}},{key:"render",value:function(){var e=this.props,t=e.isRequired,n=e.classNames,r=e.isInline,i=e.transportationFee,o=e.deliveryPostalCode,c=e.isDeliveryFormValid,s=e.isTransportFeeEnabled,m=e.isDeliveryDetailsRequiredOnOrderFlow,f=this.state.assignments;return t?a.a.createElement("div",{className:l()("delivery-location--container",N({},n,n))},a.a.createElement(d.a,{formApiRef:this.formApiRef,errorMessage:this.errorMessage,keepState:!0,showErrorIfDirty:!0},r?a.a.createElement("div",{className:"field-container delivery_details"},a.a.createElement("p",{className:"tds-text--h5"},Object(w.L)("DeliveryLocation.title")),a.a.createElement("p",{className:"tds-text--caption"},Object(w.L)(s?"DeliveryLocation.description_transport_fee":"Review.delivery_postal_code_disclaimer")),a.a.createElement("div",{className:"tds-flex tds--vertical_padding"},m?[a.a.createElement(p.a,{name:S.Wb,id:S.Wb,label:Object(w.L)("DeliveryLocation.delivery_state_province"),onChange:g()(this.updateDeliveryInfo,400),options:f[S.Wb].states,initialValue:this.defaultValues[S.Wb],key:"0"}),a.a.createElement(u.a,{name:S.Sb,id:S.Sb,label:Object(w.L)("DeliveryLocation.delivery_city"),defaultValue:this.defaultValues[S.Sb],onChange:g()(this.updateDeliveryInfo,400),maxLength:f[S.Sb].maxLength,required:!0,key:"1"})]:[this.showPostalCode(),s&&c?a.a.createElement("p",{className:"tds-text--caption",key:"1"},i?Object(w.L)("DeliveryLocation.estimate_transport_fee_label",{FEE:Object(P.formatCurrency)(i),POSTAL_CODE:o}):Object(w.L)("DeliveryLocation.estimate_transport_nofee_label",{POSTAL_CODE:o})):null])):null,r?null:this.showPostalCode())):null}}])&&C(t.prototype,n),i&&C(t,i),c}(r.Component);x.contextTypes={i18n:c.a.func},x.propTypes={updateFormDetails:c.a.func.isRequired,setRegion:c.a.func.isRequired,isDeliveryFormValid:c.a.bool,isRequired:c.a.bool.isRequired,setValidFlag:c.a.func.isRequired,deliveryPostalCode:c.a.string,transportationFee:c.a.number,market:c.a.string.isRequired,formErrors:c.a.shape(N({},S.Vb,c.a.string)),classNames:c.a.string,isInline:c.a.bool,isTransportFeeEnabled:c.a.bool,regionCode:c.a.string,isDeliveryDetailsRequiredOnOrderFlow:c.a.bool,language:c.a.string,deliveryStateProvince:c.a.string,deliveryCity:c.a.string},x.defaultProps={isDeliveryFormValid:!1,deliveryPostalCode:"",deliveryStateProvince:"",deliveryCity:"",transportationFee:0,formErrors:{},classNames:"",isInline:!0,isTransportFeeEnabled:!1,regionCode:"",isDeliveryDetailsRequiredOnOrderFlow:!1,language:"en"},t.a=Object(i.connect)((function(e){return{isDeliveryFormValid:f()(e,"ReviewDetails.isDeliveryDetailsValid"),market:f()(e,"OMS.oms_params.market",f()(window,"tesla.omsParams.market")),isRequired:f()(e,"Payment.registration.deliveryPostalCodeRequired",!1),deliveryPostalCode:f()(e,"ReviewDetails.DeliveryDetails.PostalCode",""),deliveryCity:f()(e,"ReviewDetails.DeliveryDetails.City",""),deliveryStateProvince:f()(e,"ReviewDetails.DeliveryDetails.StateProvince",""),formErrors:f()(e,"ReviewDetails.formErrors"),transportationFee:f()(e,"ReviewDetails.DeliveryDetails.TransportationFee",0),isTransportFeeEnabled:f()(e,"ReviewDetails.isTransportFeeEnabled",!1),regionCode:f()(e,"SummaryPanel.region_code",""),isDeliveryDetailsRequiredOnOrderFlow:f()(e,"ReviewDetails.isDeliveryDetailsRequiredOnOrderFlow",!1),language:f()(e,"App.language")}}),(function(e){return{setValidFlag:function(t){e(Object(E.setDeliveryDetailsValidFlag)(t))},updateFormDetails:function(t){e(Object(E.updateDeliveryDetails)(t))},setRegion:function(t){e(Object(E.setSummaryPanelRegion)(t))}}}))(x)},311:function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a}},314:function(e,t,n){"use strict";n.r(t),n.d(t,"updateMatching",(function(){return a.u})),n.d(t,"updateRegistration",(function(){return a.w})),n.d(t,"addModifiedApplication",(function(){return a.a})),n.d(t,"updatePricesEpic",(function(){return a.v})),n.d(t,"orderSchemaToState",(function(){return a.h})),n.d(t,"stateToOrderSchema",(function(){return a.p})),n.d(t,"stateToOrderSchemaSX",(function(){return a.q})),n.d(t,"getCreditCardToken",(function(){return a.f})),n.d(t,"inventory_stateToOrderWithPaymentSchema",(function(){return a.g})),n.d(t,"stateToOrderWithPaymentSchema",(function(){return a.r})),n.d(t,"saveDesignSchema",(function(){return a.m})),n.d(t,"postMktConfig",(function(){return a.j})),n.d(t,"cancelEditOrder",(function(){return a.b})),n.d(t,"postMktConfigWithPayment",(function(){return a.k})),n.d(t,"postOrderWithPayment",(function(){return a.l})),n.d(t,"changeHeroView",(function(){return a.d})),n.d(t,"changeHeroType",(function(){return a.c})),n.d(t,"selectPackage",(function(){return a.n})),n.d(t,"setOptionExtended",(function(){return a.o})),n.d(t,"experimentFlow",(function(){return a.e})),n.d(t,"triggerLoaderAction",(function(){return a.t})),n.d(t,"triggerGenericAction",(function(){return a.s})),n.d(t,"postCreateEnergyLead",(function(){return a.i})),n.d(t,"InitialState",(function(){return i})),n.d(t,"Reducer",(function(){return v})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r),n.d(r,"updatePricesEpic",(function(){return a.v}));var a=n(235),i=function(e){return{object:e.object}},o=n(2),c=n(45),s=n.n(c),l=n(1),u=n.n(l),d=n(17),p=n.n(d),m=n(4);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.EPAunits,r=void 0===n?{}:n,a=e.hideEstLink,i=void 0===a?{}:a,c=i.selectedBy,l=void 0===c?{}:c,d=r.selectedBy,f=void 0===d?[]:d;switch(t.type){case o.B:return y(y({},e),{},{selected_view:t.selected_view});case o.A:return y(y({},e),{},{selected_type:t.selected_type});case o.P:var b=t.set,v=void 0===b?[]:b;if(void 0===v)return e;var g=u()(t,"userSelectedOptionsByCategory.matchedCodes",{}),h=null;return s()(v,g.PAINT).length?h="exterior":s()(v,g.INTERIOR_BUNDLE).length&&(h="interior"),y(y({},e),{},{selected_view:h||e.selected_view,extraDelivery:!!s()(u()(t,"options",[]),["$DV4W","$IN3PW","$PFP31"]).length,EPAunits:y(y({},e.EPAunits),{},{display:!p()(f)&&Object(m.Q)(f,u()(t,"options",[]))}),hideEstLink:y(y({},i),{},{hide:!p()(l)&&Object(m.Q)(l,u()(t,"options",[]))})});default:return e}}},371:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(2),a=function(e,t){return{type:r.gf,selectedForm:e,userClicked:"undefined"!==t&&t}},i=function(){return{type:r.dg}},o=function(e){return{type:r.Pc,flag:e}},c=function(e){return{type:r.lf,driverType:e}}},372:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"k",(function(){return P})),n.d(t,"i",(function(){return _})),n.d(t,"n",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return j})),n.d(t,"e",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"j",(function(){return A})),n.d(t,"m",(function(){return D})),n.d(t,"h",(function(){return R})),n.d(t,"d",(function(){return L})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return x})),n.d(t,"q",(function(){return I}));var r=n(58),a=n.n(r),i=n(1),o=n.n(i),c=n(17),s=n.n(c),l=n(74),u=n.n(l),d=n(29),p=n(4),m=n(9),f=n(23),y=n(2);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){return function(n){n({type:y.sb});var r=Object(p.R)({email:e});a.a.post("/configurator/api/email-availability").send(r).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end((function(r,a){return r||!o()(a,"body.success",!1)?n({type:y.rb}):(o()(a,"body.available",!1)?n({type:y.tb,emailAddress:e}):n({type:y.ub,emailAddress:e}),"function"==typeof t&&t(),null)}))}},O=function(e){return{type:y.c,flag:e}},P=function(e){return{type:y.af,flag:e}},_=function(e){return{type:y.Bf,flag:e}},w=function(e){return function(t,n){var r=n(),a={};s()(e.IdentificationType)&&(a.IdentificationType=o()(r,"ReviewDetails.AccountDetail.identificationType")),t({type:y.b,payload:v(v({},e),a)})}},E=function(e){return{type:y.hb,flag:e}},S=function(e){return function(t,n){var r=e.Latitude,a=void 0===r?null:r,i=e.Longitude,o=void 0===i?null:i,c=n(),s=c.ReviewDetails,l=(void 0===s?{}:s).isTransportFeeEnabled,u=void 0!==l&&l,d=v({},e);if(u&&null!==a&&null!==o){var p=Object(m.a)(c,{Latitude:a,Longitude:o}),b=p.fee,g=void 0===b?0:b,h=p.sourceType,O=p.distance,P=void 0===O?0:O,_=p.trt,w=(void 0===_?{}:_).id;d.TransportationFee=g,d.SourceType=h,d.Distance=P,h===y.ib&&(d.PickupLocation=w),f.a.fireTagEvent({event:"configurator","cfg-type":"inventory",interaction:"delivery-location-change"})}t({type:y.gb,payload:d})}},j=function(e){return function(t){t({type:y.Jc,IdentificationType:"Review.".concat(e.value)})}},C=function(e){return{type:y.Dc,field:e}},T=function(e){return{type:y.uf,field:e}},A=function(e){return{type:y.Ve,regType:e}},D=function(e){return{type:y.fg,flag:e}},R=function(e){var t=e.field,n=e.error,r=void 0===n?"required":n;return{type:y.mf,field:t,error:r}},L=function(){return{type:y.I}},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(r,a){var i=a(),c=o()(i,"Location.components.summaryPanel.regionCode");return d.Calculator.total({Incentives:i.Financial.fms_incentives,Fees:i.Financial.fms_fees,Loan:i.Financial.fms_loan,Lexicon:i.OMS.lexicon,Configuration:{options:e},UnselectedOptions:Object(p.I)(i,e)},v(v({},i.OMS.oms_params),{},{options:e,regionCode:c||o()(i,"SummaryPanel.region_code"),vehiclePrice:t,passmatchedCodes:n,selectedIncentives:o()(i,"SummaryPanel.selectedIncentives",[]),incentivesFinanceType:Object(m.w)(i),fuelDist:Object(m.z)(i),fuelPrice:o()(i,"SummaryPanel.fuelPrice")}))}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var a=r(),i=o()(a,"Pricing.calculatorResult.data.apiResults.price.matchedCodes",[]);if(!o()(a,"ReviewDetails.includePurchasePriceIncentivesInTrims",!0))return null;var c={userSelectedOptions:u()([].concat(e,a.Configuration.user_selected_options)),ignoreRules:["RequiredUpgrades","ExistInWorld","Deprecated"],set:e},s=d.Configurator.setOption({Lexicon:a.OMS.lexicon,Configuration:{options:a.Configuration.option_codes}},c).options;return N(s,t,i)(n,r)}},I=function(e){return{type:y.sg,VehicleDetail:e}}},373:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(2),a=n(170),i=function(){return{type:r.l}},o=function(){return{type:r.m}},c=function(e){return{type:r.k,errorMsg:e}},s=function(e){return{type:r.j,payment:e}},l=function(e){return{type:r.n,userHasApplePay:e}},u=function(){return function(e){e(i());var t=new ApplePaySession(1,{countryCode:"US",currencyCode:"USD",lineItems:[],total:{label:"Tesla, Inc.",amount:"100.00"},supportedNetworks:["amex","discover","masterCard","visa"],merchantCapabilities:["supports3DS"],requiredBillingContactFields:["postalAddress","name"],requiredShippingContactFields:["email","phone"]});t.onvalidatemerchant=function(n){var r,a=n.validationURL;(r=a,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("POST","/configurator/api/get_apple_pay_session"),n.onload=function(){(void 0).status>=200&&(void 0).status<300?e(JSON.parse(n.response)):t(new Error("Status: ".concat((void 0).status," | Error Message: ").concat(n.statusText)))},n.onerror=function(){t(new Error("Status: ".concat((void 0).status," | Error Message: ").concat(n.statusText)))},n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({url:r}))}))).then((function(n){e(o()),t.completeMerchantValidation(n)})).catch((function(){e(c("TODO: some friendly localized error message"))}))},t.onpaymentauthorized=function(n){var r=n.payment;e(s(r)),e(Object(a.e)(t))},t.begin()}}},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),a=function(e){return{type:r.a,key:e}}},375:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(2),a=function(e){return function(t){t({type:r.Ib,payload:e})}},i=function(){return function(e){e({type:r.Hb})}}},376:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var r=n(1),a=n.n(r),i=n(85),o=n.n(i),c=n(58),s=n.n(c),l=n(2),u=n(4),d=n(9),p=n(5);function m(e,t){return{type:l.rf,options:t,shortUrl:e}}var f=function(){return function(e,t){var n=t(),r=a()(n,"SaveDesign.options",[]),i=a()(n,"Configuration.option_codes",[]),c=a()(n,"SaveDesign.shortUrl"),l=Object(u.H)(n),p=Object(u.G)(n).optionCodes.join(","),f=Object(d.D)(n),y=a()(n,"OMS.oms_params.model"),b=a()(n,"OMS.oms_params.market"),v=a()(n,"OMS.oms_params.language");return c&&0===o()(i,r).length?e(m(c,i)):(s.a.get(a()(n,"App.env.findMyTesla.shortUrl","/configurator/api/get_short_url")).type("form").query({modelName:f,modelCode:y,options:p,market:b,language:v}).end((function(t,n){e(m(t?l:n.body.short_url,i))})),null)}},y=function(e){var t=e.method,n=e.email,r=e.getUpdates;return function(e,i){var o=i(),c=Object(u.y)(o).locale,m=Object(u.G)(o),f=m.optionCodes,y=m.optionCodeNames,b=a()(o,"ReviewDetails.asset.view"),v=Object(p.formatCurrency)(Object(d.j)(o)),g=a()(o,"OMS.oms_params.model"),h=a()(o,"Location.sources.geoIp.postalCode"),O=a()(o,"OMS.oms_params.market"),P=Object(d.D)(o);e({email:n,type:l.of}),"email"===t&&s.a.post(a()(o,"App.env.findMyTesla.saveDesignLite","/configurator/api/save_design_lite")).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").send(Object(u.R)({method:"Email",email:n,optionCodes:f.join(","),optionCodeNames:y.join(","),locale:c,assetView:b,depositAmount:v,modelCode:g,postalCode:h,countryCode:O,modelName:P,getUpdates:r})).end((function(t){return t?e({type:l.nf}):(e({type:l.pf}),null)}))}},b=function(){return{type:l.L}},v=function(e,t){var n=t?t.current:null;return Object(u.f)(e,n),{copied:!0,type:l.S}}},377:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(21),o=n.n(i),c=n(3),s=n(70),l=function(e){var t=e.group,n=e.field,r=e.component,i=e.classes;return t&&o()(t,n)?a.a.createElement(s.a,{data:t,field:n,tag:{component:r},className:"tds-text_color--30".concat(i?" ".concat(i):"")}):null};l.propTypes={group:Object(c.shape)({selected:c.bool,code:c.string,name:c.string,formattedPrice:c.string}).isRequired,field:c.string.isRequired,component:c.string,classes:c.string},l.defaultProps={component:"div",classes:""},t.a=l},392:function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},394:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n(6),c=n.n(o),s=n(13),l=n(26),u=n.n(l),d=n(1),p=n.n(d),m=n(17),f=n.n(m),y=n(4),b=n(156),v=n(70),g=n(937);n(409);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var a=T(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,i=j(o);function o(){return w(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.group,n=e.className,r=e.styleProps,i=e.detail_size,o=void 0===i?"big":i,s=e.model,l=e.showGroupTitle,d=void 0===l||l,m=e.showGroupFeatureList,y=void 0===m||m,h=e.imgProps__Mobile,w=p()(t,"asset.video_content",!1),E=f()(h)?t.asset:h,S=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);if(!t)return null;var j=p()(u()(p()(t,"extra_content",[]),(function(e){return"detail_size"===p()(e,"type")}))||{},"content",o);return a.a.createElement("div",{style:S,className:c()("group--main-content",function(){switch(j){case"full-asset":return"group--main-content--big group-main-content--full-asset";case"big":return"group--main-content--big group-main-content--big-content";default:return"group--main-content--regular"}}(),_({},n,n))},"full-asset"!==j&&(t.features||d&&t.title||y&&t.feature_list)&&!w&&a.a.createElement("div",{className:"group--main-content--details"},a.a.createElement(v.a,{data:t,field:"features"}),d&&a.a.createElement(v.a,{data:t,field:"title"}),y&&a.a.createElement(v.a,{data:t,field:"feature_list.default"})),t.asset&&"no_asset"!==j&&a.a.createElement(a.a.Fragment,null,w&&a.a.createElement(g.default,O({asset:t.asset},this.props)),(!t.asset.video_content||!f()(h))&&a.a.createElement(b.default,{className:"group--main-content--asset group--main-content--asset__".concat(t.code||""," ").concat(s),asset:E,key:"".concat(t.code,"__asset"),title:t.code})))}}])&&E(t.prototype,n),r&&E(t,r),o}(r.Component);A.propTypes={group:Object(i.shape)({asset:Object(i.shape)({video_content:Object(i.arrayOf)(Object(i.shape)({}))}),title:i.string,feature_list:Object(i.oneOfType)([Object(i.arrayOf)(i.string),Object(i.shape)({})]),code:i.string,features:i.string}),className:i.string,showGroupTitle:i.bool,showGroupFeatureList:i.bool,detail_size:i.string,model:i.string,styleProps:Object(i.shape)({}),isLayoutMobile:i.bool,imgProps__Mobile:Object(i.shape)({}),showGroupVideo:i.bool,isMediaStoryEnabled:i.bool},A.defaultProps={group:null,className:"",showGroupTitle:!0,showGroupFeatureList:!0,detail_size:"big",model:null,styleProps:{},isLayoutMobile:!1,imgProps__Mobile:{},showGroupVideo:!1,isMediaStoryEnabled:!1},t.a=Object(s.connect)((function(e,t){var n=p()(e,"CustomGroups.".concat(t.group),{}),r=p()(e,"App.isLayoutMobile",!1),a=r?Object(y.u)(n):{};return{showGroupFeatureList:t.showGroupFeatureList,styleProps:t.styleProps,className:t.className,group:n,CustomGroups:e.CustomGroups,model:e.OMS.oms_params.model,showGroupVideo:p()(t,"showGroupVideo",!1),isLayoutMobile:r,imgProps__Mobile:a}}),null)(A)},400:function(e,t,n){(function(e){var n,r,a,i;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof window&&window,i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}({20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidIDNumber=t.getIDRegex=void 0;var r={CN:{CITIZEN_ID_NO:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,PARMIT_NO:/^[a-zA-Z0-9]{1,30}$/,PASSPORT_NO:/^[a-zA-Z0-9]{1,30}$/}};t.getIDRegex=function(e,t){return null==t&&(t=e,e="CN"),r.hasOwnProperty(e)?null===r[e]?/^\w*$/:r[e][t]?r[e][t]:/^\w*$/:(console.warn("cannot validate idType",e,"not supported"),/^\w*$/)},t.isValidIDNumber=function(e,t){return null==t&&(t=e,e="CN"),r.hasOwnProperty(e)?null===r[e].CITIZEN_ID_NO||!!r[e].CITIZEN_ID_NO.exec(t):(console.warn("cannot validate id number",e,"not supported"),!0)}}})},"object"==o(t)&&"object"==o(e)?e.exports=i():(r=[],void 0===(a="function"==typeof(n=i)?n.apply(t,r):n)||(e.exports=a))}).call(this,n(57)(e))},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14).__importDefault(n(1825));t.default=function(e,t){var n=t&&t.countryCode||null,a=r.default.DEFAULT;return null!=n&&n in r.default&&(a=r.default[n]),a.test(e)}},403:function(e,t,n){"use strict";n.r(t),n.d(t,"navigationSelectKey",(function(){return a.d})),n.d(t,"navigationSelectNextKey",(function(){return a.e})),n.d(t,"triggerAction",(function(){return a.f})),n.d(t,"externalLinkClicked",(function(){return a.c})),n.d(t,"NavigationFlow",(function(){return a.b})),n.d(t,"AnalyticsFlow",(function(){return a.a})),n.d(t,"InitialState",(function(){return y})),n.d(t,"Reducer",(function(){return j})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r),n.d(r,"NavigationFlow",(function(){return a.b})),n.d(r,"AnalyticsFlow",(function(){return a.a}));var a=n(200),i={allowedSections:["overview","payment"],section:"overview",sections:[{key:"overview",selected:!0,title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]},{key:"payment",title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]}],next_section:"",layouts:{menu:{selected:[],available:{main_menu:{components:[{component:"Logo",key:"Logo:branding",props:{}}]}}},main:{selected:["main_rail"],available:{main_mobile:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:aside.TOW_PACKAGE",sections:["overview"],group:"TOW_PACKAGE"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container option-widget--container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"option-widget--container tds--align_center"}},{component:"AssetLoader",key:"PAYMENT.asset",sections:["payment"],props:{asset:{bkba:1,type:"image-compositor",view:"REAR34",crop:[1300,460,300,300]},className:"group-main-content--full-asset",isAsset:!0}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]},main_rail:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:aside.TOW_PACKAGE",sections:["overview"],group:"TOW_PACKAGE"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"tds--align_center"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},gallery:{selected:["gallery_section"],available:{gallery_section:{components:[{component:"MainGallery",key:"MainGallery:gallery.FSD",group:"FSD_GALLERY",excludeGroup:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",gallery:{group:"EXTERIOR_GALLERY",section:2},sections:["payment"]}]}}},footer:{selected:[],available:{simple_summary:{components:[{component:"Footer",key:"Footer:main",props:{}}]}}}}},o=n(1),c=n.n(o),s=n(173),l=n.n(s),u=c()(window.tesla,"pFeature",""),d=c()(window.tesla,"pFeatureValue","");d=!d&&u?l.a.get(u)||"":d;var p={allowedSections:["payment"],section:"payment",sections:[{key:"payment",selected:!0,title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_section"]},{layout_name:"aside",selected:["aside_section"]}]}],next_section:"",layouts:{menu:{selected:[],available:{main_menu:{components:[{component:"Logo",key:"Logo:branding",props:{}},{component:"Menu",key:"Menu:main",props:{}}]}}},main:{selected:["main_section"],available:{main_section:{components:[{component:"CustomGroup",key:"CustomGroup:main.PAYMENT",sections:["payment"],props:{classes:"tds--no_vertical_padding",components:{aside:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",sections:["payment"],props:{withMain:!1,isMain:!1,code:"BATTERY_AND_DRIVE",isNested:!0,classes:"tds--padding"}},{component:"PaymentOverview",key:"PaymentOverview:order",sections:["payment"],props:{isSinglePage:!0}}]}}}]},main_mobile:{components:[{component:"AssetLoader",key:"PAYMENT.asset",sections:["payment"],props:{asset:{type:"image",url:"CYBERTRUCK/NVRP_m".concat(d,".png")},className:"group-main-content--full-asset",isAsset:!0}},{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["payment"]},{component:"PaymentOverview",key:"PaymentOverview:order",sections:["payment"],props:{isSinglePage:!0}}]}}},footer:{selected:[],available:{}}},containerBG:"CYBERTRUCK/NVRP".concat(d,".png")},m={allowedSections:["overview","payment"],section:"overview",sections:[{key:"overview",selected:!0,title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]},{key:"payment",title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]}],next_section:"",layouts:{menu:{selected:[],available:{main_menu:{components:[{component:"Logo",key:"Logo:branding",props:{}}]}}},main:{selected:["main_rail"],available:{main_mobile:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container option-widget--container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"option-widget--container tds--align_center"}},{component:"AssetLoader",key:"PAYMENT.asset",sections:["payment"],props:{asset:{bkba:1,type:"image-compositor",view:"REAR34",crop:[1300,480,300,280]},className:"group-main-content--full-asset",isAsset:!0}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]},main_rail:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"tds--align_center"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},gallery:{selected:["gallery_section"],available:{gallery_section:{components:[{component:"MainGallery",key:"MainGallery:gallery.FSD",group:"FSD_GALLERY",excludeGroup:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",gallery:{group:"EXTERIOR_GALLERY",section:2},sections:["payment"]}]}}},aside:{selected:["aside_section"],available:{aside_section:{components:[{component:"LexiconGroup",key:"LexiconGroup:aside.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:aside.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:aside.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:aside.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:aside.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"PaymentOverviewTrigger",key:"PAYMENT",sections:["overview"]},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding option-widget--container"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},footer:{selected:[],available:{simple_summary:{components:[{component:"Footer",key:"Footer:main",props:{}}]}}}}},f={allowedSections:["overview","payment"],section:"overview",sections:[{key:"overview",selected:!0,title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]},{key:"payment",title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]}],next_section:"",layouts:{menu:{selected:[],available:{main_menu:{components:[{component:"Logo",key:"Logo:branding",props:{}}]}}},main:{selected:["main_rail"],available:{main_mobile:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:main.TOWING",sections:["overview"],group:"TOWING"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container option-widget--container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"option-widget--container tds--align_center"}},{component:"AssetLoader",key:"PAYMENT.asset",sections:["payment"],props:{asset:{bkba:1,type:"image-compositor",view:"REAR34",crop:[1300,460,300,300]},className:"group-main-content--full-asset",isAsset:!0}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]},main_rail:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:main.TOWING",sections:["overview"],group:"TOWING"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"tds--align_center"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},gallery:{selected:["gallery_section"],available:{gallery_section:{components:[{component:"MainGallery",key:"MainGallery:gallery.FSD",group:"FSD_GALLERY",excludeGroup:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",gallery:{group:"EXTERIOR_GALLERY",section:2},sections:["payment"]}]}}},aside:{selected:["aside_section"],available:{aside_section:{components:[{component:"LexiconGroup",key:"LexiconGroup:aside.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.SPORT_PACKAGE",sections:["overview"],group:"SPORT_PACKAGE"},{component:"LexiconGroup",key:"LexiconGroup:aside.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:aside.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:aside.TOWING",sections:["overview"],group:"TOWING"},{component:"LexiconGroup",key:"LexiconGroup:aside.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:aside.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"PaymentOverviewTrigger",key:"PAYMENT",sections:["overview"]},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding option-widget--container"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},footer:{selected:[],available:{simple_summary:{components:[{component:"Footer",key:"Footer:main",props:{}}]}}}}},y={merge_method:"assign",object:{allowedSections:["overview","payment"],section:"overview",sections:[{key:"overview",selected:!0,title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]},{key:"payment",title:"",layout_mobile:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_tablet:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_mobile"]},{layout_name:"footer",selected:["simple_summary"]}],layout_desktop:[{layout_name:"menu",selected:["main_menu"]},{layout_name:"main",selected:["main_rail"]},{layout_name:"gallery",selected:["gallery_section"]},{layout_name:"footer",selected:["simple_summary"]}]}],next_section:"",layouts:{menu:{selected:[],available:{main_menu:{components:[{component:"Logo",key:"Logo:branding",props:{}}]}}},main:{selected:["main_rail"],available:{main_mobile:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:main.TOWING",sections:["overview"],group:"TOWING"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container option-widget--container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"option-widget--container tds--align_center"}},{component:"AssetLoader",key:"PAYMENT.asset",sections:["payment"],props:{asset:{bkba:1,type:"image-compositor",view:"REAR34",crop:[1300,460,300,300]},className:"group-main-content--full-asset",isAsset:!0}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]},main_rail:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:main.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:main.TOWING",sections:["overview"],group:"TOWING"},{component:"LexiconGroup",key:"LexiconGroup:main.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"tds--align_center"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},gallery:{selected:["gallery_section"],available:{gallery_section:{components:[{component:"MainGallery",key:"MainGallery:gallery.FSD",group:"FSD_GALLERY",excludeGroup:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",gallery:{group:"EXTERIOR_GALLERY",section:2},sections:["payment"]}]}}},aside:{selected:["aside_section"],available:{aside_section:{components:[{component:"LexiconGroup",key:"LexiconGroup:aside.BATTERY_AND_DRIVE",group:"BATTERY_AND_DRIVE",sections:["overview"]},{component:"LexiconGroup",key:"LexiconGroup:main.SPORT_PACKAGE",sections:["overview"],group:"SPORT_PACKAGE"},{component:"LexiconGroup",key:"LexiconGroup:aside.PAINT",sections:["overview"],group:"PAINT"},{component:"LexiconGroup",key:"LexiconGroup:aside.WHEELS",sections:["overview"],group:"WHEELS"},{component:"LexiconGroup",key:"LexiconGroup:aside.TOWING",sections:["overview"],group:"TOWING"},{component:"LexiconGroup",key:"LexiconGroup:aside.PACKAGES",sections:["overview"],group:"PACKAGES"},{component:"LexiconGroup",key:"LexiconGroup:aside.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"PaymentOverviewTrigger",key:"PAYMENT",sections:["overview"]},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding option-widget--container"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}},footer:{selected:[],available:{simple_summary:{components:[{component:"Footer",key:"Footer:main",props:{}}]}}}},hideSelectedPriceGroups:["WINTER_WHEELS"],doNotShowNameInChildGroups:["REAR_SEATS","COMFORT_PACKAGE","TOWING","TOW_PACKAGE"],doNotShowNameInDisabledGroups:["TOWING","TOW_PACKAGE"],containerBG:""},deltas:{model:{ms:i,mx:m,my:f,mp:p}},deltasV2:[{selected_by:{model:"my",market:"CN"},object:{featureListExpandedAllTime:!0}},{selected_by:{isInventory:!0,isProductWithOverview:!0},object:{layouts:{gallery:{selected:["gallery_section"],available:{gallery_section:{components:[{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",source:{path:"ReviewDetails.product.data.CompositorViews",defaultParams:{bkba:1,type:"image-compositor",zoom:1}},sections:["overview"]},{component:"MainGallery",key:"MainGallery:gallery.EXTERIOR",group:"EXTERIOR_GALLERY",source:{path:"ReviewDetails.product.data.CompositorViews",defaultParams:{bkba:1,type:"image-compositor",zoom:1}},sections:["payment"]}]}}},main:{selected:["main_rail"],available:{main_mobile:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container option-widget--container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"option-widget--container tds--align_center"}},{component:"AssetLoader",key:"PAYMENT.asset",sections:["payment"],props:{asset:{bkba:1,type:"image-compositor",view:"REAR34",crop:[1300,460,300,300]},className:"group-main-content--full-asset",isAsset:!0}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]},main_rail:{components:[{component:"LexiconGroup",key:"LexiconGroup:main.AUTOPILOT_PACKAGE",sections:["overview"],group:"AUTOPILOT_PACKAGE"},{component:"EditDesignLink",key:"EditDesignLink:main.PAYMENT",sections:["payment"],props:{classes:"tds-content_container tds--padding tds--no_vertical_padding"}},{component:"PaymentOverviewTrigger",key:"OPTIONS",sections:["overview"],props:{classes:"tds--align_center"}},{component:"PaymentOverview",key:"PAYMENT",sections:["payment"]}]}}}}}}]},b=n(2),v=n(74),g=n.n(v),h=n(219),O=n.n(h);n(45);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=e.sections,n=O()(t,{selected:!0});return{current:n>=0?c()(t,"".concat(n,".key")):c()(t,"0.key"),next:n>=0&&n<t.length-1?c()(t,"".concat(n+1,".key")):c()(t,"".concat(t.length-1,".key"))}}function S(e){var t=e.sections,n=e.selected_section;return t.map((function(e){return _(_({},e),{},{selected:e.key===n})}))}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.app_state,a=e.sections,i=void 0===a?[]:a,o=e.layouts,c=void 0===o?{}:o,s=e.allowedSections,l=void 0===s?[]:s,u=e.next_section,d=void 0===u?"":u,p=e.section,m={},f=r.App,y=f.isLayoutMobile,v=f.isLayoutTablet;switch(t.type){case b.Ld:case b.cf:return i.map((function(t){if(t.selected){var n=t.layout_select?t.layout_select:t.layout_mobile&&y?t.layout_mobile:t.layout_tablet&&v?t.layout_tablet:t.layout_desktop?t.layout_desktop:null;c=_(_({},c),n.reduce((function(t,n){return Object.assign(t,w({},n.layout_name,_(_({},e.layouts[n.layout_name]),{},{selected:n.selected})))}),{}))}return null})),m=E({sections:i=S({layouts:c,sections:i,selected_section:p})}),_(_({},e),{},{layouts:c,section:m.current,next_section:m.next});case b.Dd:return i.filter((function(e){return e.key===t.key})).length?(i.map((function(n){if(n.key===t.key){var r=n.layout_select?n.layout_select:n.layout_mobile&&y?n.layout_mobile:n.layout_tablet&&v?n.layout_tablet:n.layout_desktop?n.layout_desktop:null;c=_(_({},e.layouts),r.reduce((function(t,n){return Object.assign(t,w({},n.layout_name,_(_({},e.layouts[n.layout_name]),{},{selected:n.selected})))}),{}))}return null})),m=E({sections:i=S({layouts:c,sections:i,selected_section:t.key})}),_(_({},e),{},{layouts:c,sections:i,next_section:m.next,section:m.current})):e;case b.Ed:return i.map((function(t){if(t.key===e.next_section){var n=t.layout_select?t.layout_select:t.layout_mobile&&y?t.layout_mobile:t.layout_tablet&&v?t.layout_tablet:t.layout_desktop?t.layout_desktop:null;c=_(_({},e.layouts),n.reduce((function(t,n){return Object.assign(t,w({},n.layout_name,_(_({},e.layouts[n.layout_name]),{},{selected:n.selected})))}),{}))}return null})),m=E({sections:i=S({layouts:c,sections:i,selected_section:d})}),_(_({},e),{},{layouts:c,sections:i,next_section:m.next,section:m.current});case b.zd:return _(_({},e),{},{allowedSections:g()(l.concat(t.keys))});default:return e}}},405:function(e,t,n){(function(e,r){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */(function(){"use strict";var o={function:!0,object:!0},c=o["undefined"==typeof window?"undefined":i(window)]&&window||this,s=o[i(t)]&&t,l=o[i(e)]&&e&&!e.nodeType&&e,u=s&&l&&"object"==(void 0===r?"undefined":i(r))&&r;!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u);var d=Math.pow(2,53)-1,p=/\bOpera/,m=Object.prototype,f=m.hasOwnProperty,y=m.toString;function b(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=_(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:b(e)}function g(e,t){for(var n in e)f.call(e,n)&&t(e[n],n,e)}function h(e){return null==e?b(e):y.call(e).slice(8,-1)}function O(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function P(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=d)for(;++n<r;)t(e[n],n,e);else g(e,t)}(e,(function(r,a){n=t(n,r,a,e)})),n}function _(e){return String(e).replace(/^ +| +$/g,"")}var w=function e(t){var n=c,r=t&&"object"==i(t)&&"String"!=h(t);r&&(n=t,t=null);var a=n.navigator||{},o=a.userAgent||"";t||(t=o);var s,l,u,d,m,f=r?!!a.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(y.toString()),b=r?"Object":"ScriptBridgingProxyObject",w=r?"Object":"Environment",E=r&&n.java?"JavaPackage":h(n.java),S=r?"Object":"RuntimeObject",j=/\bJava/.test(E)&&n.java,C=j&&h(n.environment)==w,T=j?"a":"α",A=j?"b":"β",D=n.document||{},R=n.operamini||n.opera,L=p.test(L=r&&R?R["[[Class]]"]:h(R))?L:R=null,N=t,x=[],I=null,F=t==o,k=F&&R&&"function"==typeof R.version&&R.version(),M=P([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||O(n))+"\\b","i").exec(t)&&(n.label||n)})),V=function(e){return P(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||O(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),q=function(e){return P(e,(function(e,n,r){return e||(n[B]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+O(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),G=function(e){return P(e,(function(e,n){var r=n.pattern||O(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return P(e,(function(e,n){var r=n.pattern||O(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=v(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function W(e){return P(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(M&&(M=[M]),/\bAndroid\b/.test(G)&&!B&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(B=_(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),q&&!B?B=U([q]):q&&B&&(B=B.replace(RegExp("^("+O(q)+")[-_.\\s]","i"),q+" ").replace(RegExp("^("+O(q)+")[-_.]?(\\w)","i"),q+" $2")),(s=/\bGoogle TV\b/.exec(B))&&(B=s[0]),/\bSimulator\b/i.test(t)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==V&&/\bOPiOS\b/.test(t)&&x.push("running in Turbo/Uncompressed mode"),"IE"==V&&/\blike iPhone OS\b/.test(t)?(q=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,B=s.product):/^iP/.test(B)?(V||(V="Safari"),G="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==V&&/^Linux\b/i.test(G)?G="Kubuntu":q&&"Google"!=q&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(B))||/\bAndroid\b/.test(G)&&/^Chrome/.test(V)&&/\bVersion\//i.test(t)?(V="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==V?(/\bMobi/i.test(t)||(G="Android",x.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&x.unshift("accelerated")):"UC Browser"==V&&/\bUCWEB\b/.test(t)?x.push("speed mode"):"PaleMoon"==V&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?x.push("identifying as Firefox "+s[1]):"Firefox"==V&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(G||(G="Firefox OS"),B||(B=s[1])):!V||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(V))?(V&&!B&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(V=null),(s=B||q||G)&&(B||q||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:s)+" Browser")):"Electron"==V&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&x.push("Chromium "+s),k||(k=W(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",O(V),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==M&&parseFloat(k)>3?"WebKit":/\bOpera\b/.test(V)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(M)&&"WebKit"||!M&&/\bMSIE\b/i.test(t)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==M&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&(M=[s]),"IE"==V&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(V+=" Mobile",G="Windows Phone "+(/\+$/.test(s)?s:s+".x"),x.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(V="IE Mobile",G="Windows Phone 8.x",x.unshift("desktop mode"),k||(k=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=V&&"Trident"==M&&(s=/\brv:([\d.]+)/.exec(t))&&(V&&x.push("identifying as "+V+(k?" "+k:"")),V="IE",k=s[1]),F){if(d="global",m=null!=(u=n)?i(u[d]):"number",/^(?:boolean|number|string|undefined)$/.test(m)||"object"==m&&!u[d])h(s=n.runtime)==b?(V="Adobe AIR",G=s.flash.system.Capabilities.os):h(s=n.phantom)==S?(V="PhantomJS",k=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof D.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(k=[k,D.documentMode],(s=+s[1]+4)!=k[1]&&(x.push("IE "+k[1]+" mode"),M&&(M[1]=""),k[1]=s),k="IE"==V?String(k[1].toFixed(1)):k[0]):"number"==typeof D.documentMode&&/^(?:Chrome|Firefox)\b/.test(V)&&(x.push("masking as "+V+" "+k),V="IE",k="11.0",M=["Trident"],G="Windows");else if(j&&(N=(s=j.lang.System).getProperty("os.arch"),G=G||s.getProperty("os.name")+" "+s.getProperty("os.version")),C){try{k=n.require("ringo/engine").version.join("."),V="RingoJS"}catch(e){(s=n.system)&&s.global.system==n.system&&(V="Narwhal",G||(G=s[0].os||null))}V||(V="Rhino")}else"object"==i(n.process)&&!n.process.browser&&(s=n.process)&&("object"==i(s.versions)&&("string"==typeof s.versions.electron?(x.push("Node "+s.versions.node),V="Electron",k=s.versions.electron):"string"==typeof s.versions.nw&&(x.push("Chromium "+k,"Node "+s.versions.node),V="NW.js",k=s.versions.nw)),V||(V="Node.js",N=s.arch,G=s.platform,k=(k=/[\d.]+/.exec(s.version))?k[0]:null));G=G&&v(G)}if(k&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(k)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(F&&a.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(I=/b/i.test(s)?"beta":"alpha",k=k.replace(RegExp(s+"\\+?$"),"")+("beta"==I?A:T)+(/\d+\+?/.exec(s)||"")),"Fennec"==V||"Firefox"==V&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(G))V="Firefox Mobile";else if("Maxthon"==V&&k)k=k.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(G=null),"Xbox 360"==B&&/\bIEMobile\b/.test(t)&&x.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(V)&&(!V||B||/Browser|Mobi/.test(V))||"Windows CE"!=G&&!/Mobi/i.test(t))if("IE"==V&&F)try{null===n.external&&x.unshift("platform preview")}catch(e){x.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(t))&&(s=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||k)?(G=((s=[s,/BB10/.test(t)])[1]?(B=null,q="BlackBerry"):"Device Software")+" "+s[0],k=null):this!=g&&"Wii"!=B&&(F&&R||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==V&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==V&&(G&&!/^Win/.test(G)&&k>5.5||/\bWindows XP\b/.test(G)&&k>8||8==k&&!/\bTrident\b/.test(t)))&&!p.test(s=e.call(g,t.replace(p,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),p.test(V)?(/\bIE\b/.test(s)&&"Mac OS"==G&&(G=null),s="identify"+s):(s="mask"+s,V=L?v(L.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(G=null),F||(k=null)),M=["Presto"],x.push(s));else V+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==V&&"+"==s[1].slice(-1)?(V="WebKit Nightly",I="alpha",k=s[1].slice(0,-1)):k!=s[1]&&k!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(k=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==M&&(M=["Blink"]),F&&(f||s[1])?(M&&(M[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=M?"27":"28")):(M&&(M[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),M&&(M[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==V&&(!k||parseInt(k)>45)?k=s:"Chrome"==V&&/\bHeadlessChrome/i.test(t)&&x.unshift("headless")),"Opera"==V&&(s=/\bzbov|zvav$/.exec(G))?(V+=" ",x.unshift("desktop mode"),"zvav"==s?(V+="Mini",k=null):V+="Mobile",G=G.replace(RegExp(" *"+s+"$"),"")):"Safari"==V&&/\bChrome\b/.exec(M&&M[1])?(x.unshift("desktop mode"),V="Chrome Mobile",k=null,/\bOS X\b/.test(G)?(q="Apple",G="iOS 4.3+"):G=null):/\bSRWare Iron\b/.test(V)&&!k&&(k=W("Chrome")),k&&0==k.indexOf(s=/[\d.]+$/.exec(G))&&t.indexOf("/"+s+"-")>-1&&(G=_(G.replace(s,""))),G&&-1!=G.indexOf(V)&&!RegExp(V+" OS").test(G)&&(G=G.replace(RegExp(" *"+O(V)+" *"),"")),M&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||"Safari"!=V&&/^iOS/.test(G)&&/\bSafari\b/.test(M[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(V)&&M[1])&&(s=M[M.length-1])&&x.push(s),x.length&&(x=["("+x.join("; ")+")"]),q&&B&&B.indexOf(q)<0&&x.push("on "+q),B&&x.push((/^on /.test(x[x.length-1])?"":"on ")+B),G&&(s=/ ([\d.+]+)$/.exec(G),l=s&&"/"==G.charAt(G.length-s[0].length-1),G={architecture:32,family:s&&!l?G.replace(s[0],""):G,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+s),"")),V&&(/\bWOW64\b/i.test(t)||F&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(t))&&x.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==V&&parseFloat(k)>=39&&(G.architecture=64),t||(t=null);var Y={};return Y.description=t,Y.layout=M&&M[0],Y.manufacturer=q,Y.name=V,Y.prerelease=I,Y.product=B,Y.ua=t,Y.version=V&&k,Y.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},Y.parse=e,Y.toString=function(){return this.description||""},Y.version&&x.unshift(k),Y.name&&x.unshift(V),G&&V&&(G!=String(G).split(" ")[0]||G!=V.split(" ")[0]&&!B)&&x.push(B?"("+G+")":"on "+G),x.length&&(Y.description=x.join(" ")),Y}();"object"==i(n(209))&&n(209)?(c.platform=w,void 0===(a=function(){return w}.call(t,n,t,e))||(e.exports=a)):s&&l?g(w,(function(e,t){s[t]=e})):c.platform=w}).call(this)}).call(this,n(57)(e),n(31))},407:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(21),o=n.n(i),c=n(3),s=n(13),l=n(70),u=function(e){var t=e.group,n=e.field,r=e.component,i=e.classes,c=e.hideTitle;return t&&o()(t,n)&&!c?a.a.createElement(l.a,{data:t,tag:{component:r},field:n,className:i||"tds-text--center text-loader--subtitle"}):null};u.propTypes={group:Object(c.shape)({}).isRequired,field:c.string,component:c.string,classes:c.string,hideTitle:c.bool},u.defaultProps={field:"name",component:"h1",classes:"",hideTitle:!1},t.default=Object(s.connect)((function(e,t){var n=e.FeatureListModal,r=(n=void 0===n?{}:n).groupName,a=t.hideSelectedGroups;return{hideTitle:(void 0===a?[]:a).includes(r)}}),null)(u)},409:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,i,c=u(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=c.call(this,e)).state={hasIntersected:!1};var n=t.props.type;return t.options={root:"OptionVisualization"===n?document.querySelector("[data-location-id=".concat(o.Md,"]")):document.querySelector("[data-location-id=".concat(o.Nd,"]")),rootMargin:"0% 0% 50% 0%",threshold:.2},t.observer=null,t.targetContainerRef=Object(r.createRef)(),t.handleCallback=t.handleCallback.bind(p(t)),t}return t=d,(n=[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleCallback,this.options),this.observer.observe(this.targetContainerRef.current)}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.unobserve(this.targetContainerRef.current)}},{key:"handleCallback",value:function(e){var t=this;e.forEach((function(e){e.isIntersecting&&(t.setState({hasIntersected:!0}),t.observer.unobserve(t.targetContainerRef.current),t.observer.disconnect())}))}},{key:"render",value:function(){var e=this.state.hasIntersected,t=this.props.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"observer-placeholder",style:{height:"100%"},ref:this.targetContainerRef},e&&t))}}])&&s(t.prototype,n),i&&s(t,i),d}(r.Component);f.propTypes={children:Object(i.shape)({}),type:i.string.isRequired},f.defaultProps={children:null},t.a=f},543:function(e,t,n){"use strict";n.r(t);var r=n(56),a=n.n(r),i=n(1),o=n.n(i),c=n(2);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=a.a.get("SummaryPanel",(function(e){return o()(window.tesla,"omsParams.market")===o()(e,"value.SummaryPanel.country_code","")&&o()(e,"value.SummaryPanel.region_code")})),p=o()(d,"SummaryPanel.region_code",null),m=o()(window.tesla,"reviewDetails.RegistrationDetail.RegistrationAddress.StateProvince",null),f=o()(window.tesla,"Order.enableOrderModification",!1)?o()(window.tesla,"regDeliveryData.stateProvince"):null;t.default=function(e){return{InitialState:{merge_method:"assign",object:l(l({},e.object),{},{region_code:p}),deltas:{market:{AU:{region_code:f||m||p||"NSW",loanTermsDependsOnCustomerType:!0,loanType:c.We,loanTerm:["Financial.fms_loan.loan[0].variables.loanTerm.".concat(c.We)]},US:{region_code:p||"CA",selectedIncentives:[{incentiveType:"afterDelivery",key:c.H},{incentiveType:"beforeDelivery",key:c.G}]}}}}}}},554:function(e,t,n){"use strict";n.r(t),n.d(t,"showForm",(function(){return a.a})),n.d(t,"storeFinancialFormState",(function(){return a.b})),n.d(t,"InitialState",(function(){return i})),n.d(t,"Reducer",(function(){return d})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r),n.d(r,"storeFinancialFormState",(function(){return a.b}));var a=n(223),i=function(e){return{object:e.object}},o=n(2),c=n(9);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.app_state;switch(t.type){case o.p:case o.Vf:case o.Af:case o.Fe:case o.eg:return l(l({},e),Object(c.y)(r));default:return e}}},555:function(e,t,n){"use strict";n.r(t),n.d(t,"triggerReferralDashboardFlow",(function(){return a.n})),n.d(t,"triggerRedirectWithReferral",(function(){return a.m})),n.d(t,"placeOrderFlow",(function(){return a.e})),n.d(t,"createEnergyLead",(function(){return a.d})),n.d(t,"placePublicOrderFlow",(function(){return a.f})),n.d(t,"completeRedirectOrderFlow",(function(){return a.c})),n.d(t,"saveConfigFlow",(function(){return a.h})),n.d(t,"cancelUpdateOrder",(function(){return a.a})),n.d(t,"showBatterySavingsModal",(function(){return a.i})),n.d(t,"showWechatPayModal",(function(){return a.k})),n.d(t,"showErrorModal",(function(){return a.j})),n.d(t,"redirectToDeliveryFlow",(function(){return a.g})),n.d(t,"triggerNoop",(function(){return a.l})),n.d(t,"checkSession",(function(){return a.b})),n.d(t,"updateConfigByRules",(function(){return a.p})),n.d(t,"updateApplicationFlowState",(function(){return a.o})),n.d(t,"InitialState",(function(){return l})),n.d(t,"Reducer",(function(){return v})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r),n.d(r,"default",(function(){return a.o}));var a=n(170),i=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){var t=e.object,n=e.overrides;return{object:c(c(c({},t),n),{},{isInvited:!1,isWaiting:!1,surveyCompleted:!1,isSubmitting:!1,survey:{inviteDateEnabled:!1,isSubmitting:!1,validation:{isValid:!1,errors:{}},results:{}},referralConfig:[],optionsWithExpandedFeatures:[],groupsWithExpandedFeatures:[],connect:null,postConnectUrl:null,isInitialized:!1,initializeOn:[i.hd]})}},u=n(1),d=n.n(u),p=n(100),m=n.n(p);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=a.app_state,c=(null===(e=o.App)||void 0===e?void 0:e.countryCode)||null,s=!1;switch(r.type){case i.Dd:return n;case i.rg:return y(y({},n),{},{referral:d()(r,"data.value",{})});case i.Fb:return y(y({},n),{},{optionsWithExpandedFeatures:m()(n.optionsWithExpandedFeatures,d()(r,"props.options",[])),groupsWithExpandedFeatures:m()(n.groupsWithExpandedFeatures,d()(r,"props.groups",[]))});case i.Eb:return y(y({},n),{},{optionsWithExpandedFeatures:[],groupsWithExpandedFeatures:[]});case i.Ke:return y(y({},n),{},{connect:d()(r,"args"),postConnectUrl:d()(r,"url")});case i.if:return y(y({},n),{},{isSessionSet:!0});case i.Fe:return y(y({},n),{},{isInitialized:!0});case i.hd:return s=n.isCryptoIpCheckEnabled?c===(null===(t=r.location)||void 0===t?void 0:t.countryCode):n.isCryptoEnabled,y(y({},n),{},{isCryptoEnabled:s,isCryptoAllowed:!!s&&n.isCryptoAllowed});case i.P:return y(y({},n),{},{isCryptoAllowed:!!n.isCryptoEnabled&&!n.isCryptoExcluded.some((function(e){return-1!==r.options.indexOf(e)}))});default:return n}}},556:function(e,t,n){"use strict";n.r(t),n.d(t,"togglePaymentForm",(function(){return a.n})),n.d(t,"cancelPaymentEdit",(function(){return a.a})),n.d(t,"clearServerError",(function(){return a.d})),n.d(t,"updateCreditCardDetails",(function(){return a.p})),n.d(t,"setCCDetailsValidFlag",(function(){return a.i})),n.d(t,"setBillingInfoValidFlag",(function(){return a.h})),n.d(t,"setPaymentFormValidFlag",(function(){return a.k})),n.d(t,"updatePaymentDetails",(function(){return a.r})),n.d(t,"updateWechat",(function(){return a.u})),n.d(t,"updatePaymentInteractionRequired",(function(){return a.s})),n.d(t,"updateBillingInfo",(function(){return a.o})),n.d(t,"setRedirectDetails",(function(){return a.l})),n.d(t,"clearRedirectDetails",(function(){return a.c})),n.d(t,"syncPaymentDetails",(function(){return a.m})),n.d(t,"updateLocationData",(function(){return a.q})),n.d(t,"updatePickupLocationProvinceData",(function(){return a.t})),n.d(t,"sendVerificationCode",(function(){return a.g})),n.d(t,"getInvoiceType",(function(){return a.e})),n.d(t,"setInvoiceDetailsValidFlag",(function(){return a.j})),n.d(t,"checkBillingInfoStateList",(function(){return a.b})),n.d(t,"getPickupLocations",(function(){return a.f})),n.d(t,"InitialState",(function(){return l})),n.d(t,"Reducer",(function(){return x})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r),n.d(r,"syncPaymentDetails",(function(){return a.m})),n.d(r,"checkBillingInfoStateList",(function(){return a.b}));var a=n(201),i=n(1),o=n.n(i),c=o()(window.tesla,"payments.CharityInvoiceTypes",[]),s=[];c.forEach((function(e){s.push({const:e,value:"Review.charityType.".concat(e)})}));var l=function(e){return{object:e.object,deltas:{},deltasV2:[{selected_by:{isComboInventory:!0,market:["AT","AU","BE","CA","CH","CZ","DE","DK","ES","FI","FR","GB","IE","IT","IS","JO","JP","KR","LU","MX","NL","NO","NZ","PT","PR","SE","TW"]},object:{registration:{deliveryPostalCodeRequired:!0}}}]}},u=n(17),d=n.n(u),p=n(74),m=n.n(p),f=n(111),y=n.n(f),b=n(100),v=n.n(b),g=n(392),h=n.n(g),O=n(72),P=n.n(O),_=n(911),w=n.n(_),E=n(24),S=n(54),j=n(2);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){var t=e.CCFirstName,n=e.CCLastName,r=e.PayorName,a="".concat(t," ").concat(n).replace(/\s+/g," ").trim();return a!==r?a:r};function R(e,t){return t||{}}function L(e,t,n){var r=t.PaymentAmount,a=t.PayorName,i=t.AccountNumber,c=t.ExpirationMonth,s=t.ExpirationYear,l=t.VerificationNumber,u=t.CardType,p=t.BillingZipCode,m=t.PaymentType,f=t.RedirectPaymentName,y=t.CreditCardToken,b=t.LastFourDigits,v=t.IsOffline,g=n.formOpen?a||n.PaymentDetail.PayorName:o()(n,"CreditCardDetail.PayorName",""),h=n.CountryCode||o()(e,"OMS.oms_params.market"),O=n.CurrencyCode||E.currencyCodeMap[h].code;return{PaymentAmount:r||n.PaymentDetail.PaymentAmount,PayorName:g,BillingZipCode:p,PaymentType:m||n.PaymentDetail.PaymentType,RedirectPaymentName:f,PaymentSource:j.fe,CurrencyCode:O,CountryCode:h,CreditCardDetail:T({ExpirationMonth:c,ExpirationYear:s,CardType:u,CreditCardToken:y,LastFourDigits:b},t.ProcessWithProfile?{}:{AccountNumber:i,VerificationNumber:l,AgreedToSaveProfile:!!d()(o()(t,"AgreementSave"))}),IsOffline:v,PayorIDNumber:o()(t,"PayorIDNumber",null),VerificationPhone:o()(t,"VerificationPhone",null),VerificationSMSCode:o()(t,"VerificationSMSCode",null),AgreementSave:o()(t,"AgreementSave",null)}}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.h,r=e.CardType||"",a=e.CountryCode||o()(t,"OMS.oms_params.market"),i=Object(S.getSuperRegion)(a),c=n;return"americanexpress"===r.toLowerCase()&&"REEU"===i.code&&(c=j.Jf),c}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.app_state;switch(t.type){case j.Yd:return T(T({},e),{},{ccDetailsValid:t.flag});case j.be:return T(T({},e),{},{formOpen:y()(t,"isOpen")?!e.formOpen:t.isOpen,ccDetailsValid:!1});case j.ee:return T(T({},e),{},{formOpen:!o()(t,"creditCardDetail.IsProfileExists"),ccDetailsValid:o()(t,"creditCardDetail.IsProfileExists"),CreditCardDetail:T(T({},e.CreditCardDetail),R(t.creditCardDetail))});case j.Xd:return T(T({},e),{},{serverErrors:{},PaymentDetail:T(T({},e.PaymentDetail),L(r,t.paymentDetails,e)),encryptor:N(t.paymentDetails,r,e.defaultEncryptor)});case j.qe:return T(T({},e),{},{WechatQRCode:t.qrCode});case j.de:return T(T({},e),{},{isPaymentInteractionRequired:t.flag});case j.Wd:return T(T({},e),{},{formOpen:!1,ccDetailsValid:!0});case j.Zd:return T(T({},e),{},{formOpen:!0,serverErrors:{PAYMENT_FAILED:j.Zd}});case j.Zb:return T(T({},e),{},{validationErrors:A({},"".concat(t.field),!0)});case j.K:return T(T({},e),{},{serverErrors:{}});case j.r:return T(T({},e),{},{PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),t.billingInfo)}),validationErrors:{}});case j.Pe:return T(T({},e),{},{RedirectPaymentDetail:{token:t.token,returnUrl:t.returnUrl}});case j.Qe:return T(T({},e),{},{RedirectPaymentDetail:null});case j.s:return T(T({},e),{},{billingInfoValid:t.flag});case j.ce:return T(T({},e),{},{paymentFormValid:t.flag});case j.b:var a=t.payload,i=a.CCFirstName,c=void 0===i?"":i,s=a.CCLastName,l=void 0===s?"":s,u=a.AccountType,p=e.noWireTransferOnBusinessAccount,f=void 0!==p&&p,b=e.PaymentTypes,g=void 0===b?[]:b,O=e.PaymentTypesPrivate,_=void 0===O?[]:O,E=e.PaymentTypesBusiness,S=void 0===E?[]:E,C={};if(f){var x=S.length?S:g,I=_.length?_:g;C.PaymentTypes=u===j.Ue?x:I}return T(T(T({},e),C),{},{PaymentDetail:T(T({},e.PaymentDetail),{},{PayorName:o()(e,"isShowSMSField",!1)?o()(e.PaymentDetail,"PayorName"):D({CCFirstName:c,CCLastName:l,PayorName:o()(e.PaymentDetail,"PayorName")})})});case j.t:var F=t.changedType,k=t.payload.value,M=t.payload.regionCode;switch(F){case j.Le:return T(T({},e),{},{cityData:t.payload.children,districtData:t.payload.children[0].children,PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),{},{selectedProvince:k,selectedCity:t.payload.children[0].value,selectedDistrict:t.payload.children[0].children[0].value})})});case j.Gf:return T(T({},e),{},{PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),{},{StateProvince:M})})});case j.F:return T(T({},e),{},{districtData:t.payload.children[0].children,PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),{},{selectedCity:k,selectedDistrict:t.payload.children[0].value})})});case j.mb:return T(T({},e),{},{PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),{},{selectedDistrict:k})})});default:return null}case j.ke:var V=t.IdentificationType,B="CITIZEN_ID_NO"!==V?e.PaymentTypes.filter((function(e){return e!==j.je})):e.includeCC;return T(T({},e),{},{PaymentTypes:B?m()(v()(e.PaymentTypes,[j.je])):e.PaymentTypes,isShowSMSField:"CITIZEN_ID_NO"===V,PaymentDetail:T(T({},e.PaymentDetail),{},{PaymentType:"CITIZEN_ID_NO"!==V&&e.PaymentDetail.PaymentType===j.je?e.PaymentTypes.filter((function(e){return e!==j.je}))[0]:e.PaymentDetail.PaymentType})});case"MOCK_WECHAT":var q=t.payload.Email;return T(T({},e),{},{PaymentTypes:q&&q.match(/^teslaqacn\+([A-Za-z0-9_\-.])+@gmail\.com$/)?v()(e.PaymentTypes,[j.oe]):e.PaymentTypes.filter((function(e){return e!==j.oe}))});case j.Xc:var G=t.invoiceType;return T(T({},e),{},{InvoiceType:G});case j.Wc:return T(T({},e),{},{InvoiceDetailsValid:t.flag});case j.qg:var U=t.data||[],W=o()(r,"ReviewDetails.isFixedPickupLocation",!1),Y=o()(r,"ReviewDetails.product.data.FleetAssignedLocationId",null);!d()(U)&&W&&Y&&(U=U.filter((function(e){return e.trt_id===Y})));var z=0;1===U.length&&(z=o()(h()(U),"trt_id",0));var H=[{key:0,value:0,label:"--"}],K=[];U&&(K=1===U.length?H.concat(P()(U,(function(e){return{key:"".concat(e.trt_id),value:"".concat(e.trt_id),label:e.chinese_title}}))):H);var X=[{key:0,value:0,label:"--"}],$=P()(m()(P()(U,"province")),(function(e,t){return{key:t+1,value:e,label:e}})),Z=[];return U&&(Z=1===U.length?$:X.concat($)),T(T({},e),{},{PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),{},{PickupLocation:z})}),PickupLocations:U,PickupLocationsFormatted:K,PickupLocationsProvinceFormatted:Z});case j.ve:var Q=t.payload,J=0,ee=o()(e,"PickupLocations"),te=[{key:0,value:0,label:"--"}],ne=Q?ee.filter((function(e){return e.province===Q})):[],re=ne?te.concat(P()(w()(ne,["title"]),(function(e){return{key:"".concat(e.trt_id),value:"".concat(e.trt_id),label:e.chinese_title}}))):te;return T(T({},e),{},{PaymentDetail:T(T({},e.PaymentDetail),{},{BillingInfoDetail:T(T({},e.PaymentDetail.BillingInfoDetail),{},{PickupLocation:J})}),PickupLocationsFormatted:re});default:return e}}},557:function(e,t,n){"use strict";n.r(t),n.d(t,"checkEmailAvailability",(function(){return a.c})),n.d(t,"setAccountDetailsValidFlag",(function(){return a.f})),n.d(t,"setSaveDesignFlag",(function(){return a.k})),n.d(t,"setPricingDetails",(function(){return a.i})),n.d(t,"updateAccountDetails",(function(){return a.n})),n.d(t,"setDeliveryDetailsValidFlag",(function(){return a.g})),n.d(t,"updateDeliveryDetails",(function(){return a.p})),n.d(t,"updateAccountIDTypeLabel",(function(){return a.o})),n.d(t,"hideBaseField",(function(){return a.e})),n.d(t,"showBaseField",(function(){return a.l})),n.d(t,"setRegistrationType",(function(){return a.j})),n.d(t,"toggleTrimSavingsPrice",(function(){return a.m})),n.d(t,"setFormErrors",(function(){return a.h})),n.d(t,"clearFormErrors",(function(){return a.d})),n.d(t,"calcPriceForOptions",(function(){return a.b})),n.d(t,"calcPriceForNewlySelectedOption",(function(){return a.a})),n.d(t,"updateVehicleDetail",(function(){return a.q})),n.d(t,"InitialState",(function(){return P})),n.d(t,"Reducer",(function(){return B})),n.d(t,"Epics",(function(){return r}));var r=n(823),a=n(372),i=n(1),o=n.n(i),c=n(56),s=n.n(c),l=n(2);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=s.a.get("RegistrationType",(function(e){return o()(window.tesla,"omsParams.market"),o()(e,"value.ReviewDetails.countryCode",""),o()(e,"value.ReviewDetails.registrantType")})),f=s.a.get("SummaryPanel",(function(e){return o()(window.tesla,"omsParams.market")===o()(e,"value.SummaryPanel.country_code","")&&o()(e,"value.SummaryPanel.region_code")})),y=o()(f,"SummaryPanel.region_code",null),b=o()(m,"ReviewDetails.registrantType"),v=o()(window.tesla,"Order.enableOrderModification",!1),g=v?o()(window.tesla,"registrantType"):null;g="string"==typeof g?g.toLowerCase():null;var h=v?o()(window.tesla,"regDeliveryData.stateProvince"):null,O=o()(window.tesla,"Configuration.rn"),P=function(e){return{merge_method:"assign",object:d(d({},e.object),{},{RegistrationDetail:{RegistrantType:null,RegistrationAddress:{CountryCode:o()(window.tesla,"omsParams.market")}},asset:{type:"image-compositor",view:"STUD_3QTR",bkba:O?2:1,zoom:1}}),deltas:{market:{NZ:{RegistrationDetail:{RegistrantType:g||b||l.We}},AU:{RegistrationDetail:{RegistrantType:g||b||l.We,RegistrationAddress:{CountryCode:o()(window.tesla,"omsParams.market"),StateProvince:h||y||"NSW"}}},CN:{showIncentivesDisclaimerCopy:!1}},model:{ms:{asset:{type:"image-compositor",view:"STUD_3QTR_V2",bkba:O?2:1,zoom:1}},mx:{asset:{type:"image-compositor",view:"STUD_3QTR_V2",bkba:O?2:1,zoom:1.5}},mt:{asset:{type:"image",url:o()(window.tesla,"product.data.imgURL"),relative:!0}}}},deltasV2:[{selected_by:{isInventory:!0,model:["ms","mx"]},object:{asset:{bkba:1,type:"image-compositor",view:o()(window.tesla,"product.data.IsLegacy")?"STUD_3QTR":"STUD_3QTR_V2"}}},{selected_by:{model:"m3",market:["GB"]},object:{AccountDetail:{FirstName:"",LastName:"",Email:"",PhoneNumber:"",Password:"",AccountType:"business",CompanyName:"",VatId:"",PrivateVatId:"",CompanyNumber:""}}}]}},_=n(100),w=n.n(_),E=n(236),S=n.n(E),j=n(4),C=n(9);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){var n=o()(e,"selected_by"),r="";return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function L(e,t){var n=o()(e,"selected_by"),r="";return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function N(e,t){var n=o()(e,"selected_by"),r=!0;return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function x(e,t){var n=o()(e,"selected_by"),r="";return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function I(e,t){var n=o()(e,"selected_by"),r="";return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=o()(e,"selected_by"),r=e.source;return n&&(r=!0,Object(j.Q)(n,t)&&(r=o()(e,"target",""))),r}function k(e,t){var n=o()(e,"selected_by"),r="";return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function M(e,t){var n=o()(e,"selected_by"),r=!1;return n&&Object(j.Q)(n,t)&&(r=o()(e,"target","")),r}function V(e,t,n){if(!e||!e.length)return n;var r=e.find((function(e){var n=o()(e,"selected_by");return!!n&&Object(j.Q)(n,t)}));return{view:o()(r,"view",n),zoom:o()(r,"zoom","")}}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.app_state;switch(t.type){case l.Fe:case l.p:return A(A({},e),{},{base_configuration_options:Object(C.g)(A(A({},r),{},{ReviewDetails:e})),configuration_options:Object(C.i)(A(A({},r),{},{ReviewDetails:e}))});case l.tb:return A(A({},e),{},{emailExists:{flag:!1,email:t.emailAddress},emailCheckLoading:!1});case l.ub:return A(A({},e),{},{emailExists:{flag:!0,email:t.emailAddress},emailCheckLoading:!1});case l.sb:return A(A({},e),{},{emailCheckLoading:!0});case l.rb:return A(A({},e),{},{emailCheckLoading:!1});case l.c:return A(A({},e),{},{accountDetailsValid:t.flag});case l.b:return A(A({},e),{},{AccountDetail:t.payload});case l.af:return A(A({},e),{},{isSaveDesignEnabled:t.flag});case l.Bf:return A(A({},e),{},{showPricesDetail:t.flag});case l.Jc:return A(A({},e),{},{identificationLabel:t.IdentificationType,AccountDetail:A(A({},o()(e,"AccountDetail")),{},{IdentificationNumber:null})});case l.Dc:return A(A({},e),{},{hideBaseField:w()(e.hideBaseField,[t.field])});case l.uf:return A(A({},e),{},{hideBaseField:S()(e.hideBaseField,t.field)});case l.Ve:return A(A({},e),{},{RegistrationDetail:A(A({},o()(e,"RegistrationDetail",{})),{},{RegistrantType:t.regType})});case l.Tf:return A(A({},e),{},{RegistrationDetail:A(A({},o()(e,"RegistrationDetail",{})),{},{RegistrationAddress:A(A({},o()(e,"RegistrationDetail.RegistrationAddress",{})),{},{StateProvince:t.regionCode})})});case l.P:var a=V(e.assetViewSource,t.options,e.assetView);return A(A({},e),{},{refundPolicySource:A(A({},e.refundPolicySource),{},{source:R(e.refundPolicySource,t.options)}),isPreSale:A(A({},e.isPreSale),{},{source:L(e.isPreSale,t.options)}),showSecondDepositDisclaimer:A(A({},e.showSecondDepositDisclaimer),{},{source:N(e.showSecondDepositDisclaimer,t.options)}),showEvSubsidyDisclaimer:A(A({},e.showEvSubsidyDisclaimer),{},{source:x(e.showEvSubsidyDisclaimer,t.options)}),isOldVersionOrderAgreement:A(A({},e.isOldVersionOrderAgreement),{},{source:I(e.isOldVersionOrderAgreement,t.options)}),nonRefundPolicy:A(A({},e.nonRefundPolicy),{},{source:F(e.nonRefundPolicy,t.options)}),displayOrderRefundLongCopy:A(A({},e.displayOrderRefundLongCopy),{},{source:k(e.displayOrderRefundLongCopy,t.options)}),isDomestic:A(A({},e.isDomestic),{},{source:M(e.isDomestic,t.options)}),assetView:a?a.view:"STUD_3QTR",assetZoom:a?a.zoom:1});case l.fg:return A(A({},e),{},{showAfterSavingsPriceForTrims:t.flag});case l.sg:return A(A({},e),{},{VehicleDetail:t.VehicleDetail});case l.hb:return A(A({},e),{},{isDeliveryDetailsValid:t.flag,formErrors:{}});case l.gb:return A(A({},e),{},{DeliveryDetails:A(A({},e.DeliveryDetails),t.payload)});case l.mf:return A(A({},e),{},{formErrors:A(A({},e.formErrors),{},D({},t.field,t.error))});case l.I:return A(A({},e),{},{formErrors:{}});default:return e}}},558:function(e,t,n){"use strict";n.r(t),n.d(t,"selectFinancePanelTab",(function(){return r.a})),n.d(t,"toggleFinancePanelSideBar",(function(){return r.d})),n.d(t,"selectTeslaInsurance",(function(){return r.b})),n.d(t,"toggleFinancePanelDrivertype",(function(){return r.c})),n.d(t,"InitialState",(function(){return a})),n.d(t,"Reducer",(function(){return m}));var r=n(371),a=function(e){return{merge_method:"assign",object:e.object}},i=n(1),o=n.n(i),c=n(2),s=n(9);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=t.ReviewDetails,r=e.menuItems,a=e.activeTabs,i=r.filter((function(e){return a.includes(e.key)}));return o()(n,"product.isInventory")?i.filter((function(e){return"delivery_timing"!==e.key})):i}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.app_state;switch(t.type){case c.nd:if(t.component_target===c.dc){var a=o()(t,"props.selectedForm",null),i=o()(t,"props.analyticsPrefix",null),l=u(u({},e),{},{analyticsPrefix:i,menuItems:p(e,r)});return a&&(l.selectedForm=a),l}break;case c.Af:return t.selectedForm===c.ic?u(u({},e),{},{menuItems:p(e,r),activeFinanceTypes:Object(s.d)(r),selectedForm:t.selectedForm}):u(u({},e),{},{selectedForm:t.selectedForm});case c.gf:return u(u({},e),{},{selectedForm:t.selectedForm,sidebarOpen:!1});case c.dg:return u(u({},e),{},{sidebarOpen:!e.sidebarOpen});case c.Pc:return u(u({},e),{},{includeTeslaInsurance:t.flag});case c.lf:return u(u({},e),{},{driverType:t.driverType});default:return e}return e}},562:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(6),s=n.n(c),l=n(177);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.id,n=e.label,r=e.onChange,i=e.small,o=e.invert,c=e.rotate,d=e.reversed,p=e.arrow,m=e.wrap,f=e.children,y=e.expanded,b=u(a.a.useState(!1),2),v=b[0],g=b[1],h=s()("tds-icon-trigger",{"tds-icon-trigger--small":i,"tds-icon-trigger--will_invert":o,"tds-icon-trigger--will_rotate":c,"tds-icon-trigger--is_reversed":d,"tds-icon-trigger--arrow":p,"tds-o-icon-trigger--wrapped":m,"tds-o-icon-trigger--focus":v});return a.a.createElement("div",{className:h,"aria-expanded":y},a.a.createElement("input",{type:"checkbox",className:"tds-trigger-input",role:"button",id:t,"aria-label":n,onChange:r,tabIndex:0,onClick:function(e){"click"===e.type&&g(!1)},onFocus:function(){return g(!0)},onBlur:function(){return g(!1)}}),a.a.createElement("label",{className:"tds-flex",htmlFor:t},a.a.createElement(l.a,{id:y?"tds-minus":"tds-plus",title:n,description:n,className:"cf-nav-icon"}),n&&a.a.createElement("span",{className:"tds-label-title"},n),f&&a.a.createElement("span",{className:"tds-label-title"},f)))};p.defaultProps={label:"",onChange:function(){},small:!1,invert:!1,rotate:!1,reversed:!1,arrow:!1,wrap:!1,children:null,expanded:!1},p.propTypes={id:o.a.string.isRequired,label:o.a.string,onChange:o.a.func,small:o.a.bool,invert:o.a.bool,rotate:o.a.bool,reversed:o.a.bool,arrow:o.a.bool,wrap:o.a.bool,children:o.a.node,expanded:o.a.bool},t.a=p},563:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(6),s=n.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,e);var t,n,r,i=m(o);function o(){var e;u(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(y(e=i.call.apply(i,[this].concat(n))),"onClick",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?document.body.classList.remove("using-mouse"):document.body.classList.add("using-mouse");var r=e.props.onClick;r(t)})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.tabIndex,i=t.inline,o=void 0!==i&&i;return a.a.createElement("div",{className:s()("tds-radio-buttons",{"tds-form-item--inline":o})},n.map((function(t){return a.a.createElement("div",{className:"tds-radio",key:t.id},a.a.createElement("input",{checked:t.selected,type:"radio",name:t.id,className:"tds-radio-input"}),a.a.createElement("label",{key:t.id,tabIndex:r,onClick:function(){e.onClick(t)},onKeyPress:function(){e.onClick(t,!0)},role:"presentation",className:"tds-label--radio tds-label--inline"},a.a.createElement("span",{className:"tds-label-title"},t.label)))})))}}])&&d(t.prototype,n),r&&d(t,r),o}(r.Component),h=o.a.func,O=o.a.bool,P=o.a.arrayOf,_=o.a.number;g.propTypes={onClick:h,options:P(o.a.any),tabIndex:_,inline:O},g.defaultProps={onClick:function(){},options:[],tabIndex:0,inline:!1}},566:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(13),o=n(3),c=n.n(o),s=n(1),l=n.n(s),u=n(395),d=n(399),p=n(2),m=n(4),f=n(9);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,r,i=h(o);function o(){var e;b(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(P(e=i.call.apply(i,[this].concat(n))),"onRegionChange",(function(t){var n=t.value,r=e.props.onChange;n&&r(n)})),e}return t=o,(n=[{key:"stateList",get:function(){var e=this.props.countryCode;return Object(f.Z)(e)}},{key:"render",value:function(){var e=this.props,t=e.selectedStateCode,n=e.isOrderModification;return a.a.createElement(u.a,null,a.a.createElement(d.a,{name:p.Hf,id:p.Hf,label:Object(m.L)("FinancingOptions.territory"),options:this.stateList,initialValue:t,onChange:this.onRegionChange,disabled:n}))}}])&&v(t.prototype,n),r&&v(t,r),o}(r.Component);E.propTypes={countryCode:c.a.string,onChange:c.a.func.isRequired,isOrderModification:c.a.bool.isRequired,selectedStateCode:c.a.string},E.defaultProps={countryCode:"",selectedStateCode:null},t.a=Object(i.connect)((function(e){return{countryCode:l()(e,"Payment.CountryCode",""),selectedStateCode:l()(e,"SummaryPanel.region_code",null),isOrderModification:l()(e,"ApplicationFlow.canModifyOrder")}}))(E)},567:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(13),o=n(3),c=n(1),s=n.n(c),l=n(72),u=n.n(l),d=n(2),p=n(4),m=n(8);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,n,r,i=v(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),P(h(t=i.call(this,e)),"setFieldRef",(function(e,n){t.fields[e]=n})),P(h(t),"registrationTypeSwitchChanged",(function(e){var n=t.props.setRegistrationType;e&&n(e)})),t.fields={},t}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.registrationTypeForOrder,r=t.radioName,i=t.isOrderModification;return a.a.createElement("div",{className:"tds-form-item registration-type--radios"},a.a.createElement("fieldset",{className:"tds-form-fieldset"},a.a.createElement("legend",{className:"tds-form-legend tds-form-item-label"},Object(p.L)("Review.RegistrationType")),a.a.createElement("div",{className:"tds-radio_buttons tds-form-item--inline"},u()([d.We,d.Ue],(function(t){return a.a.createElement("div",{className:"tds-radio",key:t+r},a.a.createElement("input",{onChange:function(){return e.registrationTypeSwitchChanged(t)},id:t+r,type:"radio",name:"order-type".concat(r),value:t,className:"tds-radio-input",ref:function(t){return e.setFieldRef(d.Te,t)},checked:n===t,disabled:i}),a.a.createElement("label",{className:"tds-label tds-label--radio",htmlFor:t+r},a.a.createElement("span",{className:"tds-label-title"},Object(p.L)("Review.account_in_".concat(t)))))})))))}}])&&y(t.prototype,n),r&&y(t,r),o}(r.Component);_.propTypes={setRegistrationType:o.PropTypes.func.isRequired,registrationTypeForOrder:o.PropTypes.string.isRequired,radioName:o.PropTypes.string,isOrderModification:o.PropTypes.bool.isRequired},_.defaultProps={radioName:""},t.a=Object(i.connect)((function(e){return{registrationTypeForOrder:s()(e,"ReviewDetails.RegistrationDetail.RegistrantType"),isOrderModification:s()(e,"ApplicationFlow.canModifyOrder")}}),(function(e){return{setRegistrationType:function(t){e(Object(m.setRegistrationType)(t))}}}))(_)},575:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(2),o=n(13),c=n(8),s=n(3),l=n.n(s),u=n(6),d=n.n(u),p=n(825),m=n(826);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=Object(r.forwardRef)((function(e,t){var n,s,l=e.type,u=void 0===l?i.we:l,y=e.items,b=e.onChange,v=e.selected,g=e.source,h=y.map((function(e){return e.id})).indexOf(v),O=Object(o.useDispatch)(),P=f(Object(m.a)(y),2),_=P[0],w=P[1],E=Object(r.useRef)();return a.a.createElement("nav",{className:d()("tds-tab-o-container","tds-tab-list",{"tds-tab-list-pill":u===i.we,"tds-tab-list-dot":u===i.nb}),role:"tablist","aria-label":"Tabs",ref:t},y.length>1?[a.a.createElement("div",{className:d()("tds-tab-list-animated-backdrop-v2",{"tds-tab-list-dot":u===i.nb}),ref:E,style:{transition:"all 400ms",transform:"translate3d(".concat((null===(n=_[v])||void 0===n?void 0:n.offsetLeft)||0,"px, 0, 0)"),"--tabnumber":h,"--tablength":y.length,width:(null===(s=_[v])||void 0===s?void 0:s.clientWidth)||"auto"},key:"0"}),y.map((function(e,t){var n=e.id,r=e.label;return a.a.createElement(p.a,{id:"".concat(g,"-").concat(n,"-panel"),index:t,key:n,activeTab:v===n,label:r,onClick:function(e){return function(e,t){O(Object(c.selectTab)(e,g)),b(e,t)}(n,e)},ref:w[n]})}))]:null)}));b.propTypes={onChange:l.a.func,items:l.a.arrayOf(l.a.shape()).isRequired,selected:l.a.string.isRequired,source:l.a.string.isRequired,type:l.a.string},b.defaultProps={onChange:function(){},type:i.we};var v=b,g=n(395),h=n(399),O=function(e){var t=e.items,n=void 0===t?[]:t,r=e.onChange,i=void 0===r?function(){}:r,s=e.selected,l=e.label,u=e.source,d=Object(o.useDispatch)(),p=function(e){d(Object(c.selectTab)(e,u)),e&&i(e)},m=n.map((function(e){return{value:e.id,label:e.label}}));return a.a.createElement(g.a,{className:"tabs-dropdown-selector"},a.a.createElement(h.a,{value:s,label:l,onChange:function(e){var t=e.value;return p(t)},options:m}))};function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){var t=function(){var e=Object(r.useRef)(),t=P(Object(r.useState)(),2),n=t[0],a=t[1],i=P(Object(r.useState)(),2),o=i[0],c=i[1];return Object(r.useLayoutEffect)((function(){var t=e.current,r=t.clientWidth,i=t.scrollWidth,s=t.clientHeight,l=i>r,u=t.scrollHeight>s;n!==l&&a(l),o!==u&&c(u)}),[e,a,c]),{ref:e,x:n,y:o}}(),n=t.ref;return t.x?a.a.createElement(O,e):a.a.createElement(v,w({ref:n},e))}},70:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(1),s=n.n(c),l=n(21),u=n.n(l),d=n(33),p=n.n(d),m=n(100),f=n.n(m),y=n(13),b=n(914),v=n.n(b),g=n(23),h=n(8),O=n(24),P=n(4),_=n(19),w=n.n(_),E=n(42),S=n.n(E),j=n(6),C=n.n(j),T=n(2),A=n(73);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var a=M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(o,e);var t,n,r,i=F(o);function o(){return N(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.text_schema,i=n.tag,c=n.actions,s=n.onAction,l=n.key,u=n.actionClass,d=n.className,m=n.plainText;if(!r)return null;var f=c&&c.length?0:-1;if(w()(r))return a.a.createElement("div",{className:C()("text-loader",L({},"".concat(d,"--container"),d),"".concat(d)),onClick:function(){return s(c)},onKeyPress:function(){return s(c)},role:"presentation"},r.map((function(e,t){return a.a.createElement(W,{data:e,key:"ArrayTextLoader:".concat(e+t+l),className:d})})));if(p()(r))return a.a.createElement("div",{className:C()("text-loader",L({},"".concat(d,"--container"),d)),onClick:function(){return s(c)},onKeyPress:function(){return s(c)},role:"presentation"},r.title&&a.a.createElement(W,{data:r,field:"title",className:"text-loader--subtitle"}),r.main_title&&a.a.createElement(W,{data:r,field:"main_title",className:"text-loader--main_title"}),r.description&&a.a.createElement(W,{data:r,field:"description",className:"text-loader--description"}),r.sub_items&&a.a.createElement("ol",{className:"tds-list tds-list--unordered text-loader--list"},r.sub_items.map((function(e,n){return r=Object(P.c)(e),S()(e)?a.a.createElement("li",{className:"tds-list-item text-loader--list_element text-loader--sub_item_element",key:"Feature__".concat(r+n,"feature_list:container")},a.a.createElement(o,R({},t.props,{className:"text-loader--list_element--text",text_schema:r,tag:{component:"span"}}))):a.a.createElement("li",{className:"tds-list-item text-loader--list_element text-loader--sub_item_element",key:"".concat(n,"feature_list:container")},a.a.createElement(W,{className:"text-loader--list_element--text",data:e}));var r}))),r.items&&a.a.createElement("ol",{className:"tds-list tds-list--unordered text-loader--list text-loader--list_items"},r.items.map((function(e,n){return S()(e)?a.a.createElement("li",{className:"tds-list-item text-loader--list_element",key:"ListString_".concat(Object(P.c)(e)+n,"feature_list:container")},a.a.createElement(o,R({},t.props,{className:"text-loader--list_element--text",text_schema:Object(P.c)(e),tag:{component:"span"}}))):a.a.createElement("li",{className:"tds-list-item text-loader--list_element",key:"List__".concat(n,"feature_list:container")},a.a.createElement(W,{className:"text-loader--list_element--text",data:e}))}))),r.content&&a.a.createElement(W,{data:r}),r.disclaimer&&a.a.createElement(W,{data:Object(P.c)(r),field:"disclaimer",className:"tds-text--caption text-loader--disclaimer"}));if(m)return Object(P.K)(r);if(c&&1===c.length){var y=c[0];switch(y.type){case T.zf:return a.a.createElement(A.a,{options:{props:{componentName:T.Oe,props:{genericWrapper:!0,size:T.sd},classes:"tds-o-text_color--20 tds-o-btn-link"}}},Object(P.K)(r));case T.tf:return a.a.createElement(A.a,{options:{props:{componentName:T.o,props:{genericWrapper:!0,size:T.sd},classes:"tds-o-text_color--20 tds-o-btn-link"}}},Object(P.K)(r));case T.Df:return a.a.createElement(a.a.Fragment,null," ",a.a.createElement(A.a,{options:{props:{componentName:T.dc,props:{genericWrapper:!0,size:T.ld,form:T.ic,analyticsPrefix:y.analyticsPrefix,classes:"tds-o-text_color--20 tds-o-btn-link",containerCss:"tds-display--inline tds-text--caption"}}}},Object(P.K)(r)));case T.yf:return a.a.createElement(a.a.Fragment,null," ",a.a.createElement(A.a,{options:{props:{componentName:T.dc,props:{genericWrapper:!0,size:T.ld,form:T.gc,analyticsPrefix:y.analyticsPrefix,classes:"tds-o-text_color--20 tds-o-btn-link",containerCss:"tds-display--inline"}}}},Object(P.K)(r)));case T.Eb:case T.Fb:return a.a.createElement("a",{role:"button",tabIndex:f,className:C()("tds-link action-trigger--link",L({},d,d)),onClick:function(){return s(c)}},Object(P.K)(r))}}return a.a.createElement(i.component,R({className:C()((e={},L(e,u,c&&c.length&&u),L(e,"tds-link action-trigger--link",c&&c.length&&!u),L(e,"text-loader--content",!u),L(e,d,d),e))},i.props,{onClick:function(){return s(c)},tabIndex:f}),Object(P.K)(Object(P.c)(r)||""))}}])&&x(t.prototype,n),r&&x(t,r),o}(r.Component);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){var t=e.transitionName,n=e.transitionAppear,r=e.transitionLeave,i=e.transitionAppearTimeout,o=e.transitionLeaveTimeout,c=e.transitionEnterTimeout,s=e.isVisible,l=e.plainText,u=e.transitionWrapper;return l||!u?a.a.createElement(V,e):a.a.createElement(v.a,{transitionName:t,transitionAppear:n,transitionLeave:r,transitionAppearTimeout:i,transitionLeaveTimeout:o,transitionEnterTimeout:c},s?a.a.createElement(V,e):null)}V.propTypes={analyticsInteraction:o.a.string,tag:o.a.shape({props:o.a.shape({})}),actions:o.a.arrayOf(o.a.shape({})),onAction:o.a.func,key:o.a.string,className:o.a.string,actionClass:o.a.string,plainText:o.a.bool,text_schema:o.a.oneOfType([o.a.string,o.a.shape(),o.a.arrayOf(o.a.string),o.a.arrayOf(o.a.shape())])},V.defaultProps={analyticsInteraction:null,tag:"",actions:[],onAction:null,key:"",className:"",actionClass:"",plainText:!1,text_schema:null},U.propTypes={transitionAppear:o.a.bool,transitionLeave:o.a.bool,transitionName:o.a.string,transitionAppearTimeout:o.a.number,transitionLeaveTimeout:o.a.number,transitionEnterTimeout:o.a.number,isVisible:o.a.bool,plainText:o.a.bool,transitionWrapper:o.a.bool},U.defaultProps={transitionAppear:!1,transitionLeave:!1,transitionName:"m3",transitionAppearTimeout:500,transitionLeaveTimeout:500,transitionEnterTimeout:500,isVisible:!0,plainText:!1,transitionWrapper:!1};var W=t.a=Object(y.connect)((function(e,t){var n,r=t.data,a=t.className,i=void 0===a?"":a,o=t.field,c=void 0===o?"":o,l=c?s()(r,c):r,d="TextLoader::".concat(r.code||JSON.stringify(l),"::").concat(c),m=s()(t,"transitionAppear",!1),y=s()(t,"transitionLeave",!1),b=s()(t,"visible",!0),v=s()(e,"Configuration.option_codes",[]),g=s()({title:"h6",main_title:"h5"},c,"p"),h={component:s()(t,"tag.component",g),props:s()(t,"tag.props",{})},_=p()(l)?l.content:null,w={};if(s()(l,"behavior")||s()(l,"root.behavior")){var E=s()(l,"behavior",s()(l,"root.behavior"),[]),S=[],j=[];E.forEach((function(t){switch(S=f()(S,s()(t,"content.classNames",[])),j=f()(j,s()(t,"content.actionClass",[])),t.type){case"ACTION":return n=[].concat(n||[],t.content);case"REPLACE_VARS":if("string"==typeof l.content){var r=s()(e,"OMS.lexicon.".concat(t.content.source));return _=Object(O.replace)(l.content,r)}break;case"REPLACE_CONTENT":if("string"==typeof l.content){var a=s()(e,"OMS.lexicon.".concat(t.content.source));return _=t.content.selected_by&&!Object(P.Q)(t.content.selected_by,v)?l.content:a}var i=s()(e,"OMS.lexicon.".concat(t.content.source));return _=t.content.selected_by&&!Object(P.Q)(t.content.selected_by,v)?l:q(q({},i),{},{behavior:!0});case"CONTAINER":return h={component:t.content.tag||g,props:t.content.props||{}}}})),w=q(q({},w),{},{className:S.concat(i).join(" "),actionClass:j.join(" ")})}return q({text_schema:u()(l,"behavior")||u()(l,"root.behavior")?_:l,actions:n,tag:h,key:d,transitionAppear:m,transitionLeave:y,isVisible:b,field:c},w)}),(function(e,t){var n=t.modelCode,r=t.analyticsInteraction;return{onAction:function(t){r&&g.a.fireTagEvent({event:"configurator",interaction:r,"cfg-type":n}),t&&e(Object(h.triggerLoaderAction)(t))}}}))(U)},73:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(13),o=n(8),c=n(1),s=n.n(c),l=n(245),u=n.n(l),d=n(6),p=n.n(d),m=n(3),f=n(2),y=n(23);n(1809);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,e);var t,n,r,i=O(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),E(_(t=i.call(this,e)),"handleModalClick",(function(){var e=t.props,n=e.openModal,r=e.closeModal,a=e.options,i=e.isModalOpen,o=e.isComponentOpen,c=e.areSameProps,s=e.preserveOpen;i?r():((!o||c)&&o||s||r(),n(a.props))})),E(_(t),"handleCarouselModalClick",(function(){var e=t.props,n=e.isCarouselOpen,r=e.openFeatureModal,a=e.analyticsTriggerText,i=e.closeFeatureModal,o=e.groupName;n&&i(),o&&r({analyticsTriggerText:a,groupName:o})})),t.handleClick=t.handleClick.bind(_(t)),t}return t=o,(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.type,r=t.analyticsInteraction,a=t.modelCode;switch(document.body.classList.add("using-mouse"),void 0!==e&&"keyboard"===e&&document.body.classList.remove("using-mouse"),r&&y.a.fireTagEvent({event:"configurator",interaction:r,"cfg-type":a}),n){case f.x:this.handleCarouselModalClick();break;default:this.handleModalClick()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isModalOpen,r=t.children,i=t.classes,o=t.containerCss,c=t.tabIndex,s=("function"==typeof r?r:function(){return r})(n);return a.a.createElement("div",{className:p()("modal-trigger-container",E({},o,o))},a.a.createElement("button",v({className:p()("modal-trigger tds-btn tds-btn--link",E({},i,i)),type:"button"},-1===c?{tabIndex:"-1"}:{},{onClick:function(){return e.handleClick()}}),s))}}])&&g(t.prototype,n),r&&g(t,r),o}(r.Component);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}S.propTypes={openModal:m.func.isRequired,closeModal:m.func.isRequired,isModalOpen:m.bool.isRequired,isComponentOpen:m.bool,areSameProps:m.bool,preserveOpen:m.bool,options:Object(m.shape)({props:Object(m.shape)({})}),children:Object(m.oneOfType)([m.func,Object(m.shape)({}),Object(m.arrayOf)(Object(m.shape)({}))]).isRequired,classes:m.string,type:m.string,isCarouselOpen:m.bool.isRequired,openFeatureModal:m.func.isRequired,analyticsTriggerText:m.string,closeFeatureModal:m.func.isRequired,groupName:m.string,containerCss:m.string,analyticsInteraction:m.string,modelCode:m.string.isRequired,tabIndex:m.number},S.defaultProps={areSameProps:!1,preserveOpen:!1,options:{},isComponentOpen:null,analyticsTriggerText:"",groupName:"",classes:"",type:f.Ef,containerCss:"",analyticsInteraction:null,tabIndex:0};var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,e);var t,n,r,i=D(o);function o(){return C(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement(S,this.props)}}])&&T(t.prototype,n),r&&T(t,r),o}(r.PureComponent);t.a=Object(i.connect)((function(e,t){var n=t.analyticsInteraction,r=s()(e,"Modal.selected",{}),a=e.FeatureListModal,i=s()(e,"OMS.oms_params.model"),o=s()(r,"props",{}),c=s()(t,"options.props.props",{}),l=u()(o,c),d=c.classes,p=void 0===d?"":d,m=c.containerCss;return{modelCode:i,analyticsInteraction:n,isModalOpen:e.Modal.open&&r&&r.component===s()(t,"options.props.componentName",!1)&&l,isComponentOpen:r&&r.component===s()(t,"options.props.componentName",!1),areSameProps:l,isCarouselOpen:a.isCarouselOpen,classes:p,containerCss:m}}),(function(e){return{openModal:function(t){return e(Object(o.openModal)(t.componentName,t.props))},closeModal:function(){return e(Object(o.closeModal)())},openFeatureModal:function(t){return e(Object(o.openFeatureModal)(t))},closeFeatureModal:function(){return e(Object(o.closeFeatureModal)())}}}))(N)},8:function(e,t,n){"use strict";var r=n(243);n.o(r,"addAlert")&&n.d(t,"addAlert",(function(){return r.addAlert})),n.o(r,"applePaySessionFailure")&&n.d(t,"applePaySessionFailure",(function(){return r.applePaySessionFailure})),n.o(r,"applePaySessionRequest")&&n.d(t,"applePaySessionRequest",(function(){return r.applePaySessionRequest})),n.o(r,"applePaySessionSuccess")&&n.d(t,"applePaySessionSuccess",(function(){return r.applePaySessionSuccess})),n.o(r,"applePayment")&&n.d(t,"applePayment",(function(){return r.applePayment})),n.o(r,"calcPriceForNewlySelectedOption")&&n.d(t,"calcPriceForNewlySelectedOption",(function(){return r.calcPriceForNewlySelectedOption})),n.o(r,"cancelEditOrder")&&n.d(t,"cancelEditOrder",(function(){return r.cancelEditOrder})),n.o(r,"cancelPaymentEdit")&&n.d(t,"cancelPaymentEdit",(function(){return r.cancelPaymentEdit})),n.o(r,"cancelUpdateOrder")&&n.d(t,"cancelUpdateOrder",(function(){return r.cancelUpdateOrder})),n.o(r,"changeDeliveryLocation")&&n.d(t,"changeDeliveryLocation",(function(){return r.changeDeliveryLocation})),n.o(r,"checkEmailAvailability")&&n.d(t,"checkEmailAvailability",(function(){return r.checkEmailAvailability})),n.o(r,"checkSession")&&n.d(t,"checkSession",(function(){return r.checkSession})),n.o(r,"clearRedirectDetails")&&n.d(t,"clearRedirectDetails",(function(){return r.clearRedirectDetails})),n.o(r,"clearServerError")&&n.d(t,"clearServerError",(function(){return r.clearServerError})),n.o(r,"closeAllModals")&&n.d(t,"closeAllModals",(function(){return r.closeAllModals})),n.o(r,"closeFailedShareAlert")&&n.d(t,"closeFailedShareAlert",(function(){return r.closeFailedShareAlert})),n.o(r,"closeFeatureModal")&&n.d(t,"closeFeatureModal",(function(){return r.closeFeatureModal})),n.o(r,"closeModal")&&n.d(t,"closeModal",(function(){return r.closeModal})),n.o(r,"completeRedirectOrderFlow")&&n.d(t,"completeRedirectOrderFlow",(function(){return r.completeRedirectOrderFlow})),n.o(r,"copyUrl")&&n.d(t,"copyUrl",(function(){return r.copyUrl})),n.o(r,"createEnergyLead")&&n.d(t,"createEnergyLead",(function(){return r.createEnergyLead})),n.o(r,"deliverystateupdate")&&n.d(t,"deliverystateupdate",(function(){return r.deliverystateupdate})),n.o(r,"externalLinkClicked")&&n.d(t,"externalLinkClicked",(function(){return r.externalLinkClicked})),n.o(r,"fetchOMS")&&n.d(t,"fetchOMS",(function(){return r.fetchOMS})),n.o(r,"getGeocodeByLocation")&&n.d(t,"getGeocodeByLocation",(function(){return r.getGeocodeByLocation})),n.o(r,"getInvoiceType")&&n.d(t,"getInvoiceType",(function(){return r.getInvoiceType})),n.o(r,"getPickupLocations")&&n.d(t,"getPickupLocations",(function(){return r.getPickupLocations})),n.o(r,"getShortUrl")&&n.d(t,"getShortUrl",(function(){return r.getShortUrl})),n.o(r,"getUserLocation")&&n.d(t,"getUserLocation",(function(){return r.getUserLocation})),n.o(r,"hideBaseField")&&n.d(t,"hideBaseField",(function(){return r.hideBaseField})),n.o(r,"navigateTo")&&n.d(t,"navigateTo",(function(){return r.navigateTo})),n.o(r,"navigationSelectKey")&&n.d(t,"navigationSelectKey",(function(){return r.navigationSelectKey})),n.o(r,"openFeatureModal")&&n.d(t,"openFeatureModal",(function(){return r.openFeatureModal})),n.o(r,"openModal")&&n.d(t,"openModal",(function(){return r.openModal})),n.o(r,"placeOrderFlow")&&n.d(t,"placeOrderFlow",(function(){return r.placeOrderFlow})),n.o(r,"placePublicOrderFlow")&&n.d(t,"placePublicOrderFlow",(function(){return r.placePublicOrderFlow})),n.o(r,"postCreateEnergyLead")&&n.d(t,"postCreateEnergyLead",(function(){return r.postCreateEnergyLead})),n.o(r,"postMktConfig")&&n.d(t,"postMktConfig",(function(){return r.postMktConfig})),n.o(r,"postMktConfigWithPayment")&&n.d(t,"postMktConfigWithPayment",(function(){return r.postMktConfigWithPayment})),n.o(r,"postOrderWithPayment")&&n.d(t,"postOrderWithPayment",(function(){return r.postOrderWithPayment})),n.o(r,"redirectToDeliveryFlow")&&n.d(t,"redirectToDeliveryFlow",(function(){return r.redirectToDeliveryFlow})),n.o(r,"removeAlert")&&n.d(t,"removeAlert",(function(){return r.removeAlert})),n.o(r,"removeLoader")&&n.d(t,"removeLoader",(function(){return r.removeLoader})),n.o(r,"saveConfigFlow")&&n.d(t,"saveConfigFlow",(function(){return r.saveConfigFlow})),n.o(r,"selectFinancePanelTab")&&n.d(t,"selectFinancePanelTab",(function(){return r.selectFinancePanelTab})),n.o(r,"selectTab")&&n.d(t,"selectTab",(function(){return r.selectTab})),n.o(r,"selectTeslaInsurance")&&n.d(t,"selectTeslaInsurance",(function(){return r.selectTeslaInsurance})),n.o(r,"sendVerificationCode")&&n.d(t,"sendVerificationCode",(function(){return r.sendVerificationCode})),n.o(r,"setAccountDetailsValidFlag")&&n.d(t,"setAccountDetailsValidFlag",(function(){return r.setAccountDetailsValidFlag})),n.o(r,"setBillingInfoValidFlag")&&n.d(t,"setBillingInfoValidFlag",(function(){return r.setBillingInfoValidFlag})),n.o(r,"setCCDetailsValidFlag")&&n.d(t,"setCCDetailsValidFlag",(function(){return r.setCCDetailsValidFlag})),n.o(r,"setDeliveryDetailsValidFlag")&&n.d(t,"setDeliveryDetailsValidFlag",(function(){return r.setDeliveryDetailsValidFlag})),n.o(r,"setFormErrors")&&n.d(t,"setFormErrors",(function(){return r.setFormErrors})),n.o(r,"setInvoiceDetailsValidFlag")&&n.d(t,"setInvoiceDetailsValidFlag",(function(){return r.setInvoiceDetailsValidFlag})),n.o(r,"setOption")&&n.d(t,"setOption",(function(){return r.setOption})),n.o(r,"setOptionExtended")&&n.d(t,"setOptionExtended",(function(){return r.setOptionExtended})),n.o(r,"setPaymentFormValidFlag")&&n.d(t,"setPaymentFormValidFlag",(function(){return r.setPaymentFormValidFlag})),n.o(r,"setPricingDetails")&&n.d(t,"setPricingDetails",(function(){return r.setPricingDetails})),n.o(r,"setRedirectDetails")&&n.d(t,"setRedirectDetails",(function(){return r.setRedirectDetails})),n.o(r,"setRegistrationType")&&n.d(t,"setRegistrationType",(function(){return r.setRegistrationType})),n.o(r,"setSpecialRegionalIncentives")&&n.d(t,"setSpecialRegionalIncentives",(function(){return r.setSpecialRegionalIncentives})),n.o(r,"setSummaryPanelBalloonPayment")&&n.d(t,"setSummaryPanelBalloonPayment",(function(){return r.setSummaryPanelBalloonPayment})),n.o(r,"setSummaryPanelDownPayment")&&n.d(t,"setSummaryPanelDownPayment",(function(){return r.setSummaryPanelDownPayment})),n.o(r,"setSummaryPanelFinanceAPR")&&n.d(t,"setSummaryPanelFinanceAPR",(function(){return r.setSummaryPanelFinanceAPR})),n.o(r,"setSummaryPanelFinanceTerm")&&n.d(t,"setSummaryPanelFinanceTerm",(function(){return r.setSummaryPanelFinanceTerm})),n.o(r,"setSummaryPanelFuelParams")&&n.d(t,"setSummaryPanelFuelParams",(function(){return r.setSummaryPanelFuelParams})),n.o(r,"setSummaryPanelIncludeServiceFee")&&n.d(t,"setSummaryPanelIncludeServiceFee",(function(){return r.setSummaryPanelIncludeServiceFee})),n.o(r,"setSummaryPanelLeaseDistance")&&n.d(t,"setSummaryPanelLeaseDistance",(function(){return r.setSummaryPanelLeaseDistance})),n.o(r,"setSummaryPanelLeaseTerm")&&n.d(t,"setSummaryPanelLeaseTerm",(function(){return r.setSummaryPanelLeaseTerm})),n.o(r,"setSummaryPanelLoanDistance")&&n.d(t,"setSummaryPanelLoanDistance",(function(){return r.setSummaryPanelLoanDistance})),n.o(r,"setSummaryPanelRegion")&&n.d(t,"setSummaryPanelRegion",(function(){return r.setSummaryPanelRegion})),n.o(r,"setSummaryPanelResidualAmount")&&n.d(t,"setSummaryPanelResidualAmount",(function(){return r.setSummaryPanelResidualAmount})),n.o(r,"shareDesign")&&n.d(t,"shareDesign",(function(){return r.shareDesign})),n.o(r,"showBaseField")&&n.d(t,"showBaseField",(function(){return r.showBaseField})),n.o(r,"startLoader")&&n.d(t,"startLoader",(function(){return r.startLoader})),n.o(r,"toggleAccessorySelection")&&n.d(t,"toggleAccessorySelection",(function(){return r.toggleAccessorySelection})),n.o(r,"toggleEnergyLeadSelection")&&n.d(t,"toggleEnergyLeadSelection",(function(){return r.toggleEnergyLeadSelection})),n.o(r,"toggleFinancePanelDrivertype")&&n.d(t,"toggleFinancePanelDrivertype",(function(){return r.toggleFinancePanelDrivertype})),n.o(r,"toggleFinancePanelSideBar")&&n.d(t,"toggleFinancePanelSideBar",(function(){return r.toggleFinancePanelSideBar})),n.o(r,"toggleLoanType")&&n.d(t,"toggleLoanType",(function(){return r.toggleLoanType})),n.o(r,"togglePaymentForm")&&n.d(t,"togglePaymentForm",(function(){return r.togglePaymentForm})),n.o(r,"toggleSummaryPanelIncentive")&&n.d(t,"toggleSummaryPanelIncentive",(function(){return r.toggleSummaryPanelIncentive})),n.o(r,"toggleTrimSavingsPrice")&&n.d(t,"toggleTrimSavingsPrice",(function(){return r.toggleTrimSavingsPrice})),n.o(r,"trackLeadCardView")&&n.d(t,"trackLeadCardView",(function(){return r.trackLeadCardView})),n.o(r,"triggerGenericAction")&&n.d(t,"triggerGenericAction",(function(){return r.triggerGenericAction})),n.o(r,"triggerLoaderAction")&&n.d(t,"triggerLoaderAction",(function(){return r.triggerLoaderAction})),n.o(r,"triggerRedirectWithReferral")&&n.d(t,"triggerRedirectWithReferral",(function(){return r.triggerRedirectWithReferral})),n.o(r,"updateAccountDetails")&&n.d(t,"updateAccountDetails",(function(){return r.updateAccountDetails})),n.o(r,"updateAccountIDTypeLabel")&&n.d(t,"updateAccountIDTypeLabel",(function(){return r.updateAccountIDTypeLabel})),n.o(r,"updateBillingInfo")&&n.d(t,"updateBillingInfo",(function(){return r.updateBillingInfo})),n.o(r,"updateCreditCardDetails")&&n.d(t,"updateCreditCardDetails",(function(){return r.updateCreditCardDetails})),n.o(r,"updateDeliveryDetails")&&n.d(t,"updateDeliveryDetails",(function(){return r.updateDeliveryDetails})),n.o(r,"updateLocationData")&&n.d(t,"updateLocationData",(function(){return r.updateLocationData})),n.o(r,"updatePaymentDetails")&&n.d(t,"updatePaymentDetails",(function(){return r.updatePaymentDetails})),n.o(r,"updatePaymentInteractionRequired")&&n.d(t,"updatePaymentInteractionRequired",(function(){return r.updatePaymentInteractionRequired})),n.o(r,"updatePickupLocationProvinceData")&&n.d(t,"updatePickupLocationProvinceData",(function(){return r.updatePickupLocationProvinceData})),n.o(r,"updateRegistration")&&n.d(t,"updateRegistration",(function(){return r.updateRegistration})),n.o(r,"updateScreenLayout")&&n.d(t,"updateScreenLayout",(function(){return r.updateScreenLayout})),n.o(r,"updateVehicleDetail")&&n.d(t,"updateVehicleDetail",(function(){return r.updateVehicleDetail})),n.o(r,"updateWechat")&&n.d(t,"updateWechat",(function(){return r.updateWechat})),n.o(r,"userDevice")&&n.d(t,"userDevice",(function(){return r.userDevice})),n.o(r,"userHasApplePay")&&n.d(t,"userHasApplePay",(function(){return r.userHasApplePay}))},823:function(e,t){},825:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=a.a.forwardRef((function(e,t){var n=e.onClick,r=e.activeTab,i=e.label,o=e.id,c=e.index,s="tds-tab ".concat(r?" tds-tab--active":"");return a.a.createElement("a",{id:o,className:s,onClick:function(){document.body.classList.remove("using-mouse"),n(o)},onKeyDown:function(e){return function(e){13!==e.keyCode&&32!==e.keyCode||n(o)}(e)},tabIndex:0,"aria-label":i,role:"tab","aria-selected":r,"data-tabnumber":c,ref:t},i)}));c.propTypes={id:o.a.string.isRequired,activeTab:o.a.bool,label:o.a.string.isRequired,onClick:o.a.func.isRequired,index:o.a.number.isRequired},c.defaultProps={activeTab:null},t.a=c},826:function(e,t,n){"use strict";var r=n(0);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t,n,a=u(Object(r.useState)({}),2),i=a[0],d=a[1],p=(t=e,n=Object(r.useRef)(t),Object(r.useEffect)((function(){n.current.length===t.length&&n.current.every((function(e,n){return e.id===t[n].id}))||(n.current=t)}),[t]),n.current);return[i,Object(r.useMemo)((function(){return e.reduce((function(e,t){return e[t.id]=function(e){d((function(n){if(!e){var r=t.id;n[r];return s(n,[r].map(l))}return o(o({},n),{},c({},t.id,{clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth}))}))},e}),[])}),[p])]}},831:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(4),s=n(13),l=n(1),u=n.n(l),d=n(17),p=n.n(d),m=n(80),f=n.n(m),y=n(26),b=n.n(y),v=n(23),g=n(9),h=n(5),O=n(69),P=n(29),_=n(2),w=n(24),E=n(64),S=n(543);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(c.d)(Object(c.L)(e,t,n,r))},V=function(e,t){var n=t.replace("?","");return n=n.charAt(0).includes("&")?n:"&".concat(n),e.includes("?")?"".concat(e).concat(n):"".concat(e,"?").concat(n)},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,n,r,i=R(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),k(N(t=i.call(this,e)),"formRef",a.a.createRef()),k(N(t),"handlePrintPdfKey",(function(e){13!==e.keyCode&&32!==e.keyCode||t.handlePrintPdf()})),k(N(t),"handlePrintPdf",(function(){var e=t.props,n=e.modelName,r=e.modelCode,a=e.trimName,i=e.trimCode,o=e.configuration,s=e.options,l=e.customGroups,d=e.beforeSavingsPrice,m=e.useEPAunits,y=e.compositor,g=e.hideDestinationDocFee,P=e.showDestinationAndDocFee,w=e.destinationAndDocFee,E=e.recyclingFee,S=e.tireFee,T=e.specialTax,A=e.showRegistrationTax,D=e.registrationTax,R=e.firstRegistrationTax,L=e.governmentGrant,N=e.governmentIncentivesTotal,x=e.governmentIncentivesPeriod,I=e.showRegionalTaxTypes,B=e.regionalTaxValues,q=e.deliveryFee,G=e.showDistinctTaxTotal,U=e.OMVICFee,W=e.onRoadfeesTotal,Y=e.extraIncentives,z=e.sibling,H=e.locale,K=e.countryCode,X=e.regionalTax,$=e.showRegionalTax,Z=e.vatAmount,Q=e.summaryRegionalFees,J=e.vatAmountPrecision,ee=e.useDynamicRounding,te=e.showVAT,ne=e.hideTaxesAndFeesExcluded,re=e.disclaimerDateFormat,ae=e.registrationType,ie=e.disclaimerPrecedings,oe=e.financeProducts,ce=e.includeFeesinBatteryCalculationPayment,se=e.useOptionPriceOverridePayment,le=e.trimOptions,ue=e.regionCode,de=e.registrationDetail,pe=e.showDriveAwayPrice,me=e.depositAmount,fe=e.vehiclePriceInclFees,ye=e.gstSalePrice,be=e.governmentGrantLabel,ve=e.stateContribution,ge=e.sellerDiscount,he=e.compositorOptions,Oe=e.assetView,Pe=e.CustomGroups,_e=e.batteryGroupSpecs,we=["luxury_cost_tax","local_stamp_duty","local_reg_cost","local_ctp","plate_fee","delivery_fee","registration_fee","governmentIncentive","destinationDocfee","omvic_fee","onRoadfeesTotal"];v.a.fireTagEvent({event:"configurator","cfg-type":"financing",interaction:"save-design-download-pdf"});var Ee=[];I&&I.length>0&&(Ee=(Ee=[].concat(C(I),["destinationDocfee","onRoadfeesTotal"])).sort((function(e,t){var n=we.indexOf(e),r=we.indexOf(t);return n>r?1:-1})));var Se=(Q||!!N&&!["included","includedInPurchasePrice","includedInSavings"].includes(x))&&!Ee.includes("governmentIncentive"),je=[].concat(C(Ee.map((function(e){switch(e){case"local_reg_cost":return{show:u()(B,"local_reg_costs")>0,label:M("FinancingOptions.local_reg_cost"),value:Object(h.formatCurrency)(B.local_reg_costs)};case"delivery_fee":return{show:q>0,label:M("FinancingOptions.delivery_fee"),value:Object(h.formatCurrency)(q)};case"registration_fee":return{show:D>0,label:M("SummaryPanel.disclaimers.registrationTax"),value:Object(h.formatCurrency)(D)};case"governmentIncentive":return{show:Math.abs(N)>0,label:M("FinancingOptions.governmentIncentive"),value:Object(h.formatCurrency)(-1*Math.abs(N))};case"destinationDocfee":return{show:w&&!G,label:M("FinancingOptions.destinationDocfee"),value:Object(h.formatCurrency)(w)};case"omvic_fee":return{show:U>0,label:M("SummaryPanel.disclaimers.specialFee"),value:Object(h.formatCurrency)(U)};case"onRoadfeesTotal":return{show:W,label:M("FinancingOptions.vehicle_subTotalInclFees"),value:Object(h.formatCurrency)(W)};default:return{show:u()(B,e)>0,label:M("FinancingOptions.".concat(e)),value:Object(h.formatCurrency)(B[e])}}}))),[{show:!g&&!Ee.includes("destinationDocfee")&&P,label:M("SummaryPanel.destination_fee"),value:Object(h.formatCurrency)(w)},{show:E,label:M("SummaryPanel.disclaimers.recyclingFee"),value:E},{show:S,label:M("SummaryPanel.disclaimers.tireFee"),value:S},{show:T,label:M("SummaryPanel.disclaimers.specialTax"),value:Object(h.formatCurrency)(T)},{show:A&&D,label:M("SummaryPanel.disclaimers.registrationTax"),value:Object(h.formatCurrency)(D)},{show:L,label:M("SummaryPanel.disclaimers.governmentGrant"),value:Object(h.formatCurrency)(L)},{show:$&&X>0,label:M("SummaryPanel.disclaimers.regionalTax"),value:Object(h.formatCurrency)(X)},{show:R>0,label:M("SummaryPanel.disclaimers.firstRegistrationTax"),value:Object(h.formatCurrency)(R)}],C(Se?[{show:w>0,label:M("SummaryPanel.destination_fee"),value:Object(h.formatCurrency)(w)},{show:!!N,label:M("SummaryPanel.disclaimers.".concat(be)),value:Object(h.formatCurrency)(-1*Math.abs(N))}]:[])).filter(Boolean),Ce=Object.keys(l).reduce((function(e,t){return F(F({},e),{},k({},t,function e(t){var n=l[t]||{},r=n.options,a=void 0===r?[]:r,i=n.groups,o=void 0===i?[]:i;return Array.isArray(a)&&Array.isArray(o)?[].concat(C(a),C(o.reduce((function(t,n){return[].concat(C(t),C(e(n)))}),[]))):[]}(t)))}),{}),Te=function(e){return Array.isArray(e)?e.map((function(e){var t=s.find((function(t){return t.code===e}));if(t||"object"!==j(e)||(t=s.find((function(t){return t.code===e.code}))),void 0===t)return null;var n=t,r=n.long_name,a=n.formattedPrice,i=Object(c.l)([t],o,null,ce,se&&le.includes(t.code),Pe,null,!0),l="number"==typeof i?Object(h.formatCurrency)(i):i,u=!1!==i?l:a;return{label:Object(c.d)(r),value:Object(c.d)(u)}})).filter(Boolean):[]},Ae=u()(window,"tesla.product.data.IsLegacy",!1),De=[];if(De=Ae?[{label:M("pdf.labels.summary"),options:Te(s)}]:[{label:M("pdf.labels.summary"),groups:["CORE_CONFIGURATOR"]},{label:M("pdf.labels.design"),groups:["PAINT","SPORT_PACKAGE_OPTIONS","WHEELS","WINTER_WHEELS_OPTIONS","INTERIOR","INTERIOR_PACKAGE","REAR_SEATS"]},{label:M("pdf.labels.features"),groups:["AUTOPILOT","AUTOPILOT_OWNERSHIP","AUTOPILOT_PACKAGE","TOWING","COMFORT_PACKAGE","PERF_FIRMWARE","SUPER_CHARGER"]}].reduce((function(e,t){var n=t.label,r=t.groups;return[].concat(C(e),[{label:n,options:r.reduce((function(e,t){return[].concat(C(e),C(Te(Ce[t]))).filter((function(e,t,n){return n.findIndex((function(t){return t.label===e.label}))===t}))}),[])}])}),[]),"AU"===K||"NZ"===K){var Re=De.findIndex((function(e){return e.label===M("pdf.labels.features")})),Le=M("SummaryPanel.disclaimers.vehicle_GST",{GST:Object(h.formatCurrency)(ye)},null,{returnNullWhenEmpty:!0});Le=Le?"(".concat(Le,")"):"",-1!==Re&&(De[Re].options=[].concat(C(De[Re].options),[{label:"<br/>".concat(M("FinancingOptions.destinationDocfee")),value:"<br/>".concat(Object(h.formatCurrency)(w))},{label:M("Review.order_fee"),value:Object(h.formatCurrency)(me)},{label:"<strong>".concat(M("FinancingOptions.vehicle_subTotal")," ").concat(Le,"</strong>"),value:"<strong>".concat(Object(h.formatCurrency)(fe),"</strong>")}]))}var Ne=je.filter((function(e){return e.show})),xe=pe?"FinancingOptions.drive_away_price":"Review.purchase_price",Ie={options:[].concat(C(Ne),[{label:M(xe),value:d,total:!0}])};Ne.length&&(Ie.label=M("pdf.labels.pricesAndIncentives")),De.push(Ie);var Fe=null,ke=u()(_e,"".concat(i,".rawData"),{}),Me=function(e,t){var n=u()(e,"overrides",[]);if(!n.length)return e;var r=b()(n,(function(e){var n=u()(e,"selected_by",{});return!p()(n)&&Object(c.Q)(n,t)}));if(p()(r))return e;var a=u()(r,"content",{});return F(F({},e),a)}(ke,o),Ve=Me.range,Be=Me.topspeed,qe=Me.acceleration,Ge=Me.range_units,Ue=Me.range_units_epa,We=Me.range_units_override,Ye=Me.use_units_override,ze=void 0!==Ye&&Ye?"_override":"",He=u()(ke,"range_units_short".concat(ze),u()(ke,"range_units_short","")),Ke=u()(ke,"top_speed_units_short".concat(ze),u()(ke,"top_speed_units_short","")),Xe=u()(ke,"zero_to_road_limit_units".concat(ze),u()(ke,"zero_to_road_limit_units","")),$e=u()(ke,"speed_units_short".concat(ze),u()(ke,"speed_units_short","")),Ze=u()(ke,"top_speed_units".concat(ze),u()(ke,"top_speed_units","")),Qe=(m?Ue:Ge)||"";if(p()(We)||(Qe=ke["range_units_epa_link"===We?"range_units_epa":We]||Qe),Ae){var Je=u()(window,"tesla.product.data.OptionCodeSpecs.C_SPECS.options",[]),et={SPECS_RANGE:Qe,SPECS_TOP_SPEED:Ze,SPECS_BATTERY_DRIVE:Ze,SPECS_ACCELERATION:Xe},tt={SPECS_RANGE:He,SPECS_TOP_SPEED:Ke,SPECS_BATTERY_DRIVE:Ke,SPECS_ACCELERATION:$e};Fe=Je.sort((function(e){var t=e.code;return"SPECS_RANGE"===t?1:"SPECS_TOP_SPEED"===t||"SPECS_BATTERY_DRIVE"===t?2:"SPECS_ACCELERATION"===t?3:0})).map((function(e){var t=e.code,n=e.name.match(/((\d+ ?,?\.?)+?(\d+)?)?\d/g).shift();return{label:Object(c.d)(et[t]),value:Object(c.d)(n),valueLabel:Object(c.d)(tt[t])}}))}else if(Object.keys(Me).length>0){var nt="string"==typeof Me.acceleration?Me.acceleration:f()(Object(h.formatNumber)(Me.acceleration,1));Fe=[{label:Object(c.d)(Qe),value:Object(c.d)(f()(Me.range)),valueLabel:Object(c.d)(He)},{label:Object(c.d)(Ze),value:Object(c.d)(f()(Me.topspeed)),valueLabel:Object(c.d)(Ke)},{label:Object(c.d)(Xe),value:Object(c.d)(nt),valueLabel:Object(c.d)($e)}]}else if(Ve&&Be&&qe){var rt="string"==typeof qe?qe:f()(Object(h.formatNumber)(qe,1));Fe=[{label:Object(c.d)(Qe),value:Object(c.d)(f()(Ve)),valueLabel:Object(c.d)(He)},{label:Object(c.d)(Ze),value:Object(c.d)(f()(Be)),valueLabel:Object(c.d)(Ke)},{label:Object(c.d)(Xe),value:Object(c.d)(rt),valueLabel:Object(c.d)($e)}]}var at="";at=he?V(u()(y,"compositor_url",""),"&view=".concat(Oe,"&size=1400&model=").concat(r,"&options=").concat(he)):u()(y,"views.".concat(Oe,".url"),""),at=V(at,"bkba_opt=2");var it=M("pdf.disclaimer",{DATE:Object(O.formatDate)(re),REGION_CODE:ue,REGISTRANT_TYPE:M("Review.account_in_".concat(de.RegistrantType)).toLowerCase()}),ot=Object(c.j)(Y,o,ae,N).filter((function(e){return![_.Xf,_.bg,_.ag].includes(e)&&((e!==_.Kc||!Ee.includes("governmentIncentive"))&&((e!==_.Zf||!A)&&((e!==_.Yf||!$)&&(e!==_.Lc||!Se))))})).map((function(e){return M("Incentives.extraIncentives.".concat(e),{LINK_TARGET:"_blank",REGISTRATION_TAX:Object(h.formatCurrency)(D),REGIONAL_TAX:Object(h.formatCurrency)(X,null,{precision:2}),SPECIAL_TAX:Object(h.formatCurrency)(T),LINK_SUPPORT_INCENTIVES:Object(c.e)("support/incentives?redirect=no",z,H),GOVERNMENT_GRANT:Object(h.formatCurrency)(L),INCENTIVES_INCLUDED_TOTAL:Object(h.formatCurrency)(Math.abs(N)),RECYCLING_FEE:E,TIRE_FEE:S,STATE_CONTRIB:Object(h.formatCurrency)(Math.abs(ve)),SELLER_DISCOUNT:Object(h.formatCurrency)(Math.abs(ge))})}));te&&ot.unshift(M("SummaryPanel.disclaimers.vatAmount",{VAT_AMOUNT:Object(h.formatCurrency)(Z,{precision:J,dynamicRounding:ee})})),ne||ot.unshift(M("SummaryPanel.disclaimers.taxesAndFeesExcluded"));var ct={country:K,modelName:Object(c.d)(n),modelCode:Object(c.d)(r),trimName:a,compositorUrl:at,specs:Fe,groups:De,disclaimer:it,disclaimerPrecedings:ie,incentives:ot,financeProducts:oe,vin:u()(window,"tesla.vin")};t.setState({payload:JSON.stringify(ct,(function(e,t){return"string"==typeof t?encodeURI(t):t}))},(function(){return t.formRef.current.submit()}))})),t.state={payload:null},t}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.isDownloadPDFEnabled,r=t.label;if(!n)return null;var i=this.state.payload,o=u()(window,"tesla.csrf_key",""),c=u()(window,"tesla.csrf_token","");return a.a.createElement("form",{target:"_blank",ref:this.formRef,action:"/configurator/api/v1/download-pdf",method:"POST"},a.a.createElement("input",{type:"hidden",name:"payload",value:i||""}),a.a.createElement("input",{type:"hidden",name:o,value:c}),a.a.createElement("button",{type:"button",className:"tds-flex-item tds-btn tds-btn--link tds-btn--blue download-pdf-link",onClick:this.handlePrintPdf,onKeyDown:function(t){return e.handlePrintPdfKey(t)}},a.a.createElement("span",{className:"tsla-icon tsla-icon-download"}),r))}}])&&A(t.prototype,n),r&&A(t,r),o}(a.a.Component),q=function(e){var t,n,r,a,i=u()(window,"tesla.omsParams",{}),o=i.model,s=i.variant,l=new P.DSServices({}).get((function(){}),{model:o,variant:s},i).InitialConfig,d=void 0===l?{}:l,p=Object(g.v)(e,{exCash:!0}),m=Object(g.q)(e),f=Object(g.w)(e),y=(t=Object(S.default)({object:d.SummaryPanel}).InitialState,n=e.OMS.oms_params,r=t.merge_method,a=Object(E.handleDeltas)(t,n,r),t.deltasV2&&(a=Object(E.handleV2Deltas)(t,n,r)),a.selected_tab),b=m===_.rc.CASH?y:m,v=u()(e,"Compositor.available_views.interior.current.view"),O=u()(window,"tesla.product.data.CompositorViews.interiorView",v),j="",C=Object(g.ib)(e)||Object(g.kb)(e)?u()(e,"ReviewDetails.product.data.OptionCodeList",""):"";if(C){var T=u()(e,"OMS.oms_params.model","");j=V(u()(e,"Compositor.compositor_url",""),"&view=".concat(O,"&size=1400&model=").concat(T,"&options=").concat(C))}else j=u()(e,"Compositor.views.".concat(O,".url"),"");return j=V(j,"bkba_opt=2"),p.sort((function(e,t){switch(b){case e.id:return-1;case t.id:return 1;default:return 0}})).map((function(t){var n=Object(c.I)(e),r=u()(e,"ReviewDetails.RegistrationDetail.RegistrantType",null),a=u()(e,"ReviewDetails.AccountDetail.AccountType"),i=r||a,o=t.financeType===f,s=u()(e,"FinancingOptions.showOrderFee",!1),l=u()(e,"SummaryPanel.includeServiceFee",!1),d=F(F({},t),{},{downPayment:Object(g.m)(e,{context:o?"form":"printpdf",financeType:t.financeType,excludeVAT:Object(g.mb)(e,{financeType:t.financeType}),financeTabId:t.id}),headerImage:j}),p=F(F({},e.OMS.oms_params),{},{financeType:t.financeType,financeProductId:t.financeProductId,downPayment:d.downPayment,customerType:i,options:e.Configuration.option_codes,extraFeeAmount:s?Object(g.j)(e):0,regionCode:u()(e,"SummaryPanel.region_code",""),vehiclePrice:null}),y={Incentives:e.Financial.fms_incentives,Fees:e.Financial.fms_fees,Loan:e.Financial.fms_loan,Lease:e.Financial.fms_lease,Lexicon:e.OMS.lexicon,Configuration:{options:e.Configuration.option_codes,UnselectedOptions:n}};switch(u()(e,"ReviewDetails.product.isInventory")&&(p.vehiclePrice=Object(g.G)(e),p.odometerMileage=parseFloat(u()(e,"ReviewDetails.product.data.Odometer")),p.inventory=(u()(e,"ReviewDetails.product.isUsedInventory")?_.Uc:_.Tc).toLowerCase(),p.inventoryDiscount=parseFloat(u()(e,"ReviewDetails.product.data.Discount",0))),t.financeType){case _.rc.LEASE:var b=o?Object(g.H)(e,t.id):null,v=o?Object(g.I)(e,t.id):null,O=P.Calculator.total(y,F(F({},p),{},{leaseDistance:b,leaseTerm:v,includeServiceFee:l})),E=Object(g.W)(e,{financeType:t.financeType,financeProductId:t.financeProductId}),S=E?"monthlyPaymentWithoutVat":"monthlyPayment",C=u()(O,"result.lease.".concat(S)),T=Object(g.s)(e,t.id),A=u()(T,"uiSettings.pdf",{}),D=u()(e,"PrintPdf.leaseFields",[]),R=u()(A,"leaseFields",D);if(!C)return null;var L=M("FinancingOptions.downpaymentLabel"),N=M("FinancingOptions.lease__downpaymentLabel",null,null,{specificOverride:Object(g.u)(e,t.id),returnNullWhenEmpty:!0});null!==N&&(L=N);var x=M("FinancingOptions.lease__downPaymentDescription",null,null,{specificOverride:Object(g.u)(e,t.id),returnNullWhenEmpty:!0});d=F(F({},d),{},{distance:b,term:v,price:C,lines:R.map((function(e){switch(e){case"downPayment":return{label:L,value:x||Object(h.formatCurrency)(d.downPayment),features:null!==x};case"term":return{label:M("common.term"),value:M("common.numMonths",{NUM:Object(h.formatNumber)(v)})};case"distance":return{label:M("FinancingOptions.lease__annualDistanceLabel"),value:M("FinancingOptions.lease__distanceOptionLabel",{DISTANCE:Object(h.formatNumber)(b)})};case"standardFeaturesList":return"operational_lease"===t.financeProductId?{label:Object(c.L)("standardFeatures","common.ui"),value:M("FinancingOptions.features_list.standard"),features:!0}:null;case"additionalFeaturesList":return"operational_lease"===t.financeProductId&&l?{label:Object(c.L)("includeServiceFee","common.ui"),value:M("FinancingOptions.features_list.additional"),features:!0}:null;default:return null}})).filter((function(e){return null!==e})),total:{label:"".concat(M("SummaryPanel.payment__lease",null,null,{specificOverride:Object(g.u)(e,t.id)})).concat(E?" ".concat(M("SummaryPanel.exVATpostfix")):""),value:Object(w.formatMonthlyPrice)(C)},disclaimer:Object(c.d)(Object(g.l)(e,{financeType:_.rc.LEASE,priceData:O.result.lease,financeTabId:t.id}))});break;case _.rc.LOAN:var I=o?Object(g.J)(e):null,k=o?Object(g.K)(e):null,V=u()(e,"SummaryPanel.loanType",{}),B=P.Calculator.total(y,F(F({},p),{},{loanDistance:I,loanTerm:k,loanType:V,balloonPayment:u()(e,"SummaryPanel.balloonPayment",null)})),q=u()(B,"result.loan.monthlyPayment",0),G=Object(g.s)(e,t.id),U=u()(G,"uiSettings.pdf",{}),W=u()(e,"PrintPdf.loanFields",[]),Y=u()(U,"loanFields",W),z=u()(e,"PrintPdf.loanFieldsAfterTotal",[]),H=u()(e,"PrintPdf.showInterestRate",!1),K=u()(e,"PrintPdf.loanTotalPostfix",null),X=u()(B,"result.loan.balloonPayment",0),$=u()(B,"result.loan.interestRate",0);m!==t.id&&(d.downPayment=u()(B,"result.loan.downPayment.downPaymentAmount",0),I=u()(B,"result.loan.LoanAPI.variables.loanDistance",0),k=u()(B,"result.loan.LoanAPI.variables.loanTerm",0)),H&&(d.apr={label:M("FinancingOptions.aprLabel",{},null,{specificOverride:V}),value:M("FinancingOptions.apr",{APR:$})});var Z=Object(w.formatMonthlyPrice)(q);K&&(Z+=K),d=F(F({},d),{},{distance:I,term:k,price:q,lines:Y.map((function(e){switch(e){case"downPayment":return{label:M("FinancingOptions.downpaymentLabel"),value:Object(h.formatCurrency)(d.downPayment)};case"term":return{label:M("common.term"),value:M("common.numMonths",{NUM:Object(h.formatNumber)(k)})};case"distance":return{label:M("FinancingOptions.loan__loanDistanceLabel"),value:-1!==M("FinancingOptions.mileageLabel").indexOf("{MILEAGE}")?M("FinancingOptions.mileageLabel",{MILEAGE:Object(h.formatNumber)(I)}):Object(h.formatNumber)(I)};case"balloonPayment":return{label:M("FinancingOptions.balloonPayment"),value:Object(h.formatCurrency)(X)};case"interestRate":return{label:M("FinancingOptions.aprLabel"),value:M("FinancingOptions.apr",{APR:$})};default:return null}})).filter((function(e){return null!==e})),total:{label:M("SummaryPanel.payment__loan"),value:Z},linesAfterTotal:z.map((function(e){switch(e){case"totalAmountPayable":var t=u()(B,"result.loan.regional.totalAmtPaid",0);return{label:M("FinancingOptions.totalAmountPayable"),value:Object(h.formatCurrency)(t)};default:return null}})).filter((function(e){return null!==e})),disclaimer:Object(c.d)(Object(g.l)(e,{financeType:_.rc.LOAN,priceData:B.result.loan}))})}return d})).filter(Boolean)};B.propTypes={configuration:o.a.arrayOf(o.a.string).isRequired,options:o.a.arrayOf(o.a.object).isRequired,customGroups:o.a.objectOf(o.a.oneOfType([o.a.object,o.a.array])).isRequired,beforeSavingsPrice:o.a.string.isRequired,useEPAunits:o.a.bool.isRequired,modelName:o.a.string.isRequired,modelCode:o.a.string.isRequired,trimName:o.a.string.isRequired,trimCode:o.a.string.isRequired,compositor:o.a.shape({views:o.a.shape()}).isRequired,hideDestinationDocFee:o.a.bool,showDestinationAndDocFee:o.a.bool,destinationAndDocFee:o.a.number,recyclingFee:o.a.number,tireFee:o.a.number,specialTax:o.a.number,showRegistrationTax:o.a.bool,registrationTax:o.a.number,firstRegistrationTax:o.a.number,governmentGrant:o.a.number,regionalTaxValues:o.a.shape(),governmentIncentivesTotal:o.a.number,governmentIncentivesPeriod:o.a.string.isRequired,showRegionalTaxTypes:o.a.arrayOf(o.a.string),deliveryFee:o.a.number,showDistinctTaxTotal:o.a.bool,OMVICFee:o.a.number,onRoadfeesTotal:o.a.number,extraIncentives:o.a.arrayOf(o.a.string),locale:o.a.string.isRequired,countryCode:o.a.string.isRequired,sibling:o.a.string.isRequired,regionalTax:o.a.number,showRegionalTax:o.a.bool,isDownloadPDFEnabled:o.a.bool,vatAmount:o.a.number,label:o.a.string,summaryRegionalFees:o.a.bool,vatAmountPrecision:o.a.number,showVAT:o.a.bool,useDynamicRounding:o.a.bool,hideTaxesAndFeesExcluded:o.a.bool.isRequired,disclaimerDateFormat:o.a.string.isRequired,registrationType:o.a.string.isRequired,disclaimerPrecedings:o.a.arrayOf(o.a.string).isRequired,financeProducts:o.a.arrayOf(o.a.object).isRequired,includeFeesinBatteryCalculationPayment:o.a.bool.isRequired,useOptionPriceOverridePayment:o.a.bool.isRequired,trimOptions:o.a.array.isRequired,regionCode:o.a.string,registrationDetail:o.a.string,showDriveAwayPrice:o.a.bool,depositAmount:o.a.string,vehiclePriceInclFees:o.a.number,gstSalePrice:o.a.number,governmentGrantLabel:o.a.string.isRequired,stateContribution:o.a.number,sellerDiscount:o.a.number,compositorOptions:o.a.string,assetView:o.a.string,CustomGroups:o.a.shape().isRequired,batteryGroupSpecs:o.a.shape().isRequired},B.contextTypes={i18n:o.a.func},B.defaultProps={hideDestinationDocFee:!1,showDestinationAndDocFee:!0,destinationAndDocFee:0,recyclingFee:null,tireFee:null,specialTax:null,showRegistrationTax:!1,registrationTax:null,firstRegistrationTax:null,governmentGrant:null,governmentIncentivesTotal:0,showRegionalTaxTypes:[],regionalTaxValues:{},deliveryFee:0,showDistinctTaxTotal:!1,OMVICFee:0,onRoadfeesTotal:null,extraIncentives:[],regionalTax:0,showRegionalTax:!1,isDownloadPDFEnabled:!1,vatAmount:0,label:"Download PDF",summaryRegionalFees:!1,vatAmountPrecision:0,showVAT:!1,useDynamicRounding:!1,regionCode:null,registrationDetail:null,showDriveAwayPrice:!1,depositAmount:0,vehiclePriceInclFees:0,gstSalePrice:0,stateContribution:0,sellerDiscount:0,compositorOptions:"",assetView:null},t.a=Object(s.connect)((function(e){var t=u()(e,"PrintPdf.useDynamicRounding",!1),n=u()(e,"CustomGroups.TRIM.currentSelected",[]).find((function(e){return e.selected}));return{options:[].concat(C(u()(e,"ReviewDetails.base_configuration_options",[])),C(u()(e,"ReviewDetails.configuration_options",[]))),configuration:u()(e,"Configuration.option_codes",[]),customGroups:u()(e,"CustomGroups",{}),beforeSavingsPrice:Object(g.S)(e,_.rc.CASH,{short:!0,formatCurrencyOpts:{useDynamicRounding:t}}),useEPAunits:u()(e,"FindMyTesla.EPAunits.display",!1),trimName:u()(e,"CustomGroups.TRIM.currentSelected[0].name",""),trimCode:u()(n,"code",""),modelName:Object(c.z)(e),modelCode:u()(e,"OMS.oms_params.model",""),compositor:u()(e,"Compositor",{}),hideDestinationDocFee:u()(e,"ReviewDetails.hideDestinationDocFee",!1),showDestinationAndDocFee:!!u()(e,"SummaryPanel.formattedPrices.destinationAndDocFee"),destinationAndDocFee:Object(g.k)(e),recyclingFee:u()(e,"SummaryPanel.formattedPrices.recyclingFee",!1),tireFee:u()(e,"SummaryPanel.formattedPrices.tireFee",!1),specialTax:u()(e,"Pricing.calculatorResult.data.variables.fees.special_tax.total",0),showRegistrationTax:u()(e,"FinancingOptions.showRegistrationTax",!0),registrationTax:u()(e,"Pricing.calculatorResult.data.variables.fees.registration.total",0),firstRegistrationTax:u()(e,"Pricing.calculatorResult.data.apiResults.fees.current.first_registration_tax.total",0),governmentGrant:u()(e,"Pricing.calculatorResult.data.variables.incentives.government_grant.total",0),governmentIncentivesTotal:u()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.government.total",0),governmentIncentivesPeriod:u()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.government.data[0].period",""),showRegionalTaxTypes:u()(e,"FinancingOptions.showRegionalTaxTypes",!1),regionalTaxValues:u()(e,"Financial.fees.current.regional[0]",{}),deliveryFee:u()(e,"Pricing.calculatorResult.data.variables.fees.delivery_fee.total",0),showDistinctTaxTotal:u()(e,"FinancingOptions.showDistinctTaxTotal",!1),OMVICFee:u()(e,"Pricing.calculatorResult.data.variables.fees.OMVIC_fee.total",0),onRoadfeesTotal:u()(e,"Pricing.calculatorResult.data.apiResults.fees.current.regional.total",null),regionalTax:u()(e,"Pricing.calculatorResult.data.variables.fees.regional.total",0),extraIncentives:u()(e,"ReviewDetails.extraIncentives",[]),sibling:u()(e,"App.sibling",""),locale:u()(e,"App.locale",""),countryCode:u()(e,"App.countryCode",""),showRegionalTax:u()(e,"FinancingOptions.showRegionalTax",!1),isDownloadPDFEnabled:u()(window.tesla,"download_pdf_feature_enabled",!1),vatAmount:Object(g.cb)(e),summaryRegionalFees:u()(e,"ReviewDetails.summaryRegionalFees",!1),disclaimerDateFormat:u()(e.Forms,"disclaimerDateFormat",null),vatAmountPrecision:u()(e,"PrintPdf.vatAmountPrecision",0),showVAT:u()(e,"ReviewDetails.showVAT",!1),hideTaxesAndFeesExcluded:u()(e,"FinancingOptions.hideTaxesAndFeesExcluded",!1),useDynamicRounding:t,registrationType:u()(e,"ReviewDetails.AccountDetail.AccountType",null),disclaimerPrecedings:u()(e,"PrintPdf.disclaimerPrecedings",[]),financeProducts:q(e),includeFeesinBatteryCalculationPayment:u()(e,"FinancingOptions.includeFeesinBatteryCalculationPayment",!1),useOptionPriceOverridePayment:u()(e,"FinancingOptions.useOptionPriceOverridePayment",!1),trimOptions:u()(e,"CustomGroups.TRIM.options",[]),regionCode:u()(e,"SummaryPanel.region_code",null),registrationDetail:u()(e,"ReviewDetails.RegistrationDetail",null),showDriveAwayPrice:u()(e,"ReviewDetails.showDriveAwayPrice",!1),depositAmount:Object(h.formatCurrency)(Object(g.j)(e)),vehiclePriceInclFees:u()(e,"Pricing.cash.vehiclePriceWithDeliveryFee",null),gstSalePrice:u()(e,"Pricing.calculatorResult.data.apiResults.fees.current.regional.data[0].variables.gst_on_sale",null),governmentGrantLabel:u()(e,"PrintPdf.governmentGrantLabel","governmentIncentivesTotal"),sellerDiscount:u()(e,"Financial.incentives.current.sellerDiscount[0].preVATAmount",0),stateContribution:u()(e,"Financial.incentives.current.stateContribution[0].amount",0),compositorOptions:Object(g.ib)(e)||Object(g.kb)(e)?u()(e,"ReviewDetails.product.data.OptionCodeList",""):"",assetView:u()(e,"ReviewDetails.assetView"),CustomGroups:e.CustomGroups,batteryGroupSpecs:u()(e,"CustomGroups.battery_group_specs.options",{})}}))(B)},898:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n(6),c=n.n(o),s=n(21),l=n.n(s),u=n(377),d=n(407),p=n(13),m=n(1),f=n.n(m),y=n(19),b=n.n(y),v=function(e){var t=e.group,n=e.gridContent,r=e.isLayoutMobile,i=t.code;return t&&n?a.a.createElement("div",{className:"tds-flex tds-flex-gutters"},n.map((function(e,t){return a.a.createElement("div",{key:"DynamicGrid.".concat(i,"_").concat(t),className:c()("tds-flex-item tds-flex--auto tds--no_vertical_padding ".concat(e.classes),{"tds-flex--col_1of2":n.length>3})},a.a.createElement("ol",{className:c()("tds-list",{"tds--vertical_padding":!r,"tds--padding_top-16":r})},a.a.createElement("li",{className:"tds-list-item"},a.a.createElement("span",{className:"tds-list-item_title tds-text_color--black tds-text--500"},e.title))),e.contents.map((function(e,t){return a.a.createElement("div",{key:"DynamicGrid.".concat(i,"_").concat(t),className:"tds-flex tds-flex-gutters feature-group--line-item"},a.a.createElement("table",{className:"tds-table tds-table--thead_border tds-table--padded_cells feature-table--section"},a.a.createElement("tbody",null,a.a.createElement("tr",{className:"line-item"},a.a.createElement("td",{className:"tds-flex-item line-item--label tds-text--caption tds-o-grid-label"},e.label),a.a.createElement("td",{className:"tds-flex-item line-item--value tds-text--caption tds-text_color--10 tds-o-grid-value"},e.value)))))})))}))):null};v.propTypes={group:Object(i.shape)({code:i.string}).isRequired,gridContent:Object(i.arrayOf)(Object(i.shape)({})),isLayoutMobile:i.bool},v.defaultProps={gridContent:[],isLayoutMobile:!1};var g=Object(p.connect)((function(e,t){var n=e.App,r=e.CustomGroups,a=void 0===r?{}:r,i=n.isLayoutMobile,o=t.content,c=a[t.group]||{},s=c.current,l=void 0===s?[]:s;return{gridContent:o.map((function(t){var n=t.title_path,r=void 0===n?"":n,a=t.content_path,i=void 0===a?{}:a,o=f()(e,r,"");return{contents:b()(i)?i.map((function(t){return{label:f()(e,t.label,""),value:f()(e,t.value,"")}})):l.map((function(e){return{label:f()(e,"".concat(i.label),""),value:f()(e,"".concat(i.value),"")}})),title:o,classes:f()(t,"classes","")}})),group:c,isLayoutMobile:i}}),null)(v);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={Copy:u.a,Title:d.default,DynamicGrid:g},w=function(e){var t=e.components,n=e.group,r=e.classes;return t&&t.length&&n?a.a.createElement("div",{className:c()(P({},r,r))},t.length?t.map((function(e){var t=e.type,r=e.props,i=void 0===r?{}:r;if(!l()(_,t))return null;var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({group:n},i),c=_[t];return a.a.createElement(c,h({key:"GroupComponent_".concat(t,"_").concat(n.code)},o))})):null):null};w.propTypes={group:Object(i.shape)({}).isRequired,components:Object(i.arrayOf)(Object(i.shape)({})).isRequired,classes:i.string},w.defaultProps={classes:""};t.a=w},9:function(e,t,n){"use strict";n.d(t,"ib",(function(){return d})),n.d(t,"lb",(function(){return p})),n.d(t,"kb",(function(){return m})),n.d(t,"R",(function(){return f})),n.d(t,"O",(function(){return y})),n.d(t,"P",(function(){return b})),n.d(t,"D",(function(){return v})),n.d(t,"N",(function(){return g})),n.d(t,"M",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"i",(function(){return P})),n.d(t,"nb",(function(){return _})),n.d(t,"rb",(function(){return w})),n.d(t,"B",(function(){return ne})),n.d(t,"E",(function(){return re})),n.d(t,"eb",(function(){return ae})),n.d(t,"qb",(function(){return ie})),n.d(t,"e",(function(){return oe})),n.d(t,"Q",(function(){return ce})),n.d(t,"Z",(function(){return se})),n.d(t,"ab",(function(){return le})),n.d(t,"C",(function(){return ue})),n.d(t,"q",(function(){return de})),n.d(t,"u",(function(){return pe})),n.d(t,"w",(function(){return me})),n.d(t,"s",(function(){return fe})),n.d(t,"db",(function(){return ye})),n.d(t,"Y",(function(){return be})),n.d(t,"X",(function(){return ve})),n.d(t,"t",(function(){return he})),n.d(t,"H",(function(){return Pe})),n.d(t,"J",(function(){return _e})),n.d(t,"z",(function(){return we})),n.d(t,"A",(function(){return Ee})),n.d(t,"c",(function(){return Se})),n.d(t,"k",(function(){return je})),n.d(t,"cb",(function(){return Ce})),n.d(t,"U",(function(){return Te})),n.d(t,"W",(function(){return Ae})),n.d(t,"S",(function(){return De})),n.d(t,"T",(function(){return Re})),n.d(t,"m",(function(){return Le})),n.d(t,"f",(function(){return Ne})),n.d(t,"mb",(function(){return xe})),n.d(t,"o",(function(){return Ie})),n.d(t,"n",(function(){return Fe})),n.d(t,"I",(function(){return ke})),n.d(t,"F",(function(){return Me})),n.d(t,"K",(function(){return Ve})),n.d(t,"y",(function(){return Be})),n.d(t,"d",(function(){return qe})),n.d(t,"v",(function(){return Ue})),n.d(t,"r",(function(){return We})),n.d(t,"b",(function(){return Ye})),n.d(t,"j",(function(){return ze})),n.d(t,"V",(function(){return He})),n.d(t,"fb",(function(){return Ke})),n.d(t,"ob",(function(){return Xe})),n.d(t,"pb",(function(){return $e})),n.d(t,"gb",(function(){return Ze})),n.d(t,"L",(function(){return Qe})),n.d(t,"x",(function(){return Je})),n.d(t,"jb",(function(){return et})),n.d(t,"G",(function(){return tt})),n.d(t,"l",(function(){return rt})),n.d(t,"a",(function(){return at})),n.d(t,"bb",(function(){return it})),n.d(t,"hb",(function(){return ot})),n.d(t,"p",(function(){return ct})),n.d(t,"h",(function(){return st}));var r=n(1),a=n.n(r),i=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return a()(e,"ReviewDetails.product.isInventory")||!1}function p(){var e=a()(window.tesla,"rn");return e&&e.length}function m(e){return a()(e,"ReviewDetails.product.isReservation",!1)}function f(e){var t="App.env.findMyTesla.drupalEndPoint";return d(e)?a()(e,"".concat(t,".inventoryOrder")):p()?a()(e,"".concat(t,".configSaveWithPayment")):m(e)?a()(e,"".concat(t,".reservationOrder")):a()(e,"".concat(t,".publicOrder"))}function y(e){return a()(e,"OMS.oms_params.model")}function b(e){return i.ud[y(e)]}function v(e){return i.td[y(e)]}function g(e){return a()(e,"OMS.oms_params.market")}function h(e){return a()(e,"App.locale","en_US")}function O(e){if(d(e))return[];var t=a()(e,"ReviewDetails",{}).base_group;return a()(e,"CustomGroups.".concat(t,".currentSelected"),[])}function P(e){var t=a()(e,"ReviewDetails",{}),n=t.group,r=t.product,i=void 0===r?{}:r,o=t.showModelYear,s=t.extra_group,u=void 0===s?"":s;if(d(e)){var p=i.data,m=void 0===p?{}:p,f=m.OptionCodeSpecs,y=void 0===f?{}:f,b=m.TrimCode,v=m.TrimName,g=m.Year,h=[].concat(l(a()(y,"C_DESIGN.options",[])),l(a()(y,"C_OPTS.options",[]))),O=[],P=o&&g?"".concat(g," ").concat(v):v;return O.push({code:b,long_name:P}),h.reduce((function(e,t){var n=t.name;return t.code===b&&(n=g?"".concat(g," ").concat(n):n),e.push(c(c({},t),{},{long_name:n})),e}),O)}var _=a()(e,"OMS.lexicon.groups_dictionary.".concat(u,".groups"),[]),w=a()(e,"OMS.lexicon.groups_dictionary.".concat(n,".groups"),[]);return(_.length?[].concat(w,_):w).reduce((function(t,n){return[].concat(t,a()(e,"CustomGroups.".concat(n,".currentSelected"),[]).filter((function(e){return a()(e,"selected",!0)})))}),[])}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.je,n=a()(e,"Payment.formOpen"),r=a()(e,"Payment.PaymentDetail.BillingInfoDetail.IsFromSavedProfile",!1),o=a()(e,"Payment.collectAllBillingInfo",!1);switch(t){case i.je:return o&&(!r||n);case i.pe:default:return o}},w=function(e){return a()(e,"FinancingOptions.useModelYContent",!1)||!!a()(e,"ReviewDetails.isPreSale.source",!1)},E=n(139),S=n.n(E),j=n(19),C=n.n(j),T=n(138),A=n.n(T),D=n(111),R=n.n(D),L=n(26),N=n.n(L),x=n(68),I=n.n(x),F=n(45),k=n.n(F),M=n(16),V=n.n(M),B=n(17),q=n.n(B),G=n(4),U=n(54),W=n(5),Y=n(24),z=n(908),H=n.n(z),K=n(69);function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t=a()(e,"Financial.tcc.current.fuel[0]",null);return t?Math.abs(a()(t,"savingsAmount",0)):Math.abs(a()(e.Pricing,"calculatorResult.data.variables.fuelSavings.total"))}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeFuel:!1,includeSavings:!1},n=t.includeFuel,r=void 0!==n&&n,i=t.includeAllCurrentIncentives,o=t.absoluteValue,c=t.includeSavings,s=void 0!==c&&c,l=t.incentivesInPurchasePrice,u=void 0!==l&&l,d=t.doFormatCurrency,p=void 0===d||d,m=["monthly","included","includedInPurchasePrice","fuel"],f=i?a()(e,"Financial.incentives.current",{}):a()(e,"Financial.incentives.total",{}),y=a()(e,"FinancingOptions.addFuelFees",!1),b=0,v=0;if(S()(f,(function(e,t){if(y?i:i&&"fuel"!==t){var n=a()(e,"[0].period");-1===["includedInPurchasePrice","included"].indexOf(n)&&e.map((function(e){b+=a()(e,"amount",0)}))}else m.includes(t)||(b+=e)})),r&&(v=ne(e)),s){var g=a()(e,"Financial.tcc.savingsTotal.once",0);b+=-1*(g-v)}o&&(b=Math.abs(b-v)),u&&(b+=Math.abs(a()(e,"Financial.incentives.total.includedInPurchasePrice",0)));var h=b?Object(W.formatCurrency)(b):null;return p?h:b}function ae(e){var t=a()(e,"FinancingOptions.persistentIncentives");return C()(t)&&t.length}function ie(e){return"s"===e.slice(-1)?e.slice(0,-1):e}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"incentives",r=ie(n),i=a()(t,"".concat(r,"Type")),o=a()(e,"SummaryPanel.".concat(i),"other"),c=a()(e,"Financial.".concat(n,".current"),{}),s=I()(ee({},t),"componentType"),l=Object.keys(c).reduce((function(e,t){return c[t].forEach((function(t){t.options&&C()(t.options)?t.options.forEach((function(n){var a;e.push(ee(ee({},n),{},(te(a={selected:n.id===o},"".concat(r,"Type"),t["".concat(r,"Type")]),te(a,"amount",t.amount),te(a,"period",t.period),a)))})):e.push(t)})),e}),[]);return H.a.filter(l,ee({},s))}function ce(e){var t=a()(e.Financial,"fees.fees",{});return a()(e.FinancingOptions,"otherFees",[]).map((function(e){return t[e.feeType]?ee(ee({amount:a()(t[e.feeType],"[0].amount",0)},e),{},{label:Object(G.L)(e.label)}):null}))}function se(e){var t=Object(U.getStates)(e);return t?t.map((function(e){return{label:e.code,value:e.code}})):[]}function le(e){var t=Object(U.getStates)(e);return t?t.map((function(e){return{label:e.label,value:e.code}})):[]}function ue(e){var t=a()(e,"Financial.fms_tcc.tcc[0].variables.months",a()(e,"Financial.fms_incentives.incentives[0].variables.months",-1));return a()(e,"Financial.tcc.current.fuel[0].variables.months",a()(e,"Financial.incentives.current.fuel[0].variables.months",t))/12}function de(e){return a()(e,"SummaryPanel.selected_tab")}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||de(e)||[];return 0===n.indexOf("".concat(i.rc.LEASE,"."))?n.substr(i.rc.LEASE.length+1):0===n.indexOf("".concat(i.rc.LOAN,"."))?n.substr(i.rc.LOAN.length+1):n===i.rc.LEASE||n===i.rc.LOAN?n:null}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||de(e);return n?0===n.indexOf(i.rc.LEASE)?i.rc.LEASE:0===n.indexOf(i.rc.LOAN)?i.rc.LOAN:i.rc.CASH:i.rc.CASH}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=pe(e,t),r=me(e),i=a()(e,"Financial.fms_".concat(r,".").concat(r),[]),o=n&&i.find((function(e){return e.id===n}));return o||i[0]||{}}function ye(e){var t,n=me(e),r=(te(t={},i.rc.LEASE,a()(e,"Forms.showLeaseFields",[])),te(t,i.rc.LOAN,a()(e,"Forms.showLoanFields",[])),t);switch(n){case i.rc.LEASE:return r[n].indexOf("distance")>=0;case i.rc.LOAN:return r[n].indexOf("loanDistance")>=0;default:return!1}}function be(e){var t=fe(e),n=a()(t,"uiSettings.reviewDetails.showLeaseSummaryFields");return n||a()(e,"ReviewDetails.showLeaseSummaryFields",[])}function ve(e){var t=a()(e,"ReviewDetails.showLeaseSummaryDisclaimer",!1);if(Array.isArray(t)){var n=me(e),r=pe(e);return t.includes(n)||t.includes("".concat(n,".").concat(r))}return t}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=fe(e,n);return a()(r,"variables.".concat(t))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=fe(e,t),r=me(e);if(r===i.rc.LEASE){var o=a()(n,"leaseTermsOffered.leaseTermMileages");if(o&&Object.keys(o).length>0){var c=ke(e,t);return o[c]||[]}return a()(n,"leaseTermsOffered.leaseDistance",[])}return r===i.rc.LOAN?a()(n,"loanTermsOffered.loanDistance",[]):[]}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=fe(e,t),r=me(e);return r===i.rc.LEASE?a()(n,"leaseTermsOffered.leaseTerm",[]):r===i.rc.LOAN?a()(n,"loanTermsOffered.leaseTerm",[]):[]}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a()(e,"SummaryPanel.leaseDistance"),r=he(e,t),i=ge(e,"leaseDistance",t);return null!=n&&r.includes(n)?n:null!=i&&r.includes(i)?i:r[0]}function _e(e){var t=a()(e,"SummaryPanel.loanDistance"),n=he(e);return null!=t&&n.includes(t)?t:ge(e,"loanDistance")}function we(e){var t=me(e),n=ue(e),r=a()(e,"Financial.fms_incentives.incentives[0].variables.distance",0)/n,o=a()(e,"Financial.incentives.current.fuel[0].variables.distance",0)/n,c=a()(e,"SummaryPanel.fuelDistPer",null),s=a()(e,"Financial.fms_tcc.tcc",[]).find((function(e){return"fuel"===e.tccType})),l=a()(s,"variables.mileage",null);return t===i.rc.LEASE&&ye(e)?Pe(e):t===i.rc.LOAN&&ye(e)?_e(e):c||l||o||r}function Ee(e){var t=a()(e,"Financial.fms_incentives.incentives[0].variables.fuel_price",0),n=a()(e,"SummaryPanel.fuelPrice",null),r=a()(e,"Financial.fms_tcc.tcc",[]).find((function(e){return"fuel"===e.tccType})),i=a()(r,"variables.petrolCost",null);return n||i||t}function Se(e){return me(e)===i.rc.LEASE}function je(e){return a()(e,"Financial.fees.current.reg_and_doc_fee[0].amount",0)}function Ce(e){return a()(e,"Pricing.calculatorResult.data.variables.fees.vat_percent.total",0)}function Te(e){var t=a()(e,"ReviewDetails.VehicleDetail",{}),n=a()(e,"ReviewDetails.product.data",{}),r=t?t.series:null;return r&&n?r===i.pc?n.amount_founder:n.amount_general||null:null}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.financeType,r=t.financeProductId,i=a()(e,"FinancingOptions.showMonthlyPaymentExVAT",!1);if(Array.isArray(i)){var o=n||me(e),c=r||pe(e);return i.includes(o)||i.includes("".concat(o,".").concat(c))}return i}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cash",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{short:!1,afterSavings:!1,showAmountIncludingFees:null,subtractVAT:!1,savingsAmount:!1,showSavingAmtWithoutMinus:!1,formatCurrencyOpts:{useDynamicRounding:!1}},r=R()(n.showAmountIncludingFees)?a()(e,"FinancingOptions.showAmountIncludingFees",!1):n.showAmountIncludingFees,i=Ae(e),o="loan"===t?"finance":t,c=a()(e,"Pricing.".concat(o),e.Pricing)||{},s=a()(e,"Pricing.total"),l=n.short?"m_short":"m",u=a()(e.FinancingOptions,"showBeforeSavingsPostfix",!1),d=a()(e,"Pricing.calculatorResult.data.apiResults.incentives.total.includedInPurchasePrice",null),p=n.formatCurrencyOpts,m=void 0===p?{}:p,f=a()(e,"ReviewDetails.product.isReservation",!1),y=f?Te(e):null,b=y?y.total:c.grossPrice,v=c.netPrice;if(!r&&!f){b=s,v=c.priceExcludingSaving;var g=a()(e,"ReviewDetails.includePurchasePriceIncentivesInTrims",!0),h=a()(e,"ReviewDetails.includePurchasePriceIncentivesPreVAT",!1),O=a()(e,"ReviewDetails.includeDocFeeInSummary",!1);if(g&&"number"==typeof d)b+=d,v+=d;else if(h){var P=Object.values(a()(e,"Pricing.calculatorResult.data.apiResults.incentives.current",{})).filter((function(e){var t=$(e.data,1)[0].preVAT;return!0===(void 0!==t&&t)})),_=P?P.reduce((function(e,t){return e+t.total}),0):0;b+=_,v+=_}O&&(b+=je(e),v+=je(e))}if(r&&n.subtractVAT){var w=Ce(e);b-=w,v-=w}var E=a()(e,"SummaryPanel.totalsRounding.cash",0);void 0===m.precision&&(m.precision=E);var S=a()(e,"ReviewDetails.showWithoutAdjustments",!1);if(S&&"cash"===t&&!1===n.showAmountIncludingFees){var j=a()(e,"ReviewDetails.product.data.Discount",0);b+=j,v+=j}var C={lease:"".concat(Object(Y.formatMonthlyPrice)(i?c.monthlyPaymentWithoutVat:c.monthlyPayment,l)).concat(u?Object(G.L)("FinancingOptions.lease__beforeSavingsPostfix"):""),loan:"".concat(Object(Y.formatMonthlyPrice)(c.monthlyPayment,l)).concat(u?Object(G.L)("FinancingOptions.loan__beforeSavingsPostfix"):""),cash:Object(W.formatCurrency)(b,m)},T={lease:Object(Y.formatMonthlyPrice)(i?c.netMonthlyPaymentWithoutVat:c.netMonthlyPayment,l),loan:Object(Y.formatMonthlyPrice)(c.netMonthlyPayment,l),cash:Object(W.formatCurrency)(v,m)};if(n.savingsAmount){var A=a()(e,"Financial.tcc.savingsTotal",null);if(A)switch(t){case"lease":case"loan":if(A.monthly)return Object(Y.formatMonthlyPrice)(A.monthly,l);break;default:if(A.once)return Object(W.formatCurrency)(A.once,m)}var D=c.netMonthlyPayment-c.monthlyPayment,L=n.showSavingAmtWithoutMinus?Math.abs(D):Math.min(0,D),N={lease:i?c.netMonthlyPaymentWithoutVat-c.monthlyPaymentWithoutVat:L,loan:L,cash:n.showSavingAmtWithoutMinus?Math.abs(c.totalSavingsAmount):Math.min(0,c.totalSavingsAmount)};return N.lease=Object(Y.formatMonthlyPrice)(N.lease,l),N.loan=Object(Y.formatMonthlyPrice)(N.loan,l),N.cash=Object(W.formatCurrency)(N.cash,m),N[t]}return n.afterSavings?T[t]:C[t]}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cash",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{short:!1,showAmountIncludingFees:null,showTotalPriceAfterSavings:!1},r=ee(ee({},n),{},{afterSavings:!0});return n.showTotalPriceAfterSavings?De(e,"cash",r):De(e,t,r)}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.context,r=void 0===n?"form":n,o=t.grossPrice,c=void 0===o?null:o,s=t.excludeVAT,l=void 0!==s&&s,u=t.VATAmount,p=void 0===u?null:u,m=t.preservePercentage,f=void 0!==m&&m,y=t.financeType,b=void 0===y?null:y,v=t.financeTabId,g=void 0===v?null:v,h=b||me(e),O=0,P=A()(c)?c:a()(e.Pricing,"grossPrice",0);if("form"===r){var _=fe(e,g),w=1/0;h===i.rc.LOAN&&(w=a()(e,"Pricing.finance.downPayment.normalizedMaximumDownPayment",w)),h===i.rc.LEASE&&(w=a()(e,"Pricing.lease.maximumDownPayment",w));var E=a()(e,"SummaryPanel.downPayment",null);O=null!=E?E:a()(_,"variables.downPayment",0),w&&O>1&&O>w&&(O=Math.floor(w))}else h===i.rc.LOAN?O=a()(e,"Pricing.finance.downPayment.downPaymentAmount"):h===i.rc.LEASE&&(O=a()(e,"Pricing.lease.downPayment"));if(O>0&&O<1&&!f){if(!d(e)&&P<a()(e,"Forms.leaseData.params.maxVehiclePriceForEcoBonus",0)&&(P+=a()(e,"Forms.leaseData.params.excludeEcoBonus",0)),l){var S=A()(p)?p:Ce(e);return O*(P-S)}return O*P}return O}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.context,r=void 0===n?"":n,o=me(e),c=a()(e,"Forms.useResidualAmount");if(o===i.rc.LOAN){if(c)return a()(e,"Pricing.finance.residualAmount");if("form"===r)return a()(e,"Pricing.finance.balloonPayment");var s=fe(e),l=a()(e,"SummaryPanel.balloonPayment");return null!=l?l:a()(s,"variables.balloonPayment",null)}return null}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.financeType,r=void 0===n?null:n,i=a()(e,"FinancingOptions.excludeDefaultDownpaymentVAT",!1);if(Array.isArray(i)){var o=r||me(e);return i.includes(o)}return i}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.financeType,r=void 0===n?null:n,o=r||me(e);if(o===i.rc.LOAN)return a()(e.Pricing,"finance.downPayment.downPaymentPercent",0);var c=xe(e,{financeType:r}),s=a()(e.Pricing,"grossPrice",0),l=Le(e,{grossPriceWithVat:s,excludeVAT:c}),u=c?"lease.grossPriceWithoutVat":"grossPrice",d=a()(e.Pricing,u,0);return d>0?l/d*100:0}function Fe(e,t){return e>0?e*t:0}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a()(e,"SummaryPanel.leaseTerm",null),r=Oe(e,t);return null!=n&&r.includes(n)?n:ge(e,"leaseTerm",t)}function Me(e){var t=me(e);if("loan"===t)t="finance";else if("lease"===t){var n=fe(e),r=a()(n,"interestRateMatrix",[]),i=a()(e,"Pricing.lease.leaseTerm")||ke(e);return a()(N()(r,(function(e){return e.leaseTerm&&e.leaseTerm===i})),"value",a()(e,"Pricing.lease.interestRate"))}return a()(e,"Pricing.".concat(t,".interestRate"))}function Ve(e){var t=a()(e,"SummaryPanel.loanTerm",null);return Array.isArray(t)?a()(e,t[0]):t||ge(e,"loanTerm")}function Be(e){var t=me(e);return"cash"===t?{}:function(e,t){var n=t.Pricing,r=t.SummaryPanel,o=fe(t),c=a()(r,"loanType",null),s=a()(n,"calculatorParameters.loanTerm",null),l=a()(o,"".concat(e,"TermsOffered"),{}),u=he(t),d=e===i.rc.LOAN?a()(n,"finance.downPayment.downPaymentAmount"):a()(n,"lease.downPayment"),p=ee(ee({},a()(o,"variables",{})),{},{downPayment:d}),m=a()(o,"uiSettings.forms",{});switch(e){case"lease":return ee(te({},"".concat(e,"Data"),{params:ee({},p),leaseTerms:a()(l,"leaseTerm",[]).reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.termOptionLabel",{TERM:t}),value:t}),e}),[]),annualLeaseDistances:u.reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.lease__distanceOptionLabel",{DISTANCE:Object(W.formatNumber)(t)}),value:t}),e}),[]),downPaymentMatrix:a()(p,"downPaymentPercentMatrix",[]).reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.downPaymentPercentage",{DPP:Object(W.formatNumber)(100*t)}),value:t}),e}),[])}),m);case"loan":return ee(te({},"".concat(e,"Data"),{params:ee(ee({},p),{},{interestRateMatrix:a()(l,"interestRateMatrix",[])}),loanTerms:(a()(l,"loanTermMatrix")?Object(G.g)(a()(l,"loanTermMatrix"),{type:c}):a()(l,"loanTerm",[])).reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.termOptionLabel",{TERM:t}),value:t}),e}),[]),balloonPayments:(a()(l,"balloonPaymentMatrix")?Object(G.g)(a()(l,"balloonPaymentMatrix"),{type:c,term:s}):a()(l,"balloonPayment",[])).reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.balloonPaymentLabel",{BALLOON_PAYMENT:Object(W.formatNumber)(t<1?100*t:t)}),value:t}),e}),[]),loanAprs:a()(l,"interestRate",[]).reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.apr",{APR:t}),value:t}),e}),[]),loanDistances:u.reduce((function(e,t){return e.push({label:-1!==Object(G.L)("FinancingOptions.mileageLabel").indexOf("{MILEAGE}")?Object(G.L)("FinancingOptions.mileageLabel",{MILEAGE:Object(W.formatNumber)(t)}):Object(W.formatNumber)(t),value:t}),e}),[]),downPaymentMatrix:a()(p,"downPaymentPercentMatrix",[]).reduce((function(e,t){return e.push({label:Object(G.L)("FinancingOptions.downPaymentPercentage",{DPP:Object(W.formatNumber)(100*t)}),value:t}),e}),[])}),m);default:return{}}}(t,e)}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=me(e),r=Object.values(i.rc).reduce((function(r,o){if([i.rc.LEASE,i.rc.LOAN].includes(o)){if(t&&n!==o)return r;a()(e,"Financial.fms_".concat(o,".").concat(o),[]).length&&r.push(o)}return r}),t?[]:["cash"]);return t&&("cash"===n?r.push("cash"):r.unshift("cash")),r}function Ge(e){var t=a()(e,"SummaryPanel.tabs",[]),n=[i.rc.LEASE,i.rc.LOAN].reduce((function(t,n){var r=a()(e,"Financial.fms_".concat(n,".").concat(n),[]).reduce((function(e,t){var r=n;return t.id&&(r+=".".concat(t.id)),t.incomplete||e.push(r),e}),[]);return[].concat(X(t),X(r))}),[]),r=[i.rc.CASH].concat(X(n));return t.length?k()(r,t):r}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allCaps,r=void 0!==n&&n,o=t.exCash,c=void 0!==o&&o,s=Ge(e),l=a()(e,"Configuration.model_code",""),u=de(e);return c&&(s=s.filter((function(e){return e!==i.rc.CASH}))),s.map((function(e){var t=pe({},e),n=me({},e),a=Object(G.L)(n,null,"common.ui",{specificOverride:[t,l].filter((function(e){return e}))});return{id:e,financeProductId:t,financeType:n,label:r?a.toUpperCase():a,selected:e===u}}))}function We(e,t,n){var r=n.id,i=a()(e,"FinancingOptions.showFinanceProductsByDriverType",[]),o=a()(e,"FinancingOptions.driverType",null),c=[];return i.length>0&&(c=i.map((function(e){var n=e.type,a=e.financeOptions,i=e.defaultOption,c=[];return t.map((function(e){var t=e.financeProductId||e.id;if(a.includes(t)){var n=t===i?e.id:null;return c.push(ee(ee({},e),{},{defaultFinanceProduct:n}))}})),{type:n,id:"".concat(r,"_driverType_").concat(n),label:Object(G.L)("FinancingOptions.driver_type_".concat(n)),selected:o===n,financeOpts:c}}))),c}function Ye(e,t){var n=t.financeProduct,r=t.type;if(!q()(e)){var i=e.find((function(e){return e.type===r})),o=a()(i,"financeOpts",[]).find((function(e){return e.id===n})),c=a()(i,"financeOpts",[]).find((function(e){return null!==e.defaultFinanceProduct}));return{matchID:a()(o,"id",null),defaultFinance:a()(c,"defaultFinanceProduct",null)}}return null}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a()(e,"ReviewDetails.product.isReservation",!1),r=n?Te(e):null,o=a()(e,"CustomGroups.TRIM.currentSelected[0].code",""),c=null;if(r){var s=Number(a()(r,"initial",0));return t?{orderPayment:s,paymentSourceSubType:c}:s}if(!n&&a()(e,"Payment.depositAmount")){var l=Number(a()(e,"Payment.depositAmount"));return t?{orderPayment:l,paymentSourceSubType:c}:l}var u=a()(e,"OMS.lexicon.options.".concat(b(e),".pricing"),[]),d=a()(e,"ReviewDetails.product.isUsedInventory")?i.Kd:i.Id,p=Object(G.A)(u,i.He),m=Object(G.A)(u,"".concat(i.Ie,"_").concat(o)),f=Object(G.A)(u,d);f=f||Object(G.A)(u,i.Id);var y=Object(G.A)(u,i.Ie);return f&&f>0?(c=i.Jd,y=f):p&&p>0&&(c=i.Pd,y=p),m&&(c="",y=m),t?{orderPayment:y,paymentSourceSubType:c}:y}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{short:!1},n=a()(e,"FinancingOptions.showSavingAmtWithoutMinus",!1);return De(e,me(e),ee(ee({},t),{},{savingsAmount:!0,showSavingAmtWithoutMinus:n}))}function Ke(e){var t=me(e),n=a()(e,"FinancingOptions.hideAfterSavingsPrice",!1);return Array.isArray(n)?n.indexOf(t)>=0:n}function Xe(e){var t=me(e),n=a()(e,"FinancingOptions.showSavingsAmount",[]);return Array.isArray(n)?n.indexOf(t)>=0:n}function $e(e){var t=me(e),n=a()(e,"FinancingOptions.showSavingsAmountInFooter",[]);return Array.isArray(n)?n.indexOf(t)>=0:n||Xe(e)}function Ze(e){var t=a()(e,"SummaryPanel.forceFinanceModal",!1),n=qe(e),r=a()(e,"ReviewDetails.product.isReservation",!1);return r||!t&&(r||1===n.length&&"cash"===n[0])}function Qe(e){var t=a()(e,"SummaryPanel.loanType","");return[i.We,i.Ue].map((function(e){return{type:e,id:"loan_type_".concat(e),label:Object(G.L)("FinancingOptions.finance_".concat(e)),selected:e===t}}))}function Je(e){var t=a()(e,"Financial.incentives.current",{}),n=a()(e,"Financial.incentives.total.incentiveAfterDelivery",0),r=a()(e,"Pricing.cash.driveAwayPricewithIncentives",0),i=He(e,{short:!0}),o=a()(e,"Pricing.cash.netPrice",0),c=a()(e,"Financial.incentives.total.fuel",0)+n,s=ue(e),l={};return t&&(l={taxCredit:a()(t,"taxCredit[0].amount",0),regionalIncentive:a()(t,"regional[0].amount",0),regionName:a()(t,"regional[0].longName",""),fuelIncentive:a()(t,"fuel[0].amount",0)}),ee(ee({incentives:t},l),{},{incentivesAfterDelivery:n,driveAwayPricewithIncentives:r,savingsAmount:i,potentialSavingsPrice:o,futureSavings:c,fuelYears:s})}function et(e){var t=a()(e,"OMS.lexicon.options.".concat(b(e),".pricing"),[]);return Object(G.A)(t,i.He)?a()(e,"OMS.lexicon.options.".concat(b(e),".orderProcessing_fee"),""):""}function tt(e){var t=a()(e,"ReviewDetails.product.data",{});return parseFloat(a()(t,"PurchasePrice",0))}function nt(){var e=new Date,t=e.getFullYear();e.setHours(0,0,0,0);var n=[new Date(t,2,31),new Date(t,5,30),new Date(t,8,30),new Date(t,11,31)];return e<=n[0]?n[0]:e<=n[1]?n[1]:e<=n[2]?n[2]:n[3]}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.financeType,r=void 0===n?null:n,o=t.priceData,c=void 0===o?null:o,s=t.financeTabId,l=void 0===s?null:s,u=r||me(e),d=pe(e,l),p=a()(e,"Configuration.model_code",""),m=new Date,f=new Date(m.getFullYear(),m.getMonth()+1,0),y=nt(),b=new Date(m).setDate(m.getDate()+10),v=a()(e.Forms,"disclaimerDateFormat",null),g=a()(e.CustomGroups,"TRIM.currentSelected[0].name",""),h={ms:"Model S",mx:"Model X",m3:"Model 3"}[p],O=a()(e.CustomGroups,"TRIM.currentSelected[0].long_name",""),P=a()(e.CustomGroups,"BATTERY_AND_DRIVE.performance_specs.combined_consumption",""),_=Math.abs(a()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.government.total",0)),w=Math.abs(a()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.stateContribution.total",0)),E=a()(e,"App.sibling"),S=a()(e,"App.locale"),j=a()(e,"Pricing.grossPrice",0),C=a()(e,"ReviewDetails.AccountDetail.AccountType","");switch(u){case i.rc.LEASE:var T=c||a()(e,"Pricing.lease",{}),A=a()(T,"grossPriceWithoutVat",0),D=j+_+w,R=a()(e.Forms,"leasePrecision"),L=a()(T,"leaseTerm",0),N=a()(T,"residualAmount",0),x=a()(T,"leaseDistance",0),I=a()(T,"totalDownPayment",0),F="".concat(C).toLowerCase(),k=a()(T,"downPayment",0),M=xe(e,{financeType:i.rc.LEASE}),V=k/(M?A:j),B={startFee:a()(e.Financial,"fees.fees.start_fee[0].amount",0),acquisitionFee:a()(e.Financial,"fees.fees.acquisition_fee[0].amount",0),purchaseFee:a()(T,"LeaseAPI.variables.localeSpecific.purchaseFee",0),documentationFee:a()(T,"LeaseAPI.variables.localeSpecific.documentationFee",0),initialCommission:a()(T,"LeaseAPI.variables.localeSpecific.initialCommission",0),monthlyCommission:a()(T,"LeaseAPI.variables.localeSpecific.monthlyCommission",0)},q={};R&&(q.precision=R);var U=Object(W.formatCurrency)(_,null,q),Y="";_>0&&(Y=Object(G.L)("FinancingOptions.includesEcobonus",{ECO_BONUS:U})),w>0&&(Y=Object(G.L)("FinancingOptions.includesEcobonus",{ECO_BONUS:Object(W.formatCurrency)(_+w,null,q)}));var z={CASH_PRICE:Object(W.formatCurrency)(j,null,q),CASH_PRICE_WITHOUT_VAT:Object(W.formatCurrency)(A,null,q),TERM:L,TERM_MINUS_ONE:L-1,RESIDUAL_VALUE:Object(W.formatCurrency)(N,null,q),RESIDUAL_VALUE_WITHOUT_VAT:Object(W.formatCurrency)(a()(T,"residualAmountWithoutVat",0),null,q),RESIDUAL_PERCENTAGE:Object(W.formatNumber)(100*a()(T,"residualPercentage",0)),PAYMENT:Object(W.formatCurrency)(a()(T,"monthlyPayment"),null,q),PAYMENT_WITHOUT_VAT:Object(W.formatCurrency)(a()(T,"monthlyPaymentWithoutVat"),null,q),MILEAGE:Object(W.formatNumber)(x),MILEAGE_TOTAL:Object(W.formatNumber)(x*(L/12)),DOWNPAYMENT:Object(W.formatCurrency)(k,null,q),TOTALDOWNPAYMENT:Object(W.formatCurrency)(I,null,q),DOWNPAYMENT_WITHOUT_VAT:Object(W.formatCurrency)(a()(T,"downPaymentWithoutVat",0),null,q),DOWNPAYMENT_PERCENTAGE:Object(W.formatNumber)(100*V),RATE:Object(W.formatNumber)(a()(T,"interestRate",0),2),EFFECTIVE_RATE:Object(W.formatNumber)(a()(T,"effectiveRate",0),2),COST_CREDIT:Object(W.formatCurrency)(a()(T,"totalLeaseAmount"),null,q),TOTAL_COST_CREDIT:Object(W.formatCurrency)(a()(T,"interestTotalCost"),null,q),DATE:Object(K.formatDate)(v),LAST_DAY_OF_MONTH:Object(K.formatDate)(f,v),LAST_DAY_OF_QUARTER:Object(K.formatDate)(y,v),CURRENT_DATE_PLUS_10_DAYS:Object(K.formatDate)(b,v),FINANCED_AMOUNT:Object(W.formatCurrency)(a()(T,"financedAmount",0),null,q),FINANCED_AMOUNT_WITHOUT_VAT:Object(W.formatCurrency)(a()(T,"financedAmountWithoutVat",0),null,q),MODEL:h,TRIM:g,SELECTED_TRIM_LONG_NAME:O,INSURANCE_MONTHLY:Object(W.formatCurrency)(a()(T,"insuranceMonthly",0),null,q),INSURANCE_TOTAL:Object(W.formatCurrency)(a()(T,"insuranceTotal",0),null,q),ECO_BONUS:U,DOWNPAYMENT_MINUS_BONUS:Object(W.formatCurrency)(k-_,null,q),CASH_PRICE_PLUS_BONUS:Object(W.formatCurrency)(D,null,q),INCLUDING_ECOBONUS:Y,FEES_START_FEE:Object(W.formatCurrency)(B.startFee,null,q),FEES_ACQUISITION_FEE:Object(W.formatCurrency)(B.acquisitionFee,null,q),COMMISION_VALUE:Object(W.formatCurrency)(a()(T,"commisionVal",0),null,q),DISCLAIMER_TYPE:Object(G.L)("FinancingOptions.lease__disclaimerType.".concat(F)),TOTAL_AMOUNT_PAYABLE:Object(W.formatCurrency)(a()(T,"totalPayable",0),null,q),INTEREST_CHARGES:Object(W.formatCurrency)(a()(T,"costOfCredit",0),null,q),DOCUMENTATION_FEE:Object(W.formatCurrency)(B.documentationFee,null,{precision:2}),EXTRA_DISCLAIMER:Object(G.L)("SummaryPanel.disclaimers.applyForFinancing",{FAQ_DELIVERY_QUESTIONS:Object(G.e)("support/frequently-asked-delivery-questions?redirect=no#info-financial",E,S)},null,{returnNullWhenEmpty:!0}),PURCHASE_FEE:Object(W.formatCurrency)(B.purchaseFee,null,{precision:0}),COMBINED_CONSUMPTION:Object(W.formatNumber)(P,1),VEHICLE_PRICE:Object(W.formatCurrency)(a()(T,"vehiclePrice"),null,q),VEHICLE_PRICE_WITHOUT_VAT:Object(W.formatCurrency)(a()(T,"vehiclePriceWithoutVat"),null,q),INITIAL_COMMISSION:Object(W.formatCurrency)(B.initialCommission,null,q),MONTHLY_COMMISSION:Object(W.formatCurrency)(B.monthlyCommission,null,{precision:2})};return Object(G.L)("FinancingOptions.lease__disclaimer",z,null,{specificOverride:d?[d,p]:p,specificOverrideOperator:"OR"});case i.rc.LOAN:var H=c||a()(e,"Pricing.finance",{}),X=a()(e,"SummaryPanel.loanType",""),$=X?"FinancingOptions.loan__disclaimer__".concat(X):"FinancingOptions.loan__disclaimer",Z=a()(H,"LoanAPI.variables.loanTerm",0),Q=a()(H,"LoanAPI.variables.finalTerm",0),J=a()(H,"downPayment.downPaymentAmount",0),ee=a()(H,"downPayment.downPaymentPercent",0),te={DNBLoanFee:a()(H,"DNBLoanFee",0),DNBAdminFee:a()(H,"DNBAdminFee",0),startFee:a()(H,"LoanAPI.variables.startFee",0),monthlyCommission:a()(H,"LoanAPI.variables.monthlyCommission",0),commissionFee:a()(H,"LoanAPI.variables.commisssionFee",0),IT:a()(H,"LoanAPI.variables.IT",{}),documentationFee:a()(H,"LoanAPI.variables.localeSpecific.documentationFee",0),initialCommission:a()(H,"LoanAPI.variables.localeSpecific.initialCommission",0),localMonthlyCommission:a()(H,"LoanAPI.variables.localeSpecific.monthlyCommission",0)},ne=a()(e,"FinancingOptions.feesPrecision"),re={CASH_PRICE:Object(W.formatCurrency)(j),CASH_PRICE_PLUS_BONUS:Object(W.formatCurrency)(j+_),TERM:Z,TERM_IN_YEARS:Z/12,TERM_MINUS_ONE:Z-1,TERM_PLUS_ONE:Z+1,RESIDUAL_VALUE:Object(W.formatCurrency)(a()(H,"residualAmount")),RESIDUAL_PERCENTAGE:Object(W.formatNumber)(100*a()(H,"LoanAPI.variables.residualValueRate")),PAYMENT:Object(W.formatCurrency)(a()(H,"monthlyPayment")),PAYMENT_WITH_MONTHLY_FEE:Object(W.formatCurrency)(a()(H,"monthlyPayment")+te.monthlyCommission),MILEAGE:Object(W.formatNumber)(a()(H,"LoanAPI.variables.loanDistance",0)),DOWNPAYMENT:Object(W.formatCurrency)(J),DOWNPAYMENT_PERCENTAGE:Object(W.formatNumber)(100*ee),RATE:Object(W.formatNumber)(a()(H,"interestRate"),2),EFFECTIVE_RATE:Object(W.formatNumber)(a()(H,"effectiveRate"),2),COST_CREDIT:Object(W.formatCurrency)(a()(H,"costOfCredit")),DATE:Object(K.formatDate)(v),LAST_DAY_OF_MONTH:Object(K.formatDate)(f,v),CURRENT_DATE_PLUS_10_DAYS:Object(K.formatDate)(b,v),FINANCED_AMOUNT:Object(W.formatCurrency)(a()(H,"financedAmount")),FINANCED_AMOUNT_INCL_FEES:Object(W.formatCurrency)(a()(H,"financedAmountInclFees")),ESTABLISHMENT_FEE:Object(W.formatCurrency)(te.DNBLoanFee),ADMIN_FEE:Object(W.formatCurrency)(te.DNBAdminFee),FINAL_TERM:Q,FEES_MONTHLY_FEE:Object(W.formatCurrency)(te.monthlyCommission,null,{precision:ne}),FEES_START_FEE:Object(W.formatCurrency)(te.startFee,null,{precision:ne}),MODEL:h,TRIM:g,SELECTED_TRIM_LONG_NAME:O,REGIONAL_REFINANCING_TERM:a()(H,"regional.refinancingTerm",0),REGIONAL_REFINANCING_PAYMENT:Object(W.formatCurrency)(a()(H,"regional.refinancingMonthlyPayment",0)),REGIONAL_REFINANCING_TOTAL:Object(W.formatCurrency)(a()(H,"regional.refinancingTotalAmount",0)),AMOUNT_DUE_AT_SIGNING:Object(W.formatCurrency)(a()(H,"amountDueAtSigning")),INSTALLATIONFEE5:Object(W.formatCurrency)(a()(te,"IT.installationFee5",0),null,{precision:ne}),REVERSESTAMPDUTYFEE:Object(W.formatCurrency)(a()(te,"IT.reverseStampDutyFee",0),null,{precision:ne}),ECO_BONUS:Object(W.formatCurrency)(_),DOWNPAYMENT_MINUS_BONUS:Object(W.formatCurrency)(J-_),TOTAL_AMOUNT_PAYABLE:Object(W.formatCurrency)(a()(H,"regional.totalAmtPaid",null)),BALLON_PAYMENT:Object(W.formatCurrency)(Ne(e,{context:"form"})),INTEREST_COST:Object(W.formatCurrency)(a()(H,"regional.interestCost")),INSURANCE_MONTHLY:Object(W.formatCurrency)(a()(H,"regional.insuranceMonthly",0)),INSURANCE_TOTAL:Object(W.formatCurrency)(a()(H,"regional.insuranceTotal",0)),INSURANCE_RATE:Object(W.formatNumber)(100*a()(H,"LoanAPI.variables.localeSpecific.insuranceRate",0),2),DOCUMENTATION_FEE:Object(W.formatCurrency)(te.documentationFee,null,{precision:ne}),EXTRA_DISCLAIMER:Object(G.L)("SummaryPanel.disclaimers.applyForFinancing",{FAQ_DELIVERY_QUESTIONS:Object(G.e)("support/frequently-asked-delivery-questions?redirect=no#info-financial",E,S)},null,{returnNullWhenEmpty:!0}),DEBIT_RATE:Object(W.formatNumber)(a()(H,"regional.debitRate",null),2),TAX_STAMP_AMT:Object(W.formatCurrency)(a()(H,"regional.taxStampAmount",0),{precision:0}),BORROWING_COST:Object(W.formatCurrency)(a()(H,"regional.borrowingCost",0)),FOUNDING_COST:Object(W.formatCurrency)(a()(H,"regional.foundingCost",0)),INITIAL_COMMISSION:Object(W.formatCurrency)(te.initialCommission,null),MONTHLY_COMMISSION:Object(W.formatCurrency)(te.localMonthlyCommission,null,{precision:2})};return Object(G.L)($,re,null,{specificOverride:d?[d,p]:p,specificOverrideOperator:"OR"});default:return""}}function at(e,t){var n=t.Latitude,r=t.Longitude,o=a()(e,"Payment.PickupLocations",[]),c=a()(e,"ReviewDetails.product.data.geoPoints",[]),s=a()(e,"ReviewDetails.product.data.TransportFees",{}),l=a()(e,"App.isTransportFeeCollectionEnabled"),u=s.exemptVRL,d=void 0===u?[]:u,p=s.fees,m=void 0===p?[]:p,f=V()(c,(function(e,t){var a=e.distance,i=e.vrlId,o=e.vrlLat,c=e.vrlLong,s=t[0]||"",l=t[1]||0,u=s.split(","),d=u[0]||0,p=u[1]||0,m=Object(G.b)(d,p,n,r);return null===a||m<a?{distance:m,vrlId:l,vrlLat:d,vrlLong:p}:{distance:a,vrlId:i,vrlLat:o,vrlLong:c}}),{distance:null,vrlId:0,vrlLat:0,vrlLong:0}),y=f.distance,b=f.vrlId,v=f.vrlLat,g=f.vrlLong,h=l||o.length?i.ib:i.jb,O={fee:0,vrl:{id:b,lat:v,lon:g,distance:y},sourceType:h};if(!y||!b||d.includes(b))return O;var P={distanceToTrt:null,trtId:0,trtLat:0,trtLong:0,trtMetroArea:""};h===i.ib&&(P=V()(o,(function(e,t){var a=e.distanceToTrt,i=e.trtId,o=e.trtLat,c=e.trtLong,s=e.trtMetroArea,l=((t.gmaps_url||"").split("=")[1]||"").split(","),u=l[0]||0,d=l[1]||0,p=Object(G.b)(u,d,n,r);return null===a||p<a?{distanceToTrt:p,trtId:t.trt_id,trtLat:u,trtLong:d,trtMetroArea:t.metro_area}:{distanceToTrt:a,trtId:i,trtLat:o,trtLong:c,trtMetroArea:s}}),P));var _=P,w=_.distanceToTrt,E=_.trtId,S=void 0===E?0:E,j=_.trtLat,C=_.trtLong,T=_.trtMetroArea;O=ee(ee({},O),{},{trt:{id:S,lat:j,long:C,distance:w}});var A=null;w&&S?A=Object(G.b)(v,g,j,C):O=ee(ee({},O),{},{sourceType:i.jb});var D=y;null!==A&&O.sourceType===i.ib&&(D=A);var R=0,L=a()(e,"ReviewDetails.product.data.SalesMetro",""),x=a()(e,"ReviewDetails.product.data.TransportFees.metro_fees",[]),I=N()(x,(function(e){return e.destination_metro===T&&e.source_metro===L}));if(I)R=I.amount;else for(var F=0;F<m.length;F+=1){var k=m[F],M=k.query,B=void 0===M?{}:M,q=k.amount,U=void 0===q?0:q,W=B.max,Y=void 0===W?0:W,z=B.min;if(D<=Y&&D>=(void 0===z?0:z)){R=U;break}}return ee(ee({},O),{},{distance:D,fee:R})}function it(e){return a()(e,"App.isTransportFeeCollectionEnabled",!1)?a()(e,"ReviewDetails.DeliveryDetails.TransportationFee",0):0}n(205);function ot(e){return!!k()(["Stripe","Adyen"],Object.keys(a()(e,"Payment.configs"),{})).length}function ct(e){var t=a()(e,"Payment",{}),n=t.time,r=t.encryptor,o=t.configs,c=t.PaymentDetail.CountryCode||a()(e,"OMS.oms_params.market"),s=Object(U.getSuperRegion)(c),l=r===i.Jf&&"REEU"===s.code?"key_other":"key";return{encryptor:r,key:a()(o,"".concat(r,".").concat(l)),time:n}}function st(e){var t=a()(e,"Payment.PaymentDetail",{}),n=t.PayorName,r=t.CreditCardDetail,i=void 0===r?{}:r,o=t.BillingZipCode,c=i.AccountNumber,s=i.ExpirationMonth,l=i.ExpirationYear;return{number:c,cvc:i.VerificationNumber,name:n,month:s,year:l,zip:o}}},900:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(99).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===r(arguments[0])?a:a.apply(null,arguments)},t.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},901:function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(1223),i=n(1224),o=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,c=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function p(e){var n,a=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},c=r(e=e||a);if("blob:"===e.protocol)i=new f(unescape(e.pathname),{});else if("string"===c)for(n in i=new f(e,{}),d)delete i[n];else if("object"===c){for(n in e)n in d||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function m(e){e=l(e);var t=c.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!(t[2]&&t[2].length>=2),rest:t[2]&&1===t[2].length?"/"+t[3]:t[3]}}function f(e,t,n){if(e=l(e),!(this instanceof f))return new f(e,t,n);var o,c,s,d,y,b,v=u.slice(),g=r(t),h=this,O=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=p(t),o=!(c=m(e||"")).protocol&&!c.slashes,h.slashes=c.slashes||o&&t.slashes,h.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(v[3]=[/(.*)/,"pathname"]);O<v.length;O++)"function"!=typeof(d=v[O])?(s=d[0],b=d[1],s!=s?h[b]=e:"string"==typeof s?~(y=e.indexOf(s))&&("number"==typeof d[2]?(h[b]=e.slice(0,y),e=e.slice(y+d[2])):(h[b]=e.slice(y),e=e.slice(0,y))):(y=s.exec(e))&&(h[b]=y[1],e=e.slice(0,y.index)),h[b]=h[b]||o&&d[3]&&t[b]||"",d[4]&&(h[b]=h[b].toLowerCase())):e=d(e);n&&(h.query=n(h.query)),o&&t.slashes&&"/"!==h.pathname.charAt(0)&&(""!==h.pathname||""!==t.pathname)&&(h.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,a=n[r-1],i=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(i=!0),n.splice(r,1),o--);return i&&n.unshift(""),"."!==a&&".."!==a||n.push(""),n.join("/")}(h.pathname,t.pathname)),"/"!==h.pathname.charAt(0)&&h.hostname&&(h.pathname="/"+h.pathname),a(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(d=h.auth.split(":"),h.username=d[0]||"",h.password=d[1]||""),h.origin=h.protocol&&h.host&&"file:"!==h.protocol?h.protocol+"//"+h.host:"null",h.href=h.toString()}f.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),r[e]=t;break;case"port":r[e]=t,a(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;default:r[e]=t}for(var c=0;c<u.length;c++){var s=u[c];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,a=n.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var o=a+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"===r(n.query)?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},f.extractProtocol=m,f.location=p,f.trimLeft=l,f.qs=i,e.exports=f}).call(this,n(31))},908:function(e,t,n){var r=n(21),a=n(19);e.exports={getNearest:function(e,t,n,r,a){for(var i,o,c=Number.MAX_VALUE,s=0,l=e.length;s<l;s++){var u=e[s][n],d=Math.abs(u-t);a&&!a(u)||d<c&&(c=d,u,o=s,i=e[s])}return r?o:i},filter:function(e,t){return e.filter((function(e){return Object.keys(t).every((function(n){if(r(e,n)){var i=e[n],o=t[n];return a(o)?a(i)?o.some((function(e){return i.includes(e)})):"any"===i||o.includes(i):!(!a(i)||!i.includes(o))||("any"===i||i===o)}return!1}))}))}}},909:function(e,t,n){var r=n(145),a=n(72);e.exports=function(e,t){return r(a(e,t),1)}},910:function(e,t,n){var r=n(217),a=n(334),i=n(82);e.exports=function(e,t){var n={};return t=i(t,3),a(e,(function(e,a,i){r(n,a,t(e,a,i))})),n}},911:function(e,t,n){var r=n(783),a=n(19);e.exports=function(e,t,n,i){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(n=i?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},912:function(e,t,n){"use strict";n.r(t),n.d(t,"method",(function(){return r})),n.d(t,"InitialState",(function(){return a})),n.d(t,"Reducer",(function(){return i}));var r="assign",a={merge_method:"assign",object:{}},i=function(e){return e}},913:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n(3),c=n(21),s=n.n(c),l=n(17),u=n.n(l),d=n(6),p=n.n(d),m=n(394),f=n(377);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=Object(r.lazy)(e);return t.preload=e,t}var h={ActionTarget:g((function(){return n.e(5).then(n.bind(null,2038))})),Copy:f.a,DeliveryDate:g((function(){return Promise.resolve().then(n.bind(null,307))})),Disclaimer:g((function(){return n.e(14).then(n.bind(null,2039))})),DisclaimerSpecial:g((function(){return n.e(16).then(n.bind(null,2047))})),DynamicDisclaimer:g((function(){return n.e(18).then(n.bind(null,2042))})),Options:g((function(){return n.e(31).then(n.bind(null,2040))})),RootGroup:g((function(){return Promise.all([n.e(1),n.e(36)]).then(n.bind(null,2049))})),SavingsToggle:g((function(){return n.e(38).then(n.bind(null,2048))})),SelectedPrice:g((function(){return n.e(39).then(n.bind(null,2041))})),Specs:g((function(){return n.e(42).then(n.bind(null,2043))})),Title:g((function(){return Promise.resolve().then(n.bind(null,407))})),Tooltip:g((function(){return n.e(45).then(n.bind(null,2044))})),DynamicCopy:g((function(){return n.e(17).then(n.bind(null,2045))})),SubOptionComponent:g((function(){return n.e(1).then(n.bind(null,2046))}))},O=function(e){var t=e.group,n=e.isMain,i=e.withMain,o=e.isStarting,c=e.classes,l=e.isNested,d=t.current,f=t.child_groups,g=t.options;if(!t||u()(d)&&!u()(g)&&u()(f)||n&&!t.asset)return null;var O=n?"OptionVisualization":"OptionWidget",P=t.components,_=void 0===P?[]:P,w=t.code;return a.a.createElement(a.a.Fragment,null,n||i?a.a.createElement("div",{className:"cf-asset-wrapper"},a.a.createElement(m.a,{group:w,detail_size:"full-asset",key:"GroupDetails_".concat(O,"_").concat(w,"_Mobile")})):null,!n&&_.length?a.a.createElement("div",{className:p()({"tds--vertical_padding--6x":!i},{"tds--padding tds--align_center":i},{"option-widget--container":!l},v({},c,c))},_.map((function(e){var n=e.type,i=e.props,c=void 0===i?{}:i;if(!s()(h,n))return null;var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({group:t},c),u=h[n];return o?a.a.createElement(u,y({key:"GroupComponent_".concat(n,"_").concat(w)},l)):a.a.createElement(r.Suspense,{key:"Suspense.GroupComponent_".concat(n,"_").concat(w),fallback:a.a.createElement("div",{className:"tds-spinner tds-spinner--fade_in",style:{position:"absolute",height:"450px"}})},a.a.createElement(u,y({key:"GroupComponent_".concat(n,"_").concat(w)},l)))}))):null)};O.propTypes={group:Object(o.shape)({}).isRequired,isStarting:o.bool,isMain:o.bool,withMain:o.bool,classes:o.string,isNested:o.bool},O.defaultProps={isStarting:!1,withMain:!1,isMain:!1,classes:"",isNested:!1},t.default=Object(i.connect)((function(e,t){var n=t.code;return{group:e.CustomGroups[n]||{}}}),null)(O)},914:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1806)),o=l(n(0)),c=l(n(3)),s=(l(n(1807)),n(1808));function l(e){return e&&e.__esModule?e:{default:e}}c.default.any,c.default.func,c.default.node;var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState((function(t){var n=a({},t.children);return delete n[e],{children:n}}))},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in n){var o=t&&t.hasOwnProperty(i);!n[i]||o||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach((function(t){return e.performEnter(t,e.childRefs[t])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(t){return e.performLeave(t,e.childRefs[t])}))},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,c=e.props.childFactory(r),s=function(t){e.childRefs[n]=t};c===r&&a&&(s=(0,i.default)(r.ref,s)),t.push(o.default.cloneElement(c,{key:n,ref:s}))}};for(var r in this.state.children)n(r);var c=a({},this.props);return delete c.transitionLeave,delete c.transitionName,delete c.transitionAppear,delete c.transitionEnter,delete c.childFactory,delete c.transitionLeaveTimeout,delete c.transitionEnterTimeout,delete c.transitionAppearTimeout,delete c.component,o.default.createElement(this.props.component,c,t)},t}(o.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(e){return e}},t.default=u,e.exports=t.default},915:function(e,t,n){(function(e){var r,a,i,o;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof window&&window,o=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==c(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}({0:function(t,n){t.exports=e},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidZip=t.useZipCode=t.setLocale=void 0;var r=n(0),a="US",i={AD:null,AE:null,AT:/^[0-9]{4}$/,AU:/^[0-9]{4}$/,BE:/^[0-9]{4}$/,BG:/^[0-9]{4}$/,CA:/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}[0-9]{1}[ABCEGHJKLMNPRSTVWXYZabceghjklmnprstvwxyz]{1}[ ]?[0-9]{1}[ABCEGHJKLMNPRSTVWXYZabceghjklmnprstvwxyz]{1}[0-9]{1}$/,CH:/^[0-9]{4}$/,CY:/^[0-9]{4}$/,CN:/^([0-9]{6})?$/,CZ:/^[0-9]{3}[ ]?[0-9]{2}$/,DE:/^[0-9]{5}$/,DK:/^[0-9]{4}$/,EE:/^[0-9]{5}$/,ES:/^([0-4][0-9]|[5][0-2])[0-9]{3}$/,EU:null,FI:/^[0-9]{5}$/,FR:/^[0-9]{5}$/,GB:/^[a-zA-Z]{1,2}([0-9]{1,2}|[0-9][a-zA-Z])\s*[0-9][a-zA-Z]{2}$/,GI:/^[A-Z]{1,2}[0-9]{1,2}[A-Z]?[0-9][A-Z]{2}$/,GR:/^[0-9]{3}[ ]?[0-9]{2}$/,HK:null,HR:/^[0-9]{6}$/,HU:/^[0-9]{4}$/,IE:/^([a-zA-Z0-9\s]{1,9})?$/,IS:/^[0-9]{3}$/,IL:/^[0-9]{7}$/,IT:/^[0-9]{5}$/,JP:/^[0-9]{3}-[0-9]{4}$/,JO:/^[0-9]{5}$/,KR:/^([0-9]{3}[-]?[0-9]{3}|[0-9]{5})$/,LI:/^[0-9]{4}$/,LT:/^(((LT)[-]?)?[0-9]{5})$/,LU:/^[0-9]{4}$/,LV:/^(((LV)[-]?)?[0-9]{4})$/,MC:/^[0-9]{5}$/,MO:null,MT:null,MX:/^[0-9]{5}$/,NL:/^[0-9]{4}[ ]?[A-Za-z]{2}$/,NO:/^[0-9]{4}$/,NZ:/^[0-9]{4}$/,PL:/^[0-9]{2}[-]?[0-9]{3}$/,PT:/^[0-9]{4}-[0-9]{3}$/,PR:/^00[0-9]{3}$/,RO:/^[0-9]{6}$/,RS:null,RU:/^[0-9]{6}$/,SE:/^[0-9]{3}[ ]?[0-9]{2}$/,SG:/^[0-9]{6}$/,SI:/^(((SI)[-]?)?[0-9]{4})$/,SK:/^[0-9]{3}[ ]?[0-9]{2}$/,SM:/^[0-9]{5}$/,TH:/^[0-9]{5}$/,TR:/^[0-9]{4,5}$/,TW:/^([0-9]{3}[-]?([0-9]{0,2})?)$/,US:/^([0-9]{5})(-[0-9]{4})?$/};t.setLocale=function(e){var t=r.parseLocale(e).country;return i.hasOwnProperty(t)?(a=t,!0):(console.error("cannot set",t,"setLocale: market not supported"),!1)},t.useZipCode=function(e){return!!i[e]},t.isValidZip=function(e,t){return 1===arguments.length&&(t=arguments[0],e=a),i.hasOwnProperty(e)?null===i[e]||!!i[e].exec(t):(console.warn("cannot validate zipcode",e,"not supported"),!1)}}})},"object"==c(t)&&"object"==c(e)?e.exports=o(n(41)):(a=[n(41)],void 0===(i="function"==typeof(r=o)?r.apply(t,a):r)||(e.exports=i))}).call(this,n(57)(e))},916:function(e,t,n){(function(e){var r,a,i,o;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof window&&window,o=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==c(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}({0:function(t,n){t.exports=e},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPhoneNumber=t.setLocale=void 0;var r=n(0),a="US",i={US:/(\d){10}/,CN:/^((\+{0,1}(\(\d+\))|\+{0,1}(\d+)|(\(\+{0,1}((\d)+(\s\d)*(-\d)*)+\))|(\d+))((\d)*(-\d)*(\s\d)*(\s?\(\d+\))*)+)?$/};t.setLocale=function(e){var t=r.parseLocale(e).country;return i.hasOwnProperty(t)?(a=t,!0):(console.error("cannot set",t,"setLocale: market not supported"),!1)},t.isValidPhoneNumber=function(e,t){return null==t&&(t=e,e=a),i.hasOwnProperty(e)?("CN"!==e&&(t=t.replace(/(\D)/g,"")),!!i[e].exec(t)):(console.warn("cannot validate phone number",e,"not supported"),!1)}}})},"object"==c(t)&&"object"==c(e)?e.exports=o(n(41)):(a=[n(41)],void 0===(i="function"==typeof(r=o)?r.apply(t,a):r)||(e.exports=i))}).call(this,n(57)(e))},919:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(13),s=n(4),l=n(5),u=n(1),d=n.n(u),p=n(6),m=n.n(p),f=n(548),y=n(2),b=n(70),v=function(e){var t=e.incentives,n=e.showTaxValue,r=e.showFederalTaxBanner,i=e.content,o=e.showFuelRewardBanner,c=e.withoutPadding,u=e.isContentAvailable;if(null==i||!r||!u||!o&&i.fuelReward)return null;var d,p,y,v,g,h,O,P;return a.a.createElement("div",{className:m()("tds-banner tds-scrim--white tds-text--start",{"tds--no_padding":c})},a.a.createElement(f.a,{className:"tds--fade-in",body:(d=i,p=n,y=o,v=d||{},g=v.federalTax,h=void 0===g?{}:g,O=v.fuelReward,P=void 0===O?null:O,a.a.createElement(a.a.Fragment,null,h.title?a.a.createElement("h3",{className:"text-loader--section-title federal-tax--title"},h.title):null,p?a.a.createElement("span",{className:"federal-tax--value"},Object(l.formatCurrency)(t.taxCredit[0].amount)):null,h.description?a.a.createElement("div",{className:"federal-tax--description"},Object(s.K)(h.description),h.link?a.a.createElement(b.a,{data:h.link,transitionWrapper:!1}):null):null,y&&P?a.a.createElement("div",{className:"federal-tax--disclaimer"},a.a.createElement("span",{className:"federal-tax--icon icon-info"}),a.a.createElement("div",{className:"federal-tax--description"},Object(s.K)(P))):null)),type:"info",bodyTag:"div"}))};v.propTypes={incentives:o.a.shape({taxCredit:o.a.arrayOf(o.a.number)}),showTaxValue:o.a.bool,showFederalTaxBanner:o.a.bool,showFuelRewardBanner:o.a.bool,withoutPadding:o.a.bool,content:o.a.shape({federalTax:o.a.shape({title:o.a.string,description:o.a.string.isRequired,link:o.a.shape({})}),fuelReward:o.a.string}),isContentAvailable:o.a.number},v.defaultProps={incentives:{taxCredit:[{amount:null}]},showTaxValue:!1,showFederalTaxBanner:!1,showFuelRewardBanner:!1,content:null,withoutPadding:!1,isContentAvailable:0},t.default=Object(c.connect)((function(e){var t=e.Financial.incentives.current,n=d()(t,"beforeDelivery",[]),r=d()(e,"CustomGroups.FEDERAL_TAX_CREDIT",null),a=d()(r,"extra_copy",[]).length;return{incentives:t,showFederalTaxBanner:e.App.showFederalTaxBanner,content:r,isContentAvailable:a,showFuelRewardBanner:n.some((function(e){return e.key===y.G}))}}))(v)},920:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=n(13),s=n(1),l=n.n(s),u=n(26),d=n.n(u),p=n(17),m=n.n(p),f=n(915),y=n(916),b=n(172),v=n.n(b),g=n(4),h=n(8),O=n(2),P=n(9),_=n(5),w=n(6),E=n.n(w),S=n(126),j=n.n(S),C=n(43),T=n.n(C),A=n(70),D=n(73),R=n(307),L=n(304),N=n.n(L),x=n(566),I=n(567);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var a=U(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(o,e);var t,n,r,i=B(o);function o(){var e;k(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return W(G(e=i.call.apply(i,[this].concat(n))),"fields",{}),W(G(e),"getOptionIndicatorOverwite",(function(t){var n=e.props,r=n.configuration,a=n.CustomGroups,i=n.calcPriceForNewlySelectedOption,o=n.priceData,c=n.includeFeesinBatteryCalculationPayment,s=n.useOptionPriceOverridePayment,l=n.trimOptions;return Object(g.l)([t],r,o,c,s&&l.includes(t.code),a,i,!0)})),e}return t=o,(n=[{key:"setFieldRef",value:function(e,t){this.fields[e]=t}},{key:"render",value:function(){var e=this,t=this.props,n=t.discounts,r=t.baseConfiguration,i=t.options,o=t.isPriceIndicatorVisible,c=t.hideBaseField,s=t.showDriveAwayPrice,l=t.destinationAndDocFee,u=t.showDistinctTaxTotal,d=t.setRegion,p=t.showRegistrationTypeSelector,m=t.accessoriesSelected,f=t.accessoriesPrice,y=t.depositAmount,b=t.showOrderFee,v=t.interstateTransitFee,g=t.fuelReward,h=this.context.i18n;return a.a.createElement("div",{className:"cf-summary--section tds-o-text_color--20"},a.a.createElement("ol",{className:"tds-list cf-summary-list"},T()(c,O.Hf)<0&&s?a.a.createElement("li",{className:"tds-list-item cf-territory-dropdown"},a.a.createElement(x.a,{onChange:d})):null,p?a.a.createElement("li",{className:"tds-list-item"},a.a.createElement(I.a,{radioName:"summary"}),a.a.createElement("span",{className:"summary-page--disclaimer"},h("Review.summary_page__disclaimer"))):null,n.map((function(e){return a.a.createElement("li",{key:"discount-".concat(e.key),className:"tds-list-item tds-flex"},a.a.createElement("span",{className:"label tds-flex-item"},h("Review.".concat(e.key))),a.a.createElement("span",{className:"value tds-flex--col_1of3"},Object(_.formatCurrency)(e.value)))})),r.map((function(t,n){return a.a.createElement("li",{className:"tds-list-item tds-flex",key:"".concat(t.name+n)},a.a.createElement("span",{className:"label--option tds-flex-item"},"".concat(t.long_name," ").concat(t.spec_description&&" - ".concat(t.spec_description)||"")),o&&a.a.createElement("span",{className:"value price-indicator tds-flex--col_1of3"},function(t){var n=e.getOptionIndicatorOverwite(t),r="number"==typeof n?Object(_.formatCurrency)(n):n;return!1!==n?r:t.formattedPrice}(t)))})),i.map((function(e){return a.a.createElement("li",{className:"tds-list-item tds-flex","data-code":e.code,key:e.code},a.a.createElement(A.a,{key:"Summary:".concat(e.code),data:e,tag:"span",field:"long_name",className:"tds-flex-item"}),o&&a.a.createElement("span",{className:"value price-indicator tds-flex--col_1of3"},e.formattedPrice))})),Object.keys(m).map((function(e){return m[e]?a.a.createElement("li",{className:"tds-list-item tds-flex",key:e},a.a.createElement("span",{className:"label--option tds-flex-item"},h("Accessories.".concat(e,".title"))),o&&a.a.createElement("span",{className:"value price-indicator tds-flex--col_1of3"},Object(_.formatCurrency)(f[N()(e)]))):null})),o?[u&&l>0?a.a.createElement("li",{className:"tds-list-item tds-flex",key:"0"},a.a.createElement("span",{className:"label tds-flex-item"},h("FinancingOptions.destinationDocfee")),a.a.createElement("span",{className:"value tds-flex--col_1of3"},Object(_.formatCurrency)(l))):null,b&&y>0?a.a.createElement("li",{className:"tds-list-item tds-flex",key:"1"},a.a.createElement("span",{className:"label tds-flex-item"},h("Review.order_fee")),a.a.createElement("span",{className:"value tds-flex--col_1of3"},Object(_.formatCurrency)(y))):null,v?a.a.createElement("li",{className:"tds-list-item tds-flex",key:"2"},a.a.createElement("span",{className:"label tds-flex-item"},h("Review.interstate_transit_fee")),a.a.createElement("span",{className:"value tds-flex--col_1of3"},Object(_.formatCurrency)(v))):null,null!=g&&g.amount?[a.a.createElement("li",{className:"tds-list-item tds-flex",key:"3-0"},a.a.createElement("span",{className:"label tds-flex-item"},null==g?void 0:g.title),a.a.createElement("span",{className:"value tds-flex--col_1of3"},null==g?void 0:g.formattedAmtWithMinus)),a.a.createElement("span",{className:"tds-text--caption",key:"3-1"},h("SummaryPanel.disclaimers.afterTaxesAndFees"))]:null]:null))}}])&&M(t.prototype,n),r&&M(t,r),o}(r.Component),z=o.a.shape,H=o.a.string,K=o.a.number,X=o.a.bool,$=o.a.func,Z=o.a.arrayOf;Y.propTypes={discounts:Z(z()),baseConfiguration:Z(z()),options:Z(z()),isPriceIndicatorVisible:X,configuration:Z(H),CustomGroups:z({}),priceData:z({}),includeFeesinBatteryCalculationPayment:X,hideBaseField:Z(H),showDriveAwayPrice:X,destinationAndDocFee:K,showDistinctTaxTotal:X,showRegistrationTypeSelector:X,accessoriesSelected:z({}),accessoriesPrice:z({}),depositAmount:K,showOrderFee:X,calcPriceForNewlySelectedOption:$,setRegion:$,useOptionPriceOverridePayment:X,trimOptions:Z(H),interstateTransitFee:K,fuelReward:z({amount:K,title:H,formattedAmtWithMinus:H})},Y.contextTypes={i18n:$},Y.defaultProps={isPriceIndicatorVisible:!1,configuration:[],discounts:[],baseConfiguration:[],options:[],CustomGroups:{},priceData:[],includeFeesinBatteryCalculationPayment:!1,hideBaseField:[],showDriveAwayPrice:!1,destinationAndDocFee:0,showDistinctTaxTotal:!1,showRegistrationTypeSelector:!1,accessoriesSelected:{},accessoriesPrice:{},depositAmount:0,showOrderFee:!1,calcPriceForNewlySelectedOption:function(){},setRegion:function(){},useOptionPriceOverridePayment:!1,trimOptions:[],interstateTransitFee:0,fuelReward:null};var Q=Object(c.connect)((function(e){return{selectedStateCode:l()(e,"SummaryPanel.region_code",null),countryCode:l()(e,"Payment.CountryCode",""),showDriveAwayPrice:l()(e,"ReviewDetails.showDriveAwayPrice",!1),CustomGroups:e.CustomGroups,includeFeesinBatteryCalculationPayment:l()(e,"FinancingOptions.includeFeesinBatteryCalculationPayment",!1),useOptionPriceOverridePayment:l()(e,"FinancingOptions.useOptionPriceOverridePayment",!1),trimOptions:l()(e,"CustomGroups.TRIM.options",[]),priceData:e.Pricing}}),(function(e){return{setRegion:function(t){e(Object(h.setSummaryPanelRegion)(t))},calcPriceForNewlySelectedOption:function(t){return e(Object(h.calcPriceForNewlySelectedOption)(t,null))}}}))(Y),J=n(167),ee=n(86),te=n(311),ne=n.n(te),re=n(23),ae=n(562),ie=n(244);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=o.a.shape,ue=o.a.string,de=o.a.number,pe=o.a.bool,me=o.a.func,fe=o.a.oneOfType,ye=o.a.arrayOf,be={model:le({}),modelCode:ue,locale:ue,market:ue,stateProvince:ue},ve={connect:ue,postConnectUrl:ue,sibling:ue},ge={isMobile:pe,isTablet:pe},he={baseConfiguration:ye(ue),configuration:le({}),options:ye(ue)},Oe={accountDetailsValid:pe,ccDetailsValid:pe,hideDestinationDocFee:pe,hideAfterSavingsPrice:pe,isEmployee:pe,isProfileExists:pe,isSaveDesignEnabled:pe,isEnergyLeadEnabled:pe,isPaymentDetailsValid:me,modifyOrder:pe,orderPlaced:pe,reversePricingOrder:pe,rnLoaded:pe,showRefundPolicy:pe,showRightOrder:pe,showContactUs:pe,showDisclaimerLink:pe,submitTried:pe,userHasApplePay:pe,validateCCDetails:pe,validConfigForReferral:pe,showSecondDepositDisclaimer:pe},Pe={afterSavingsPrice:ue,asset:le({}),assetBaseUrl:ue,beforeSavingsPrice:ue,discounts:ye(le({})),financeTabs:ye(le({})),financeTypeLabel:ue,selectedFinanceType:ue,referralData:le({}),cashPrice:le({}),paymentTypes:ye(ue),depositAmount:de,financeModalProps:le({}),leadCardStatuses:le({homeEnergy:fe([ue,pe,le({})]),homeCharging:fe([ue,pe,le({})])}),accessoriesEnabled:le({wallConnector:fe([ue,pe,le({})])})},_e={cancelUpdateOrder:me,editDesign:me,externalLinkClicked:me,handleApplePayBtnClick:me,handleViewedLeadCard:me,onTypeChange:me,saveMarketingConfig:me,toggleEnergyLeadSelection:me,toggleAccessorySelection:me,triggerPostConnectRedirect:me,validateAndPlaceOrder:me,validateAndPlacePublicOrder:me,setPricingDetails:me},we=fe([le({amount:de,longName:ue}),ye(le())]);ce(ce(ce(ce(ce(ce(ce({},be),ve),ge),he),Oe),Pe),_e);function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=function(e){var t=e.incentives,n=e.incentivesTotal,r=e.tcc,i=e.fuelYears,o=e.showIncentivesSectionTitle,c=e.showOrderPageSummaryOtherFees,s=e.cashTabIncentives,u=e.governmentIncentivesTotal,d=e.showGovernmentSubsidy,p=e.totalSavings,m=e.fuelReward,f=t.afterDelivery,y=void 0===f?[]:f,b=t.beforeDelivery,v=void 0===b?[]:b;return a.a.createElement("div",{className:"review-page--block tds-o--vertical_padding_with_border"},a.a.createElement("div",{className:"review-page--line-items"},o?a.a.createElement("p",{className:"review-page--line-item"},Object(g.L)("Review.incentivesSectionTitle")):null,a.a.createElement("ul",{className:"review-page--line-items-list tds-list"},t.taxCredit&&0!==t.taxCredit[0].amount?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.taxCredit")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(t.taxCredit[0].amount))):null,y.length||v.length?[].concat(je(y),je(v)).map((function(e){var t=e.amount,n=void 0===t?0:t,r=e.key,i=void 0===r?"":r,o=e.period;return n&&"once"===(void 0===o?"":o)?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("Incentives.".concat(i,".title"))),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(n))):null})):null,!s.incentivesAfterDelivery&&l()(t,"regional[0].amount",0)?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.regional",{LABEL:t.regional[0].longName})),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(t.regional[0].amount))):null,t.environmental_bonus&&0!==t.environmental_bonus[0].amount?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},t.environmental_bonus[0].longName),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(t.environmental_bonus[0].amount))):null,t.ecoTaxReduction&&0!==t.ecoTaxReduction[0].amount?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("SummaryPanel.incentives")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(t.ecoTaxReduction[0].amount))):null,c&&s.driveAwayPricewithIncentives?a.a.createElement("div",{className:"review-page--total-section review-page--total-pricing"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"tds-text--500 tds-o-text_color--20 label left"},Object(g.L)("common.driveAwayPrice")),a.a.createElement("span",{className:"tds-text--500 tds-o-text_color--20 value"},Object(_.formatCurrency)(s.driveAwayPricewithIncentives)))),a.a.createElement("div",{className:"tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.excludingTaxAndFee"))):null,"object"===Se(r)&&Object.keys(r).length>0?Object.entries(r).filter((function(e){var t=Ee(e,2),n=Ee(t[1],1)[0];return!(0===n.amount&&0===n.comparisonAmount)})).map((function(e){var t=Ee(e,2),n=t[0],r=Ee(t[1],1)[0];return a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.K)(Object(g.L)("Review.tcc.".concat(n)))),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(-1*r.savingsAmount)))})):t.fuel&&0!==t.fuel[0].amount?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.K)(Object(g.L)("Review.fuel",{NUM_FUEL_YEAR:i}))),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(t.fuel[0].amount))):null,d?a.a.createElement("li",{className:"line-item",key:"FinancingOptions__government_subsidy"},a.a.createElement("span",{className:"line-item--label"},Object(g.L)("Incentives.extraIncentives.governmentSubsidy")),a.a.createElement("span",{className:"line-item--value"},Object(_.formatCurrency)(u))):null,c?[s.incentivesAfterDelivery?a.a.createElement("li",{className:"review-page--line-item tds-list-item",key:"0"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.regional",{LABEL:t.regional[0].longName})),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(s.incentivesAfterDelivery))):null,a.a.createElement("div",{className:"review-page--total-section review-page--total-pricing",key:"1"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},s.futureSavings&&a.a.createElement("li",{className:"review-page--total-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.futureSavings")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(s.futureSavings)))))]:null),n&&!c?a.a.createElement("div",{className:"review-page--total-section"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},d||null!=m&&m.amount?[a.a.createElement("span",{className:"label left",key:"0"},Object(g.L)("Review.est_savings_label",{NUM_YEAR:i})),a.a.createElement("div",{className:"value",key:"1"},Object(_.formatCurrency)(p))]:[a.a.createElement("span",{className:"label left",key:"0"},Object(g.L)("Review.est_savings_label",{NUM_YEAR:i})),a.a.createElement("div",{className:"value",key:"1"},n)]))):null))},De=o.a.shape,Re=o.a.string,Le=o.a.number,Ne=o.a.bool;Ae.propTypes={incentives:De({taxCredit:we,regional:we,environmental_bonus:we,ecoTaxReduction:we,fuel:we}).isRequired,incentivesTotal:Re,tcc:De({}).isRequired,fuelYears:Le.isRequired,showIncentivesSectionTitle:Ne,showOrderPageSummaryOtherFees:Ne,cashTabIncentives:De({incentivesAfterDelivery:Le,driveAwayPricewithIncentives:Le,futureSavings:Le,potentialSavingsPrice:Le}).isRequired,governmentIncentivesTotal:Le,showGovernmentSubsidy:Ne,fuelReward:De({amount:Le,title:Re,formattedAmtWithMinus:Re}),totalSavings:Le},Ae.defaultProps={incentivesTotal:null,showIncentivesSectionTitle:!1,showOrderPageSummaryOtherFees:!1,showGovernmentSubsidy:!1,fuelReward:null,governmentIncentivesTotal:0,totalSavings:0};var xe=Ae,Ie=function(e){var t=e.incentives,n=e.incentivesTotal,r=e.tcc,i=e.model,o=e.fuelYears,c=e.destinationAndDocFee,s=e.modelCode,u=e.hideAfterSavingsPrice,d=e.cashPrice,p=e.cashPriceExVAT,m=e.recyclingFee,f=e.specialTax,y=e.registrationTax,b=e.showRegistrationTax,v=e.governmentGrant,h=e.governmentIncentivesTotal,P=e.governmentIncentivesPeriod,w=e.hideDestinationDocFee,S=e.hideAfterSavingsModal,j=e.showPrpLink,C=e.showdestinationAndDocFee,A=e.showRegionalTaxTypes,R=e.vehiclePriceInclFees,L=e.showDistinctTaxTotal,N=e.regionalTaxValues,x=e.showDriveAwayPrice,I=e.showSavingsDisclaimer,F=e.OMVICFee,k=e.deliveryFee,M=e.gstSalePrice,V=e.onRoadfeesTotal,B=e.regionalTax,q=e.showRegionalTax,G=e.tireFee,U=e.summaryRegionalFees,W=e.showIncentivesSectionTitle,Y=e.showOtherFeesinSummary,z=e.tabIndex,H=e.showOrderPageSummaryOtherFees,K=e.showTaxCalcDisclaimer,X=e.cashTabIncentives,$=e.showDOCandOMVICfees,Z=e.showVATBreakdown,Q=e.vatAmount,J=e.ACFee,ee=e.showGrossPriceTotal,te=e.grossPrice,ne=e.netPrice,re=(e.selectIncentivesTab,e.triggerIncentiveSavingsModal),ae=e.showVatDisclaimer,ie=e.showGovernmentSubsidy,oe=e.totalSavings,ce=e.fuelReward,se=[{show:!w&&C,label:Object(g.L)("SummaryPanel.destination_fee"),value:Object(_.formatCurrency)(c)},{show:m,label:Object(g.L)("SummaryPanel.disclaimers.recyclingFee"),value:m},{show:G,label:Object(g.L)("SummaryPanel.disclaimers.tireFee"),value:G},{show:f,label:Object(g.L)("SummaryPanel.disclaimers.specialTax"),value:Object(_.formatCurrency)(f)},{show:b&&y,label:Object(g.L)("SummaryPanel.disclaimers.registrationTax"),value:Object(_.formatCurrency)(y)},{show:v,label:Object(g.L)("SummaryPanel.disclaimers.governmentGrant"),value:Object(_.formatCurrency)(v)},{show:q&&B>0,label:Object(g.L)("SummaryPanel.disclaimers.regionalTax"),value:Object(_.formatCurrency)(B)}],le=d.beforeSavingsPrice,ue="Review.purchase_price";return x&&(ue="FinancingOptions.drive_away_price"),Z&&(ue="Review.purchase_price_ex_vat",le=l()(p,"beforeSavingsPrice")),ee&&(le=Object(_.formatCurrency)(te),d.afterSavingsPrice=Object(_.formatCurrency)(ne)),a.a.createElement(a.a.Fragment,null,t.sellerDiscount&&0!==t.sellerDiscount[0].amount?a.a.createElement("div",{className:"review-page--block review-page--summary-regional-fees"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},l()(t,"sellerDiscount[0].longName",Object(g.L)("SummaryPanel.incentives"))),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(t.sellerDiscount[0].amount))))):null,L&&a.a.createElement("div",{className:"review-page--total-section review-page--line-items border review-page--sub-total"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.vehicle_subTotal")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(R))),(M||ae)&&a.a.createElement("span",{className:"items price review-page--disclaimer"},Object(g.L)("SummaryPanel.disclaimers.vehicle_GST",{GST:Object(_.formatCurrency)(M)})))),A?a.a.createElement("div",{className:"review-page--block"},a.a.createElement("div",{className:"review-page--line-items"},a.a.createElement("ul",{className:"review-page--line-items-list tds-list"},-1!==T()(A,"luxury_cost_tax")&&l()(N,"luxury_cost_tax")>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.luxury_cost_tax")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(N.luxury_cost_tax))):null,-1!==T()(A,"local_stamp_duty")&&l()(N,"local_stamp_duty")>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.local_stamp_duty")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(N.local_stamp_duty))):null,-1!==T()(A,"local_reg_cost")&&l()(N,"local_reg_costs")>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.local_reg_cost")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(N.local_reg_costs))):null,-1!==T()(A,"local_ctp")&&l()(N,"local_ctp")>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.local_ctp")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(N.local_ctp))):null,-1!==T()(A,"plate_fee")&&l()(N,"plate_fee")>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.plate_fee")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(N.plate_fee))):null,-1!==T()(A,"delivery_fee")&&k>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.delivery_fee")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(k))):null,-1!==T()(A,"registration_fee")&&y>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("SummaryPanel.disclaimers.registrationTax")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(y))):null,-1!==T()(A,"governmentIncentive")&&"included"!==P&&Math.abs(h)>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.governmentIncentive")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(-1*Math.abs(h)))):null,Y?[c>0&&!L?a.a.createElement("li",{className:"review-page--line-item tds-list-item",key:"0"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.destinationDocfee")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(c))):null,-1!==T()(A,"omvic_fee")&&F>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item",key:"1"},a.a.createElement("span",{className:"label left"},Object(g.L)("SummaryPanel.disclaimers.specialFee")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(F))):null]:null,L&&V&&a.a.createElement("div",{className:"review-page--total-section review-page--line-items"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("FinancingOptions.vehicle_subTotalInclFees")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(V)))))))):null,U||h?a.a.createElement("div",{className:"review-page--block review-page--summary-regional-fees"},a.a.createElement("div",{className:"review-page--line-items"},a.a.createElement("ul",{className:"review-page--line-items-list tds-list"},U?[c>0?a.a.createElement("li",{className:"review-page--line-item tds-list-item",key:"0"},a.a.createElement("span",{className:"label left"},Object(g.L)("SummaryPanel.destination_fee")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(c))):null,h?a.a.createElement("li",{className:"review-page--line-item tds-list-item",key:"1"},a.a.createElement("span",{className:"label left"},Object(g.L)("SummaryPanel.disclaimers.governmentIncentivesTotal")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(-1*Math.abs(h)))):null]:null))):null,a.a.createElement("div",{className:"review-page--total-section review-page--line-items border tds--vertical_padding-bottom"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"tds-text--500 tds-o-text_color--20 label left"},Object(g.L)(ue)),a.a.createElement("span",{className:"tds-text--500 tds-o-text_color--20 value"},le))),H?[!X.driveAwayPricewithIncentives&&a.a.createElement("div",{className:"tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.excludingTaxAndFee")),a.a.createElement("div",{className:"tds-display--inline",key:"1"},$&&a.a.createElement("span",{className:"tds-text--caption"},Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.otherFees",{DOC_FEE:Object(_.formatCurrency)(c),OMVIC_FEE:Object(_.formatCurrency)(F),AC_FEE:Object(_.formatCurrency)(J)}))),K&&a.a.createElement("span",{className:"tds-text--caption tds--horizontal_margin-5"},Object(g.L)("SummaryPanel.disclaimers.taxCalculation")))]:null),Z?[a.a.createElement("div",{className:"review-page--block",key:"0"},a.a.createElement("div",{className:"review-page--line-items"},a.a.createElement("ul",{className:"review-page--line-items-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.vat_amount")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(Q)))))),a.a.createElement("div",{className:"review-page--total-section review-page--line-items border",key:"1"},a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.purchase_price_incl_vat")),a.a.createElement("span",{className:"value"},d.beforeSavingsPrice))))]:null,a.a.createElement(xe,{incentives:t,incentivesTotal:n,tcc:r,fuelYears:o,showIncentivesSectionTitle:W,showOrderPageSummaryOtherFees:H,cashTabIncentives:X,showGovernmentSubsidy:ie,governmentIncentivesTotal:h,totalSavings:oe,fuelReward:ce}),I&&a.a.createElement("div",{className:E()("review-page--total-section review-page--total-section-last",{border:S})},H?X.potentialSavingsPrice&&a.a.createElement("ul",{className:"tds-list"},a.a.createElement("li",{className:"tds-list-item tds-flex"},a.a.createElement("span",{className:"label left"},Object(g.L)("common.afterSavings")),a.a.createElement("span",{className:"value"},Object(_.formatCurrency)(X.potentialSavingsPrice)))):null,H||!1!==u?null:a.a.createElement("ul",{className:"review-page--totals-list tds-list"},a.a.createElement("li",{className:"review-page--line-item tds-list-item tds-flex"},a.a.createElement("span",{className:"label left"},Object(g.L)("Review.est_savings_total")),a.a.createElement("span",{className:"value"}," ",d.afterSavingsPrice," "))),null!=ce&&ce.amount?a.a.createElement("div",{className:"disclaimer--savings tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.savingsAfterPurchaseExcludeIncentive",{NAME_OF_INCENTIVE:null==ce?void 0:ce.title})):a.a.createElement("div",{className:"disclaimer--savings tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.savingsAfterPurchase",{NUM_FUEL_YEAR:o},null,{specificOverride:s})),re?a.a.createElement(D.a,{tabIndex:z,options:{props:{componentName:"FinanceContainer",props:{form:O.ic,title:"",genericWrapper:!0,header:{display:!0,logo:!0,close:!0},size:O.ld,classes:"tds-o-text_color--20 tds-o-btn-link tds-display--inline",containerCss:"gas-saving"}}}},a.a.createElement("span",{className:"gas-saving--link tds-text--caption"},Object(g.L)("Review.savings_link_label"))):S?null:a.a.createElement(D.a,{tabIndex:z,options:{props:{componentName:"GasSaving",props:{genericWrapper:!0,size:O.qd,modelName:i.name,modelCode:s,classes:"tds-o-text_color--20 tds-o-btn-link tds-display--inline",containerCss:"gas-saving"}}}},a.a.createElement("span",{className:"gas-saving--link tds-text--caption"},Object(g.L)("Review.savings_link_label"))),j?a.a.createElement("div",{className:"disclaimer--savings tds-text--caption"},Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.prpLink"))):null),se.map((function(e){return e.show?a.a.createElement("div",{className:"review-page--fees items tds-flex",key:e.label.replace(/\s/g," ")},a.a.createElement("span",{className:"left tds-flex-item"},e.label),a.a.createElement("span",{className:"right"},e.value)):null})))};var Fe=o.a.string,ke=o.a.number,Me=o.a.bool,Ve=o.a.oneOfType,Be=o.a.shape,qe=o.a.func,Ge=o.a.arrayOf;Ie.propTypes={cashPrice:Be({afterSavingsPrice:Fe,beforeSavingsPrice:Fe}),cashPriceExVAT:Be({afterSavingsPrice:Fe,beforeSavingsPrice:Fe}),destinationAndDocFee:ke,incentives:Be({sellerDiscount:we}),tcc:Be({}),hideAfterSavingsPrice:Me,hideAfterSavingsModal:Me,showPrpLink:Me,showSavingsDisclaimer:Me,showDOCandOMVICfees:Me,governmentIncentivesTotal:ke,grossPrice:ke,vatAmount:ke,recyclingFee:Ve([ke,Me]),registrationTax:ke,regionalTax:ke,showDriveAwayPrice:Me,specialTax:ke,governmentGrant:ke,showdestinationAndDocFee:Me,incentivesTotal:Ve([ke,Fe]),fuelYears:ke,modelCode:Fe,model:Be({name:""}),tireFee:Ve([ke,Me]),hideDestinationDocFee:Me,showRegistrationTax:Me,governmentIncentivesPeriod:Fe,showRegionalTaxTypes:Ge(Fe),showDistinctTaxTotal:Me,vehiclePriceInclFees:ke,regionalTaxValues:Be(),deliveryFee:ke,OMVICFee:ke,gstSalePrice:ke,onRoadfeesTotal:ke,showRegionalTax:Me,summaryRegionalFees:Me,showIncentivesSectionTitle:Me,showOtherFeesinSummary:Me,showOrderPageSummaryOtherFees:Me,showTaxCalcDisclaimer:Me,cashTabIncentives:Be({driveAwayPricewithIncentives:ke}),showVATBreakdown:Me,ACFee:ke,showGrossPriceTotal:Me,netPrice:ke,tabIndex:ke,selectIncentivesTab:qe,triggerIncentiveSavingsModal:Me,showVatDisclaimer:Me,showGovernmentSubsidy:Me,fuelReward:Be({amount:ke,title:Fe})},Ie.defaultProps={cashPrice:{afterSavingsPrice:"",beforeSavingsPrice:""},cashPriceExVAT:{afterSavingsPrice:"",beforeSavingsPrice:""},destinationAndDocFee:null,incentives:{},tcc:{},hideAfterSavingsPrice:!1,showPrpLink:!1,hideAfterSavingsModal:!1,showSavingsDisclaimer:!0,showDOCandOMVICfees:!0,governmentIncentivesTotal:0,grossPrice:0,vatAmount:0,recyclingFee:0,registrationTax:0,regionalTax:0,showDriveAwayPrice:!1,specialTax:0,governmentGrant:0,showdestinationAndDocFee:!1,incentivesTotal:0,fuelYears:0,modelCode:"",model:{},tireFee:0,showRegistrationTax:!1,governmentIncentivesPeriod:"",hideDestinationDocFee:!1,showRegionalTaxTypes:"",showDistinctTaxTotal:!1,vehiclePriceInclFees:0,regionalTaxValues:[],deliveryFee:0,OMVICFee:0,gstSalePrice:0,onRoadfeesTotal:0,showRegionalTax:!1,summaryRegionalFees:!1,showIncentivesSectionTitle:!1,showOtherFeesinSummary:!1,showOrderPageSummaryOtherFees:!1,showTaxCalcDisclaimer:!1,cashTabIncentives:{},showVATBreakdown:!1,ACFee:!1,showGrossPriceTotal:!1,netPrice:0,tabIndex:-1,selectIncentivesTab:function(){},triggerIncentiveSavingsModal:!1,showVatDisclaimer:!1,showGovernmentSubsidy:!1,fuelReward:{amount:0,title:""}};var Ue=Object(c.connect)((function(e){return{triggerIncentiveSavingsModal:l()(e,"ReviewDetails.triggerIncentiveSavingsModal",!1)}}),(function(e){return{selectIncentivesTab:function(){return e(Object(h.selectFinancePanelTab)(O.hc))}}}))(Ie),We=function(){return a.a.createElement(D.a,{options:{props:{componentName:"FinanceContainer",props:{analyticsPrefix:O.kc,genericWrapper:!0,size:O.ld,form:O.ic,classes:"tds-o-btn-link"}}},analyticsInteraction:O.kc},a.a.createElement("span",{className:"tds-text--caption"},Object(g.L)("FinancingOptions.customizePayment")))},Ye=n(575),ze=function(e){var t=e.isTransportFeeEnabled,n=e.isDeliveryDetailsValid,r=e.transportationFee,i=e.taxesAndFeesExcludedIfApplicable,o=t&&n&&r;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement("p",{className:"tds-text--caption tds--vertical_padding-bottom"},Object(g.L)("SummaryPanel.disclaimers.taxesAndFeesOther")):null,o||i?null:a.a.createElement("p",{className:"tds-text--caption tds--vertical_padding-bottom"},Object(g.L)("SummaryPanel.disclaimers.taxesAndFeesExcluded")),i?a.a.createElement("p",{className:"tds-text--caption tds--vertical_padding-bottom"},Object(g.L)("SummaryPanel.disclaimers.taxesAndFeesExcludedIfApplicable.content")):null)};ze.propTypes={isDeliveryDetailsValid:i.bool,isTransportFeeEnabled:i.bool,transportationFee:i.number,taxesAndFeesExcludedIfApplicable:i.bool},ze.defaultProps={isDeliveryDetailsValid:!1,isTransportFeeEnabled:!1,transportationFee:null,taxesAndFeesExcludedIfApplicable:!1};var He=Object(c.connect)((function(e){var t=l()(e,"ReviewDetails.isDeliveryDetailsValid");return{isTransportFeeEnabled:l()(e,"ReviewDetails.isTransportFeeEnabled"),isDeliveryDetailsValid:t,transportationFee:l()(e,"ReviewDetails.DeliveryDetails.TransportationFee",0),taxesAndFeesExcludedIfApplicable:l()(e,"FinancingOptions.taxesAndFeesExcludedIfApplicable",!1)}}))(ze),Ke=n(563);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var a=tt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?et(e):t}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(o,e);var t,n,r,i=Qe(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),nt(et(t=i.call(this,e)),"handleToggle",(function(){var e=t.props,n=e.setPricingDetails,r=e.modelCode,a=t.state.isOpen;document.body.classList.remove("using-mouse"),a?re.a.fireTagEvent({event:"configurator",interaction:"payment-hide-details","cfg-type":r}):re.a.fireTagEvent({event:"configurator",interaction:"payment-show-details","cfg-type":r}),t.setState((function(e){return{isOpen:!e.isOpen}})),n(a)})),nt(et(t),"toggleDriverType",(function(e){var n=t.props,r=n.setDrivertype,a=n.triggerSelectTab,i=n.selectedFinanceProduct,o=n.financeProductByType,c=e.type,s=Object(P.b)(o,{financeProduct:i,type:c}),l=s.matchID,u=s.defaultFinance;r(c),l||a(u)})),t.state={isOpen:!1},t}return t=o,(n=[{key:"componentWillUnmount",value:function(){(0,this.props.setPricingDetails)(!0)}},{key:"renderLeaseSummary",value:function(){var e=this.props,t=e.downPayment,n=e.downPaymentPercentage,r=e.showLeaseSummaryFields,a=e.leaseTerm,i=e.leaseMileage,o=e.interestRate,c=e.ecoBonus,s=e.leaseData,u=e.showCustomizeLabel,d=e.leaseRate,p=e.showLeaseSummaryDisclaimer,m=e.governmentIncentivesTotal,f=e.financeProductId,y=l()(s,"totalLeaseAmount",0),b=l()(s,"residualAmount",0),v=l()(s,"residualPercentage",0),h=l()(s,"residualAmountWithoutVat",0),O=l()(s,"financedAmount",0),P=l()(s,"financedAmountWithoutVat",0),w=l()(s,"grossPrice",0),E=l()(s,"effectiveRate",0),S=l()(s,"totalDownPayment",0),j=l()(s,"monthlyPayment",0),C=l()(s,"totalPayable",0);if(p)return Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.lease",{MONTHS:a,DISTANCE:Object(_.formatNumber)(i),RESIDUAL_AMOUNT:Object(_.formatCurrency)(b),DOWNPAYMENT:Object(_.formatCurrency)(t),DOWNPAYMENT_MINUS_BONUS:Object(_.formatCurrency)(t-c),DOWNPAYMENT_MINUS_INCENTIVES:Object(_.formatCurrency)(t-Math.abs(m)),BONUS:Object(_.formatCurrency)(c),COST_CREDIT:Object(_.formatCurrency)(y),GROSS_PRICE:Object(_.formatCurrency)(w),INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(m)),RATE:Object(_.formatNumber)(o,2),TOTALDOWNPAYMENT:Object(_.formatCurrency)(S),PAYMENT:Object(_.formatCurrency)(j),TOTAL_AMOUNT_PAYABLE:Object(_.formatCurrency)(C),FINANCED_AMOUNT:Object(_.formatCurrency)(O)},null,{specificOverride:f}));var T=r.map((function(e){switch(e){case"downPayment":return Object(g.L)(u?"SummaryPanel.downPayment":"SummaryPanel.down",{DOWN:Object(_.formatCurrency)(t),DOWNPAYMENT_PERCENTAGE:Object(_.formatPercent)(n)},null,{specificOverride:f});case"leaseTerm":return Object(g.L)("SummaryPanel.months",{MONTHS:a});case"leaseDistance":return Object(g.L)("FinancingOptions.lease__distanceOptionLabel",{DISTANCE:Object(_.formatNumber)(i)});case"residualAmount":return Object(g.L)("FinancingOptions.residualAmount",{RESIDUAL_AMOUNT:Object(_.formatCurrency)(b),RV_PERCENT:Object(_.formatPercent)(v)},null,{specificOverride:f});case"residualAmountYears":return Object(g.L)("SummaryPanel.summary.residualAmountAfterYears",{YEARS:a/12,RESIDUAL_AMOUNT:Object(_.formatCurrency)(b)});case"residualAmountExVAT":return Object(g.L)("FinancingOptions.residualAmount",{RESIDUAL_AMOUNT:Object(_.formatCurrency)(h),RV_PERCENT:Object(_.formatPercent)(v),EX_VAT:Object(g.L)("SummaryPanel.exVATpostfix")});case"residualAmountYearsExVAT":return Object(g.L)("SummaryPanel.summary.residualAmountAfterYears",{YEARS:a/12,RESIDUAL_AMOUNT:Object(_.formatCurrency)(h),EX_VAT:Object(g.L)("SummaryPanel.exVATpostfix")});case"interestRate":return Object(g.L)("FinancingOptions.interestRate",{INTEREST_RATE:Object(_.formatPercent)(o,2)});case"effectiveRate":return Object(g.L)("FinancingOptions.effectiveRate",{EFFECTIVE_RATE:Object(_.formatPercent)(E,2)});case"leaseRate":return Object(g.L)("SummaryPanel.leaseRate",{RATE:Object(_.formatNumber)(d,2)});case"costOfCredit":return Object(g.L)("SummaryPanel.summary.costOfCredit",{COST_CREDIT:Object(_.formatCurrency)(y)});case"downPaymentMinusBonus":return Object(g.L)("SummaryPanel.summary.downPaymentMinusBonus",{DOWNPAYMENT_MINUS_BONUS:Object(_.formatCurrency)(t-c),BONUS:Object(_.formatCurrency)(c)});case"financedAmount":return Object(g.L)("SummaryPanel.summary.financedAmount",{FINANCED_AMOUNT:Object(_.formatCurrency)(O)});case"financedAmountExVAT":return Object(g.L)("SummaryPanel.summary.financedAmount",{FINANCED_AMOUNT:Object(_.formatCurrency)(P)});case"ecoBonusIncluded":return Object(g.L)("Incentives.extraIncentives.ecologicalBonus",{INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(m))});case"effectiveRate":return Object(g.L)("FinancingOptions.effectiveRate",{EFFECTIVE_RATE:Object(_.formatNumber)(E,2)});default:return null}})),A=ne()(T).join(", ");return r.includes("disclaimerPrefix")&&(A="".concat(Object(g.L)("SummaryPanel.summary.financeDisclaimerPrefix")).concat(A)),r.includes("vatIncluded")&&(A+=". ".concat(Object(g.L)("SummaryPanel.summary.vatIncluded"),".")),r.includes("vatExcluded")&&(A+=". ".concat(Object(g.L)("SummaryPanel.summary.vatExcluded"),".")),A}},{key:"renderLoanSummary",value:function(){var e=this.props,t=e.amountAtSigning,n=e.showLoanSummaryFields,r=e.interestRate,a=e.effectiveRate,i=e.residualAmount,o=e.loanTerm,c=e.loanData,s=e.loanRate,u=e.debitRate,d=e.startFee,p=e.balloonPayment,m=e.totalAmtPaid,f=e.governmentIncentivesTotal,y=e.downPaymentPercentage,b=e.showLoanSummaryDisclaimer,v=e.ecoBonus,h=e.grossPrice,O=l()(c,"costOfCredit",0),P=l()(c,"financedAmount",0),w=l()(c,"financedAmountInclFees",0),E=l()(c,"LoanAPI.parameters.loanDistance",0),S=l()(c,"downPayment.downPaymentAmount",0),j=l()(c,"monthlyPayment",0);if(b)return Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.loan",{CASH_PRICE:Object(_.formatCurrency)(h),CASH_PRICE_PLUS_BONUS:Object(_.formatCurrency)(h+v),MONTHS:o,DISTANCE:Object(_.formatNumber)(E),RESIDUAL_AMOUNT:Object(_.formatCurrency)(i),DOWNPAYMENT:t,DOWNPAYMENT_MINUS_BONUS:Object(_.formatCurrency)(S-v),BONUS:Object(_.formatCurrency)(v),COST_CREDIT:Object(_.formatCurrency)(O),ECO_BONUS:Object(_.formatCurrency)(v),TERM_MINUS_ONE:o-1,PAYMENT:Object(_.formatCurrency)(j),EFFECTIVE_RATE:Object(_.formatNumber)(a,2),RATE:Object(_.formatNumber)(r,2),INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(f))}));var C=n.map((function(e){switch(e){case"downPayment":return Object(g.L)("SummaryPanel.down",{DOWN:t,DOWNPAYMENT_PERCENTAGE:Object(_.formatPercent)(y)});case"loanTerm":return Object(g.L)("SummaryPanel.months",{MONTHS:o});case"interestRate":return Object(g.L)("SummaryPanel.rate",{RATE:Object(_.formatNumber)(r,2)});case"loanRate":return Object(g.L)("SummaryPanel.loanRate",{RATE:Object(_.formatNumber)(s,2),DEBIT_RATE:Object(_.formatNumber)(u,2)});case"loanDistance":return Object(g.L)("SummaryPanel.summary.loanDistance",{DISTANCE:Object(_.formatNumber)(E,0)});case"effectiveRate":return Object(g.L)("FinancingOptions.effectiveRate",{EFFECTIVE_RATE:Object(_.formatNumber)(a,2)});case"residualAmount":return Object(g.L)("FinancingOptions.residualAmount",{RESIDUAL_AMOUNT:Object(_.formatCurrency)(i)});case"costOfCredit":return Object(g.L)("SummaryPanel.summary.costOfCredit",{COST_CREDIT:Object(_.formatCurrency)(O)});case"financedAmount":return Object(g.L)("SummaryPanel.summary.financedAmount",{FINANCED_AMOUNT:Object(_.formatCurrency)(P)});case"financedAmountInclFees":return Object(g.L)("SummaryPanel.summary.financedAmountInclFees",{FINANCED_AMOUNT_INCL_FEES:Object(_.formatCurrency)(w)});case"residualAmountYears":return Object(g.L)("SummaryPanel.summary.residualAmountAfterYears",{YEARS:o/12,RESIDUAL_AMOUNT:Object(_.formatCurrency)(i)});case"startFee":return Object(g.L)("SummaryPanel.summary.startFee",{START_FEE:Object(_.formatCurrency)(d)});case"balloonPayment":return Object(g.L)("SummaryPanel.balloonPayment",{BALLON_PAYMENT:Object(_.formatCurrency)(p)});case"totalAmtPaid":return Object(g.L)("SummaryPanel.totalAmtPaid",{TOTAL_AMT_PAID:Object(_.formatCurrency)(m)});case"ecoBonusIncluded":return Object(g.L)("Incentives.extraIncentives.ecologicalBonus",{INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(f))});default:return null}})),T=ne()(C).join(", ");return n.includes("disclaimerPrefix")&&(T="".concat(Object(g.L)("SummaryPanel.summary.financeDisclaimerPrefix")).concat(T)),n.includes("vatIncluded")&&(T+=". ".concat(Object(g.L)("SummaryPanel.summary.vatIncluded"),".")),n.includes("vatExcluded")&&(T+=". ".concat(Object(g.L)("SummaryPanel.summary.vatExcluded"),".")),T}},{key:"renderCashTab",value:function(){var e=this.props,t=e.destinationAndDocFee,n=e.showVAT,r=e.vatAmount,i=e.reversePricingOrder,o=e.hideAfterSavingsPrice,c=e.hideTaxesAndFeesExcluded,s=e.extraIncentives,u=e.shortPrice,d=e.recyclingFee,p=e.showAmountIncludingFees,m=e.registrationTax,f=e.regionalTax,y=e.specialTax,b=e.governmentGrant,v=e.governmentIncentivesTotal,h=e.sibling,P=e.locale,w=e.useModelYContent,E=e.configuration,S=e.showDriveAwayPrice,j=e.OMVICFee,C=e.deliveryFee,T=e.frtFee,A=e.exlFrtPrice,R=e.showFeesDisclaimer,L=e.modelCode,N=e.showChargerDisclaimer,x=e.tireFee,I=e.showTaxCalcDisclaimer,F=e.showSavingsAmount,k=e.savingsAmount,M=e.showSavingsDisclaimeronCashTab,V=e.hideAfterSavingsModal,B=e.tabIndex,q=e.model,G=e.fuelYears,U=e.isReservation,W=e.reservationAmt,Y=e.VehicleDetail,z=e.ACFee,H=e.registrationType,K=e.purchaseTax,X=e.vehiclePriceWithoutDiscounts,$=e.showEvSubsidyDisclaimer,Z=e.reservationPriceLabel,Q=e.showPaymentDisclaimers,J=e.showPurchasePrice,ee=e.deliveryPostalCode,te=e.transportationFee,ne=e.isTransportFeeEnabled,re=e.isTransportFeeCollectionEnabled,ae=e.isDeliveryDetailsValid,oe=e.userHasApplePay,ce=e.isEstimatedPrice,se=e.incentiveTotalInPurchasePrice,le=e.stateContribution,ue=e.sellerDiscount,de=e.fuelReward,pe=Z||(S?"FinancingOptions.drive_away_price":"Review.purchase_price"),me=R?"SummaryPanel.disclaimers.fees__Disclamier":"SummaryPanel.disclaimers.otherFees",fe=l()(W,"second",0),ye=[U&&Y?a.a.createElement("li",{className:"tds-list-item tds-text_color--10",key:"reservationQty"},Object(g.L)("Reservation.".concat(L,".").concat(Y.series),{QTY:Y.qty})):null,J?a.a.createElement("li",{className:"tds-list-item",key:"beforeSavingsPriceCash"},a.a.createElement("span",{className:"left tds-text--500 tds-text_color--10"},Object(g.L)("".concat(pe))),a.a.createElement("span",{className:"tds-text--end tds-text--500 tds-text_color--10"},u.beforeSavingsPrice)):null,!1===o?a.a.createElement("li",{className:"tds-list-item",key:"afterSavingsPriceCash"},a.a.createElement("span",{className:"left tds-text--400 tds-text_color--10"},Object(g.L)("Review.est_savings_total")),a.a.createElement("span",{className:"tds-text--end tds-text--400 tds-text_color--10"},u.afterSavingsPrice)):null,!re&&ne&&ae&&te?a.a.createElement("li",{className:"tds-list-item",key:"transportationFeeCash"},a.a.createElement("span",{className:"left tds-text--400"},oe?a.a.createElement(ie.a,null,Object(g.K)(Object(g.L)("DeliveryLocation.estimate_transport_fee_label_short_with_action",{TRIGGER:O.ig,POSTAL_CODE:ee}))):null,oe?null:Object(g.L)("DeliveryLocation.estimate_transport_fee_label_short",{POSTAL_CODE:ee})),a.a.createElement("span",{className:"tds-text--end tds-text--400"},Object(_.formatCurrency)(te))):null,U&&fe&&Q?a.a.createElement("li",{className:"tds-list-item tds-text_color--10",key:"totalDueAmount"},a.a.createElement("span",{className:"left"},Object(g.L)("Reservation.payment_due")),a.a.createElement("span",null,Object(_.formatCurrency)(fe))):null];i&&ye.reverse();var be=p&&!t&&!m&&!j&&!C&&!T&&!K;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"tds--vertical_padding pricing-container"},a.a.createElement("div",{className:"price-block"},a.a.createElement("ul",{className:"tds-list"},ye),!1===c?a.a.createElement(He,null):null,null!=de&&de.amount?a.a.createElement("div",{className:"tds-text--caption review-page--fuel-reward-disclaimer"},Object(g.L)("Incentives.clean_fuel_reward.disclaimer",{INCENTIVE_AMOUNT:null==de?void 0:de.formattedAmt,NAME_OF_INCENTIVE:null==de?void 0:de.title,STATE:null==de?void 0:de.regionName})):null,N?a.a.createElement("p",{className:"tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.superchargerDisclaimer.".concat(L))):null,n?a.a.createElement("p",{className:"tds-text--caption tds--vertical_padding-bottom"},w||$?Object(g.L)("SummaryPanel.disclaimers.myVatAmount"):Object(g.L)("SummaryPanel.disclaimers.vatAmount",{VAT_AMOUNT:Object(_.formatCurrency)(r)})):null,$?a.a.createElement("p",{className:"tds-text--caption tds--vertical_padding-bottom"},Object(g.L)("SummaryPanel.disclaimers.evSubsidyAmount",{INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(se))})):null,p&&!be?a.a.createElement("div",{className:"items price review-page--disclaimer tds-text--caption tds--vertical_padding-bottom"},Object(g.K)(Object(g.L)("".concat(me),{DOC_FEE:Object(_.formatCurrency)(t),REGISTRATION_TAX:Object(_.formatCurrency)(m),OMVIC_FEE:Object(_.formatCurrency)(j),DELIVERY_FEE:Object(_.formatCurrency)(C),FRT_FEE:T,CASH_PRICE:A,VEHICLE_PRICE_WITHOUT_DISCOUNTS:Object(_.formatCurrency)(X),AC_FEE:Object(_.formatCurrency)(z),PURCHASE_TAX:K},null,{returnNullWhenEmpty:!0})||"")):null,ce?a.a.createElement("p",{className:"tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.myTaxesAndFees")):null,Object(g.j)(s,E,H,v).map((function(e){return a.a.createElement("div",{className:"items price review-page--disclaimer tds-text--caption",key:e},Object(g.K)(Object(g.L)("Incentives.extraIncentives.".concat(e),{LINK_TARGET:"_blank",REGISTRATION_TAX:Object(_.formatCurrency)(m),REGIONAL_TAX:Object(_.formatCurrency)(f,null,{precision:2}),SPECIAL_TAX:Object(_.formatCurrency)(y),LINK_SUPPORT_INCENTIVES:Object(g.e)("support/incentives?redirect=no",h,P),GOVERNMENT_GRANT:Object(_.formatCurrency)(b),INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(v)),RECYCLING_FEE:d,TIRE_FEE:x,STATE_CONTRIB:Object(_.formatCurrency)(Math.abs(le)),SELLER_DISCOUNT:Object(_.formatCurrency)(Math.abs(ue))})))})),I?a.a.createElement("div",{className:"items price review-page--disclaimer tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.taxCalculation")):null,F?a.a.createElement("ul",{className:"tds-list"},a.a.createElement("li",{className:"tds-list-item"},a.a.createElement("span",{className:"left tds-text--400"},Object(g.L)("common.potentialSavings")),a.a.createElement("span",{className:"tds-text--end tds-text--400"},k))):null,M&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"tds-text--caption"},Object(g.L)("SummaryPanel.disclaimers.savingsAfterPurchase",{NUM_FUEL_YEAR:G},null,{specificOverride:L})),V?null:a.a.createElement(D.a,{tabIndex:B,options:{props:{componentName:"GasSaving",props:{genericWrapper:!0,size:O.qd,modelName:q.name,modelCode:L}}}},a.a.createElement("span",{className:"tds-link tds-text--caption"},Object(g.L)("Review.savings_link_label")))))))}},{key:"renderPricingDetails",value:function(){var e=this.props,t=e.model,n=e.destinationAndDocFee,r=e.incentives,i=e.incentivesTotal,o=e.tcc,c=e.fuelYears,s=e.modelCode,l=e.hideAfterSavingsPrice,u=e.cashPrice,d=e.cashPriceExVAT,p=e.recyclingFee,m=e.tireFee,f=e.showPrpLink,y=e.showdestinationAndDocFee,b=e.hideDestinationDocFee,v=e.hideAfterSavingsModal,h=e.specialTax,O=e.registrationTax,P=e.showRegistrationTax,_=e.governmentGrant,w=e.governmentIncentivesTotal,E=e.governmentIncentivesPeriod,S=e.showRegionalTaxTypes,j=e.showDistinctTaxTotal,C=e.vehiclePriceInclFees,T=e.regionalTaxValues,A=e.showDriveAwayPrice,D=e.showSavingsDisclaimer,R=e.deliveryFee,L=e.OMVICFee,N=e.gstSalePrice,x=e.onRoadfeesTotal,I=e.regionalTax,F=e.showRegionalTax,k=e.summaryRegionalFees,M=e.showIncentivesSectionTitle,V=e.showOtherFeesinSummary,B=e.showOrderPageSummaryOtherFees,q=e.showTaxCalcDisclaimer,G=e.cashTabIncentives,U=e.isReservation,W=e.showDOCandOMVICfees,Y=e.showVATBreakdown,z=e.vatAmount,H=e.ACFee,K=e.showOtherLoanTerms,X=e.showGrossPriceTotal,$=e.grossPrice,Z=e.netPrice,Q=e.loanType,te=e.showVatDisclaimer,ne=e.showGovernmentSubsidy,re=e.totalSavings,ie=e.fuelReward,oe=this.state.isOpen,ce=oe?0:-1,se={incentives:r,tcc:o,model:t,incentivesTotal:i,fuelYears:c,destinationAndDocFee:n,modelCode:s,hideAfterSavingsPrice:l,handleToggle:this.handleToggle,recyclingFee:p,tireFee:m,summaryRegionalFees:k,showIncentivesSectionTitle:M,showPrpLink:f,showdestinationAndDocFee:y,cashPrice:u,cashPriceExVAT:d,hideDestinationDocFee:b,hideAfterSavingsModal:v,specialTax:h,registrationTax:O,showRegistrationTax:P,governmentGrant:_,governmentIncentivesTotal:w,governmentIncentivesPeriod:E,showRegionalTaxTypes:S,vehiclePriceInclFees:C,showDistinctTaxTotal:j,regionalTaxValues:T,showDriveAwayPrice:A,showSavingsDisclaimer:D,OMVICFee:L,deliveryFee:R,gstSalePrice:N,onRoadfeesTotal:x,regionalTax:I,showRegionalTax:F,showOtherFeesinSummary:V,tabIndex:ce,showOrderPageSummaryOtherFees:B,showTaxCalcDisclaimer:q,cashTabIncentives:G,isReservation:U,showDOCandOMVICfees:W,showVATBreakdown:Y,vatAmount:z,ACFee:H,showOtherLoanTerms:K,showGrossPriceTotal:X,grossPrice:$,netPrice:Z,loanType:Q,showVatDisclaimer:te,showGovernmentSubsidy:ne,totalSavings:re,fuelReward:ie};return U?null:a.a.createElement("section",{className:"review-page--pricing tds-o-text_color--20"},a.a.createElement("div",{className:"pricing-container"},a.a.createElement("div",{className:"price-block"},a.a.createElement(J.Collapse,{isOpened:oe,springConfig:ee.presets.noWobble},a.a.createElement("div",{className:"collapse-container"},a.a.createElement("section",{className:"review-page--content review-page--summary"},a.a.createElement("div",{className:"review-page--body"},a.a.createElement("div",{className:"review-page--blocks"},a.a.createElement(Ue,se)))))),a.a.createElement("div",{className:"collapse-container"},a.a.createElement(ae.a,{id:"pricing-read-more",expanded:oe,label:Object(g.L)(oe?"common.hideDetails":"common.showDetails"),onChange:this.handleToggle,small:!0})))))}},{key:"renderUpdatedPricingDisclaimer",value:function(){var e=this.props,t=e.modifyOrder,n=e.model;return t?a.a.createElement("div",{className:"review-page--update-pricing"},a.a.createElement("div",{className:"tds-label-title"},Object(g.L)("SummaryPanel.disclaimers.updatedPricingTitle")),a.a.createElement("div",{className:"tds-label-descriptor"},Object(g.L)("SummaryPanel.disclaimers.updatedPricingDisclaimer",{MODEL:l()(n,"name","Tesla")}))):null}},{key:"renderCashTabAsSingle",value:function(){return a.a.createElement(a.a.Fragment,null,this.renderPricingDetails(),a.a.createElement("div",{className:"tds-tabs tds-tabs--toggle tds-tabs--animated"},this.renderCashTab()))}},{key:"render",value:function(){var e=this,t=this.props,n=t.loanAfterSaving,r=t.activeFinanceTypes,i=t.reversePricingOrder,o=t.hideAfterSavingsPrice,c=t.showSavingsAmount,s=t.savingsAmount,u=t.shortPrice,d=t.showBeforeSavingsPriceFinancingLabel,p=t.leaseExtraIncentives,m=t.configuration,f=t.showFormattedMonthlyPayment,y=t.includeTeslaInsurance,b=t.insuranceAmount,v=t.showLoanFieldsOrderPage,h=t.interestRate,P=t.fuelYears,w=t.registrationType,E=t.showOtherLoanTerms,S=t.financeTabs,j=t.monthlyLeasePayment,C=t.financeProductId,T=t.showMonthlyPaymentQuote,A=t.loanType,D=t.selectedTab,R=t.governmentIncentivesTotal,L=t.financeProductByType,N=t.driverType;if(1===r.length&&"cash"===r[0])return this.renderCashTabAsSingle();var x=[a.a.createElement("li",{className:"tds-list-item",key:"beforeSavingsPriceLoan"},a.a.createElement("span",{className:"left tds-text--500 tds-text_color--10"},(d||!d&&r.includes("loan"))&&Object(g.L)("SummaryPanel.est_payment_label")),a.a.createElement("span",{className:"tds-text--end tds-text--500 tds-text_color--10"},a.a.createElement("span",null,u.beforeSavingsPrice),f&&!E||T?a.a.createElement("span",null,a.a.createElement("sup",null,"*")):null)),!1!==o||f?null:a.a.createElement("li",{className:"tds-list-item",key:"afterSavingsPriceLoan"},a.a.createElement("span",{className:"left tds-text--400 tds-text_color--10"},Object(g.L)("Review.loan_savings_label")),a.a.createElement("span",{className:"tds-text--end tds-text--400 tds-text_color--10"},n))],I=[a.a.createElement("li",{className:"tds-list-item",key:"beforeSavingsPriceLease"},a.a.createElement("span",{className:"left tds-text--500 tds-text_color--10"},(d||!d&&r.includes("lease"))&&Object(g.L)("SummaryPanel.est_lease_payment_label")),a.a.createElement("span",{className:"tds-text--end tds-text--500 tds-text_color--10"},u.beforeSavingsPrice)),!1===o?a.a.createElement("li",{className:"tds-list-item",key:"afterSavingsPriceLease"},a.a.createElement("span",{className:"left tds-text--400 tds-text_color--10"},Object(g.L)("Review.lease_savings_label")),a.a.createElement("span",{className:"tds-text--end tds-text--400 tds-text_color--10"},u.afterSavingsPrice)):null];i&&(x.reverse(),I.reverse());var F=[],k=[],M=L.length>0&&L.find((function(e){return e.type===N}));return l()(M,"financeOpts",S).map((function(t){var n=t.financeType,r=t.label,i=t.id,o=A?Object(g.L)("FinancingOptions.aprLabel__".concat(A)):Object(g.L)("FinancingOptions.aprLabel");switch(n){case O.rc.CASH:F.push(a.a.createElement("section",{id:"cash",role:"tabpanel","aria-labelledby":"cash",className:"review-page--pricing",key:"PricingSection__cash",label:r},e.renderCashTab())),k.push({id:"cash",label:r});break;case O.rc.LEASE:F.push(a.a.createElement("section",{id:i,role:"tabpanel","aria-labelledby":i,className:"review-page--pricing",key:"PricingSection__".concat(i),label:r},a.a.createElement("div",{className:"tds--vertical_padding pricing-container"},j?a.a.createElement("div",{className:"price-block"},a.a.createElement("ul",{className:"tds-list"},I,c?a.a.createElement("li",{className:"tds-list-item",key:"showSavingsAmountLease"},a.a.createElement("span",{className:"left tds-text--400 tds-text_color--10"},Object(g.L)("common.savingsAmount",{NUM_FUEL_YEAR:P})),a.a.createElement("span",{className:"tds-text--end tds-text--400 tds-text_color--10"},s)):null),a.a.createElement("p",{className:"items price review-page--disclaimer tds-text--caption"},e.renderLeaseSummary()),Object(g.j)(p,m,w,R).map((function(e){return a.a.createElement("p",{className:"items price review-page--disclaimer tds-text--caption",key:e},Object(g.K)(Object(g.L)("Incentives.extraIncentives.".concat(e),{INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(R))})))}))):a.a.createElement("div",{className:"price-undefined"},Object(g.K)(Object(g.L)("FinancingOptions.lease__undefined",null,null,{specificOverride:C}))),a.a.createElement(We,null)))),k.push({id:i,label:r});break;case O.rc.LOAN:F.push(a.a.createElement("section",{id:i,role:"tabpanel","aria-labelledby":i,className:"review-page--pricing",key:"PricingSection__".concat(i),label:r},a.a.createElement("div",{className:"tds--vertical_padding pricing-container"},a.a.createElement("div",{className:"price-block"},a.a.createElement("ul",{className:"tds-list"},x),y?a.a.createElement("span",{className:"items price review-page--disclaimer tds-text--caption"},Object(g.L)("TeslaInsurance.price_disclaimer",{INSURANCE_AMT:Object(_.formatCurrency)(b)})):null,v.includes("interestRate")?a.a.createElement("div",{className:"items price"},a.a.createElement("span",{className:"left"},o),a.a.createElement("span",{className:"right"},Object(g.L)("FinancingOptions.apr",{APR:h}))):null,c?a.a.createElement("ul",{className:"tds-list"},a.a.createElement("li",{className:"tds-list-item line_item__savings",key:"showSavingsAmountLoan"},a.a.createElement("span",{className:"left"},Object(g.L)("common.savingsAmount",{NUM_FUEL_YEAR:P})),a.a.createElement("span",null,s))):null,a.a.createElement("div",{className:"items price review-page--disclaimer tds-text--caption"},e.renderLoanSummary()),v.includes("additionalInfo")?a.a.createElement("div",{className:"finance_info"},Object(g.L)("FinancingOptions.additionalInfo")):null),a.a.createElement(We,null)))),k.push({id:i,label:r})}return null})),a.a.createElement(a.a.Fragment,null,this.renderPricingDetails(),this.renderUpdatedPricingDisclaimer(),L.length>0?a.a.createElement("div",{className:"cf-selection__driverType tds-o-vertical_padding-top"},a.a.createElement(Ke.a,{onClick:this.toggleDriverType,options:L,inline:!0,tabIndex:0})):null,a.a.createElement("div",{className:"tds-tabs tds-tabs--toggle tds-tabs--animated"},a.a.createElement(Ye.a,{type:O.we,items:k,selected:D,source:O.ae,label:Object(g.L)("common.Select_Finance_Solutions")}),a.a.createElement("div",{className:"tab-content"},F.map((function(e){return e.props.id===D?e.props.children:null})))))}}])&&$e(t.prototype,n),r&&$e(t,r),o}(r.Component),at=o.a.string,it=o.a.number,ot=o.a.bool,ct=o.a.shape,st=o.a.func,lt=o.a.oneOfType,ut=o.a.arrayOf;rt.propTypes={modelCode:at,cashPrice:ct({afterSavingsPrice:at,beforeSavingsPrice:at}),cashPriceExVAT:ct({afterSavingsPrice:at,beforeSavingsPrice:at}),shortPrice:ct({afterSavingsPrice:at,beforeSavingsPrice:at}),monthlyPayment:at,amountAtSigning:at,loanTerm:it,interestRate:it,loanAfterSaving:at,destinationAndDocFee:it,incentives:ct({}),tcc:ct({}),leaseMileage:it,hideAfterSavingsPrice:ot,showSavingsAmount:ot.isRequired,showAmountIncludingFees:ot,hideAfterSavingsModal:ot,showPrpLink:ot,showBeforeSavingsPriceLeaseLabel:ot,showLeaseSummaryDisclaimer:ot,showSecondDepositDisclaimer:ot,configuration:ut(at),leaseExtraIncentives:ut(at),locale:at.isRequired,sibling:at.isRequired,showSavingsDisclaimer:ot,showLoanFieldsOrderPage:ut(at),showDOCandOMVICfees:ot,setPricingDetails:st,showLoanSummaryDisclaimer:ot,vehiclePriceWithoutDiscounts:it,showPaymentDisclaimers:ot,downPayment:it,downPaymentPercentage:it,showLeaseSummaryFields:ut(at),leaseTerm:it,ecoBonus:it,leaseData:ct({}),showCustomizeLabel:ot,leaseRate:it,governmentIncentivesTotal:it,showLoanSummaryFields:ut(at),effectiveRate:it,residualAmount:it,loanData:ct({}),loanRate:it,debitRate:it,startFee:it,totalAmtPaid:it,balloonPayment:it,grossPrice:it,showVAT:ot,vatAmount:it,reversePricingOrder:ot,hideTaxesAndFeesExcluded:ot,extraIncentives:ut(at),recyclingFee:lt([it,ot]),registrationTax:it,regionalTax:it,showDriveAwayPrice:ot,specialTax:it,governmentGrant:it,showdestinationAndDocFee:ot,incentivesTotal:lt([it,at]),fuelYears:it,model:ct({name:""}),tireFee:lt([it,ot]),hideDestinationDocFee:ot,showRegistrationTax:ot,governmentIncentivesPeriod:at,showRegionalTaxTypes:ut(at),showDistinctTaxTotal:ot,vehiclePriceInclFees:it,regionalTaxValues:ct(),deliveryFee:it,OMVICFee:it,gstSalePrice:it,onRoadfeesTotal:it,showRegionalTax:ot,summaryRegionalFees:ot,showIncentivesSectionTitle:ot,showOtherFeesinSummary:ot,showOrderPageSummaryOtherFees:ot,showTaxCalcDisclaimer:ot,isReservation:ot,cashTabIncentives:ct({}),showVATBreakdown:ot,ACFee:it,showOtherLoanTerms:ot,showGrossPriceTotal:ot,netPrice:it,activeFinanceTypes:ut(at),savingsAmount:at,showFormattedMonthlyPayment:ot,includeTeslaInsurance:ot,insuranceAmount:it,registrationType:at,useModelYContent:ot,frtFee:at,exlFrtPrice:at,showFeesDisclaimer:ot,showChargerDisclaimer:ot,showSavingsDisclaimeronCashTab:ot,tabIndex:it,reservationAmt:it,VehicleDetail:ct({series:at,qty:it}),purchaseTax:lt([it,at]),showEvSubsidyDisclaimer:lt([ot,at]),reservationPriceLabel:at,financeProductId:at,modifyOrder:ot,showPurchasePrice:ot,deliveryPostalCode:at,transportationFee:it,isTransportFeeEnabled:ot,isDeliveryDetailsValid:ot,userHasApplePay:ot,isEstimatedPrice:ot,incentiveTotalInPurchasePrice:it,showBeforeSavingsPriceFinancingLabel:ot,financeTabs:ut(ct({})).isRequired,monthlyLeasePayment:it,isTransportFeeCollectionEnabled:ot,showMonthlyPaymentQuote:ot,loanType:at,sellerDiscount:it,stateContribution:it,showVatDisclaimer:ot,showGovernmentSubsidy:ot,financeProductByType:ut(ct({})),selectedTab:lt([it,at]).isRequired,setDrivertype:st,triggerSelectTab:st.isRequired,selectedFinanceProduct:at.isRequired,totalSavings:it,fuelReward:ct({amount:it,formattedAmt:at,title:at,regionName:at}),driverType:at},rt.contextTypes={i18n:st},rt.defaultProps={cashPrice:{afterSavingsPrice:"",beforeSavingsPrice:""},cashPriceExVAT:{afterSavingsPrice:"",beforeSavingsPrice:""},shortPrice:{afterSavingsPrice:"",beforeSavingsPrice:""},showAmountIncludingFees:!1,monthlyPayment:"",amountAtSigning:"",loanTerm:null,interestRate:null,leaseMileage:null,loanAfterSaving:"",destinationAndDocFee:null,incentives:{},tcc:{},hideAfterSavingsPrice:!1,showPrpLink:!1,hideAfterSavingsModal:!1,showBeforeSavingsPriceLeaseLabel:!0,showLeaseSummaryDisclaimer:!1,showSecondDepositDisclaimer:!0,configuration:[],leaseExtraIncentives:[],showSavingsDisclaimer:!0,setPricingDetails:function(){},showLoanFieldsOrderPage:[],showDOCandOMVICfees:!0,showLoanSummaryDisclaimer:!1,vehiclePriceWithoutDiscounts:0,showPaymentDisclaimers:!0,downPayment:0,downPaymentPercentage:0,showLeaseSummaryFields:[],leaseTerm:0,ecoBonus:0,leaseData:{},showCustomizeLabel:!1,leaseRate:0,governmentIncentivesTotal:0,showLoanSummaryFields:[],effectiveRate:0,residualAmount:0,loanData:{},loanRate:0,debitRate:0,startFee:0,totalAmtPaid:0,balloonPayment:0,grossPrice:0,showVAT:!1,vatAmount:0,reversePricingOrder:!1,hideTaxesAndFeesExcluded:!1,extraIncentives:[],recyclingFee:0,registrationTax:0,regionalTax:0,showDriveAwayPrice:!1,specialTax:0,governmentGrant:0,showdestinationAndDocFee:!1,incentivesTotal:0,fuelYears:0,modelCode:"",model:{},tireFee:0,showRegistrationTax:!1,governmentIncentivesPeriod:"",hideDestinationDocFee:!1,showRegionalTaxTypes:"",showDistinctTaxTotal:!1,vehiclePriceInclFees:0,regionalTaxValues:[],deliveryFee:0,OMVICFee:0,gstSalePrice:0,onRoadfeesTotal:0,showRegionalTax:!1,summaryRegionalFees:!1,showIncentivesSectionTitle:!1,showOtherFeesinSummary:!1,showOrderPageSummaryOtherFees:!1,showTaxCalcDisclaimer:!1,isReservation:!1,cashTabIncentives:{},showVATBreakdown:!1,ACFee:!1,showOtherLoanTerms:!1,showGrossPriceTotal:!1,netPrice:0,activeFinanceTypes:[],savingsAmount:"",showFormattedMonthlyPayment:!1,includeTeslaInsurance:!1,insuranceAmount:0,registrationType:"",useModelYContent:!1,frtFee:0,exlFrtPrice:"",showFeesDisclaimer:!1,showChargerDisclaimer:!1,showSavingsDisclaimeronCashTab:!1,tabIndex:-1,reservationAmt:0,VehicleDetail:{},purchaseTax:0,showEvSubsidyDisclaimer:null,reservationPriceLabel:"",financeProductId:"",modifyOrder:!1,showPurchasePrice:!1,deliveryPostalCode:"",transportationFee:0,isTransportFeeEnabled:!1,isDeliveryDetailsValid:!1,userHasApplePay:!1,isEstimatedPrice:!1,incentiveTotalInPurchasePrice:0,showBeforeSavingsPriceFinancingLabel:!1,monthlyLeasePayment:0,isTransportFeeCollectionEnabled:!1,showMonthlyPaymentQuote:!1,loanType:"",sellerDiscount:0,stateContribution:0,showVatDisclaimer:!1,showGovernmentSubsidy:!1,financeProductByType:[],setDrivertype:function(){},totalSavings:0,fuelReward:{},driverType:null};var dt=n(37),pt=n.n(dt),mt=n(15),ft=n(67),yt=n.n(ft),bt=n(110),vt=n.n(bt),gt=n(141),ht=n.n(gt),Ot=n(395),Pt=n(827),_t=n(401),wt=n(399),Et=n(828),St=n(114),jt=n(400);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lt=O.hf.MT,Nt=O.hf.MTF,xt=function(e){var t=Object(r.useRef)(),n=e.market,i=e.showAccountTypeSwitch,o=e.registrationType,c=e.extraBusinessFields,s=e.showLocalName,l=e.extraPersonalFields,u=e.userFilledInData,d=e.emailExists,p=void 0===d?{}:d,m=e.registration,f=e.identificationLabel,y=e.model,v=e.country,h=e.locale,P=e.sibling,_=e.showLegalConsent,w=e.showAccountDetailDisclaimer,S=e.setValidFlag,j=e.updateAccountDetails,C=e.doEmailAvailabilityCheck,T=e.checkEmailAvailability,A=e.updateAccountIDTypeLabel,D=e.accountFormValid,R=p.flag,L=p.email;Object(r.useEffect)((function(){var e,n=((null==t||null===(e=t.current)||void 0===e?void 0:e.getState())||{}).values,r=(n=void 0===n?{}:n).userPassword;R||(void 0===r?"":r)||S(!1)}),[R]);var N=c.includes(O.bc)?Object(St.getVatNumberFormat)(n,O.Ue):null,x=m.showPrivateFields?Object(St.getVatNumberFormat)(n,O.We):null,I=f?Object(g.L)(f):"",F=[O.E,O.Td,O.Ud].map((function(e){return{label:Object(g.L)("Review.".concat(e)),key:e,value:e}}));Object(r.useEffect)((function(){var e,n,r=((null==t||null===(e=t.current)||void 0===e?void 0:e.getState())||{}).values,a=(r=void 0===r?{}:r).registrationType;a&&o!==a&&(null==t||null===(n=t.current)||void 0===n||n.setValue("registrationType",o))}),[o]);var k,M,V=function(e){return e&&!Object(g.h)(e)&&Object(g.L)("common.errors__firstLastNameNotValid")},B=function(e){return e&&!Object(b.email)(e)&&Object(g.L)("common.errors__emailNotValid")},q=function(e){return e&&!Object(b.isValidPassword)(e)&&Object(g.L)("common.errors__passwordReqs")},G=/^[0-9\+\(\)\[\]\s\.\-\#\*]+$/,U=function(e){return e&&!G.test(e)&&Object(g.L)("common.errors__phonenumberNotValid")},W=function(e,t){var r=t.values.registrationType;return!(void 0===e||!e.length||Object(St.isvalidVatNumber)(n,e,r))&&(r===O.We&&m.showPrivateFields?Object(g.L)("common.errors__privateVatNumberNotValid",{VAT_NUMBER_FORMAT:Object(St.getVatNumberFormat)(n,r)}):Object(g.L)("common.errors__vatNumberNotValid",{VAT_NUMBER_FORMAT:Object(St.getVatNumberFormat)(n,r)}))},Y=function(e,t){var r=t.values.registrationType,a=!1;return void 0!==e&&e.length&&(a="GB"===n?e.match(/^\d{8}$/)||e.match(/^SC\d{6}$/)||e.match(/^NI\d{6}$/):e.match(Object(St.getVatNumberRegex)(n,r)||/^\d{18}$/)),!a&&Object(g.L)("common.errors__pattern_chamber_of_commerce")},z=function(e,t){var r=t.values.identificationType,a=void 0===r?O.E:r,i=new RegExp(Object(jt.getIDRegex)(n,a));return!(void 0===e||!e.length||i.test(e))&&Object(g.L)("common.errors__pattern_identification_number")},H=function(e){return Object(g.L)("common.errors__minlength",{MINLENGTH:e})},K=y===Lt||y===Nt?Object(g.K)(Object(g.L)("Review.cc_agreement_mvoa_consent_reservation",{ROADSTER_RESERVATION_AGREEMENT_URL:Object(g.e)("sites/all/modules/custom/tesla_smartling/smartling/api-translations/documents/reservation-agreement/".concat(h.replace("_","-"),"/TeslaRoadsterReservationAgreement.pdf"),P)})):Object(g.K)(Object(g.L)("Review.cc_agreement_mvoa_consent",{ORDER_AGREEMENT_URL:Object(g.e)("order/download-order-agreement?country=".concat(v,"&model_code=").concat(y),P,h)})),X=o===O.Ue&&yt()(l,O.D)&&null!=u&&u.LastName?null===(k=window.tesla)||void 0===k||null===(M=k.user)||void 0===M?void 0:M.lastName:null,$=Object.entries(u).reduce((function(e,t){var n=Dt(t,2),r=n[0],a=n[1];switch(r){case O.d:e["".concat(O.Te[0].toLowerCase()+O.Te.slice(1))]=a;break;default:e["".concat(r[0].toLowerCase()+r.slice(1))]=a}return e}),{});X&&($=Tt(Tt({},$),{},{chineseTitle:X}));var Z=function(e){var t=e.value;t&&Object(b.email)(t)&&t!==L&&C&&T(t,"")},Q=function(){var e,n=(null==t||null===(e=t.current)||void 0===e?void 0:e.getState())||{},r=n.values,a=n.errors,o=r.mvoaConsent,c=r.privacyConsent,s=r.termUseConsent,l=r.registrationType,u=r.companyName,d=void 0===u?null:u,p=r.companyNumber,m=void 0===p?null:p,f=r.vatId,y=void 0===f?null:f,b=r.privateVatId,v=void 0===b?null:b,g=r.identificationType,h=void 0===g?null:g,P=r.identificationNumber,w=void 0===P?null:P,E=r.userPassword,C=void 0===E?null:E,T=r.localName,A=void 0===T?"":T,L=r.firstName,N=void 0===L?"":L,x=r.lastName,I=void 0===x?"":x,F=r.email,k=void 0===F?null:F,M=r.phoneNumber,V=void 0===M?null:M,B=Object.keys(a).length,q=!(l!==O.Ue),G=!(l!==O.We),U=G?m:null,W=!1;!_.length||o&&c&&s||(W=!0),(W||B&&D)&&S(!1);var Y={LocalName:A,FirstName:N,CCFirstName:N,LastName:I,CCLastName:I,Email:k,PhoneNumber:V,Password:R?null:C,AccountType:i?l||O.We:"",CompanyName:q?d:null,CompanyNumber:q?m:null,VatId:q?y:null,PrivateVatId:G?v:null,IdentificationType:G?h:"",IdentificationNumber:w||U};j(Y)},J=function(e){var t=e.value;A({value:t}),Q()},ee=a.a.useCallback(vt()(Q,500),[Q]),te=e.title;return a.a.createElement(Ot.a,{formApiRef:t,initialValues:$,errorMessage:{required:ht()(Object(g.L)("common.errors__required"))},onInvalid:function(){S(!1)},onValid:function(){S(!0)},validateOnMountNoTouch:!0},(function(e){var t=e.formState;return a.a.createElement("fieldset",{className:"tds-form-fieldset"},a.a.createElement("legend",{className:"tds-form-legend tds-form-item-label tds--is_invisible"},te),a.a.createElement(mt.Relevant,{when:function(){return i}},a.a.createElement(Pt.a,{name:"registrationType",options:[{value:O.We,label:Object(g.L)("Review.account_in_".concat(O.We))},{value:O.Ue,label:Object(g.L)("Review.account_in_".concat(O.Ue))}],keepState:!0,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return s}},a.a.createElement(_t.a,{name:"localName",label:Object(g.L)("Review.account_localname_label"),keepState:!0,showErrorIfDirty:!0,id:O.ed,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return t.values.registrationType===O.Ue&&yt()(c,O.Qb)}},a.a.createElement(_t.a,{name:"companyName",id:O.Qb,label:Object(g.L)("Review.account_company_name_label"),minLength:2,errorMessage:{minLength:H(2)},required:!0,keepState:!0,showErrorIfDirty:!0,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return t.values.registrationType===O.Ue&&yt()(c,O.y)||t.values.registrationType===O.We&&yt()(l,O.y)}},a.a.createElement(_t.a,{name:"companyNumber",id:O.y,label:Object(g.L)("Review.account_chamber_of_commerce_label"),validate:Y,required:!0,keepState:!0,showErrorIfDirty:!0,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return i&&t.values.registrationType===O.We&&yt()(l,O.D)&&!!X}},a.a.createElement(_t.a,{name:"chineseTitle",id:O.D,label:Object(g.L)("Review.account_chinese_title_label"),disabled:!0,keepState:!0,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return t.values.registrationType===O.Ue&&yt()(c,O.bc)}},a.a.createElement(_t.a,{name:"vatId",id:O.bc,label:Object(g.L)("Review.BillingInfo.Form.vat_id"),placeholder:N,validate:W,required:!0,keepState:!0,showErrorIfDirty:!0,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return t.values.registrationType===O.We&&m.showPrivateFields}},a.a.createElement(_t.a,{name:"privateVatId",id:O.Yb,label:Object(g.L)("Review.BillingInfo.Form.private_vat_id"),placeholder:x,validate:W,required:!0,keepState:!0,showErrorIfDirty:!0,onChange:ee})),a.a.createElement("div",{className:E()("tds-flex tds-flex--center tds-flex--full tds-flex--large_fit",{"form-account-group":"CN"===n}),style:{width:"100%"}},a.a.createElement(_t.a,{name:"firstName",id:O.nc,label:Object(g.L)("Review.account_firstname_label"),maxLength:50,validate:V,required:!0,onChange:ee}),a.a.createElement(_t.a,{name:"lastName",id:O.Yc,label:Object(g.L)("Review.account_lastname_label"),maxLength:50,validate:V,required:!0,onChange:ee})),a.a.createElement(_t.a,{name:"email",id:O.qb,label:Object(g.L)("Review.account_email_label"),maxLength:50,validate:B,required:!0,onBlur:Z,onChange:ee}),a.a.createElement(mt.Relevant,{when:function(){return!R}},a.a.createElement(_t.a,{name:"userPassword",id:O.Vd,label:Object(g.L)("Review.account_password_label"),maxLength:100,type:"password",validate:q,autocomplete:"new-password",required:!0,validateOnMountNoTouch:!0,onChange:ee})),a.a.createElement(_t.a,{name:"phoneNumber",id:O.te,label:Object(g.L)("Review.account_phonenumber_label"),minLength:8,maxLength:50,validate:U,required:!0,errorMessage:{minLength:H(8)},onChange:ee}),a.a.createElement(mt.Relevant,{when:function(){return i&&t.values.registrationType===O.We}},a.a.createElement(mt.Relevant,{when:function(){return yt()(l,O.Ic)}},a.a.createElement(wt.a,{name:"identificationType",label:Object(g.L)("Review.account_identification_type_label"),options:F,onChange:J,key:"personalFields__".concat(O.Ic),keepState:!0})),a.a.createElement(mt.Relevant,{when:function(){return yt()(l,O.Hc)}},a.a.createElement(_t.a,{name:"identificationNumber",id:O.Hc,label:I+Object(g.L)("Review.id_type_suffix"),minLength:1,maxLength:30,validate:z,errorMessage:{minLength:H(1)},keepState:!0,showErrorIfDirty:!0,onChange:ee}))),a.a.createElement(mt.Relevant,{when:function(){return _.length}},a.a.createElement(Et.a,{name:"privacyConsent",id:O.Je,label:Object(g.K)(Object(g.L)("Review.cc_agreement_privacy_consent")),required:!0,onChange:ee}),a.a.createElement(Et.a,{name:"mvoaConsent",id:O.wd,label:K,required:!0,onChange:ee}),a.a.createElement(Et.a,{name:"termUseConsent",id:O.cg,label:Object(g.K)(Object(g.L)("Review.cc_agreement_term_of_use_consent")),required:!0,onChange:ee})),a.a.createElement(mt.Relevant,{when:function(){return w}},a.a.createElement("p",{className:"tds-text--caption"}," ",Object(g.L)("Review.account_detail_disclaimer"))))}))};xt.propTypes={title:o.a.string,extraPersonalFields:o.a.instanceOf(Array),updateAccountDetails:o.a.func.isRequired,updateAccountIDTypeLabel:o.a.func.isRequired,doEmailAvailabilityCheck:o.a.bool.isRequired,market:o.a.string.isRequired,model:o.a.string.isRequired,locale:o.a.string,sibling:o.a.string,setValidFlag:o.a.func.isRequired,registrationType:o.a.string,registration:o.a.shape({showPrivateFields:!1,privateVatIdRequired:!1,vatIdRequired:!1}),checkEmailAvailability:o.a.func.isRequired,showLocalName:o.a.bool.isRequired,emailExists:o.a.shape({flag:o.a.bool,email:o.a.string}).isRequired,showAccountTypeSwitch:o.a.bool,showLegalConsent:o.a.arrayOf(o.a.string),extraBusinessFields:o.a.arrayOf(o.a.string),identificationLabel:o.a.string,country:o.a.string,showAccountDetailDisclaimer:o.a.bool.isRequired,userFilledInData:o.a.shape().isRequired,accountFormValid:o.a.bool.isRequired},xt.defaultProps={title:"",extraPersonalFields:[],locale:"",sibling:"",registrationType:"",registration:{},showAccountTypeSwitch:!1,extraBusinessFields:[],showLegalConsent:[],identificationLabel:"",country:""};var It=xt,Ft=function(e){return a.a.createElement(It,e)};Ft.propTypes={emailExists:o.a.shape({flag:o.a.bool,email:o.a.string}),emailCheckLoading:o.a.bool,market:o.a.string.isRequired,accountFormValid:o.a.bool.isRequired,ccFormOpen:o.a.bool.isRequired,showAccountTypeSwitch:o.a.bool,showLocalName:o.a.bool,showVAT:o.a.bool,extraBusinessFields:o.a.arrayOf(o.a.string),extraPersonalFields:o.a.arrayOf(o.a.any),identificaitonTypes:o.a.arrayOf(o.a.any),showLegalConsent:o.a.arrayOf(o.a.string)},Ft.defaultProps={emailExists:{flag:!0,email:""},emailCheckLoading:!1,showLocalName:!1,showVAT:!1,extraBusinessFields:[],extraPersonalFields:[],identificaitonTypes:[],showLegalConsent:[],showAccountTypeSwitch:!1};var kt=Object(c.connect)((function(e){return{emailExists:e.ReviewDetails.emailExists,emailCheckLoading:e.ReviewDetails.emailCheckLoading,doEmailAvailabilityCheck:l()(e,"ReviewDetails.checkEmailAvailability",!0),accountFormValid:e.ReviewDetails.accountDetailsValid,market:l()(e,"OMS.oms_params.market",l()(window,"tesla.omsParams.market")),userFilledInData:e.ReviewDetails.AccountDetail,ccFormOpen:e.Payment.formOpen,showAccountTypeSwitch:e.ReviewDetails.showAccountTypeSwitch,showVAT:e.ReviewDetails.showVAT,showLocalName:e.ReviewDetails.showLocalName,showLegalConsent:e.ReviewDetails.showLegalConsent,extraBusinessFields:e.ReviewDetails.extraBusinessFields,extraPersonalFields:e.ReviewDetails.extraPersonalFields,identificaitonTypes:e.ReviewDetails.identificaitonTypes,identificationLabel:e.ReviewDetails.identificationLabel,registration:l()(e,"Payment.registration",{}),registrationType:l()(e,"ReviewDetails.AccountDetail.AccountType",""),identificationType:l()(e,"ReviewDetails.AccountDetail.IdentificationType",""),privateVatId:l()(e,"ReviewDetails.AccountDetail.PrivateVatId",""),companyName:l()(e,"ReviewDetails.AccountDetail.CompanyName",""),vatId:l()(e,"ReviewDetails.AccountDetail.VatId",""),model:l()(e,"OMS.oms_params.model",""),sibling:l()(e,"App.sibling",""),locale:l()(e,"App.locale",""),country:l()(e,"App.countryCode",""),showAccountDetailDisclaimer:l()(e,"ReviewDetails.showAccountDetailDisclaimer"),USLegalDisclaimer:l()(e,"ReviewDetails.USLegalDisclaimer")}}),(function(e){return{checkEmailAvailability:function(t,n){e(Object(h.checkEmailAvailability)(t,n))},setValidFlag:function(t){e(Object(h.setAccountDetailsValidFlag)(t))},updateAccountDetails:function(t){e(Object(h.updateAccountDetails)(t))},updateAccountIDTypeLabel:function(t){e(Object(h.updateAccountIDTypeLabel)(t))},updateBillingInfo:function(t){e(Object(h.updateBillingInfo)(t))},togglePaymentForm:function(t){e(Object(h.togglePaymentForm)(t))}}}))(Ft),Mt=function(){return a.a.createElement("div",{className:"review-page--block"},a.a.createElement("h3",{className:"tds-text--body_headline"},Object(g.L)("Review.legalDataTable.title")),a.a.createElement("p",{className:"legal-data-table"},Object(g.K)(Object(g.L)("Review.legalDataTable.content",{TABLE:"<table>",TABLECLOSE:"</table>",TBODY:"<tbody>",TBODYCLOSE:"</tbody>",TD:"<td>",TDCLOSE:"</td>",TR:"<tr>",TRCLOSE:"<tr>"}))))};Mt.propTypes={},Mt.defaultProps={};var Vt=Mt,Bt=n(139),qt=n.n(Bt),Gt=n(176),Ut=n.n(Gt),Wt=n(830),Yt=n(829),zt=n(247),Ht=n.n(zt),Kt=n(54);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var a=tn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(o,e);var t,n,r,i=Jt(o);function o(){return $t(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"updateWheelDropDown",value:function(e){var t=this.props.LocationsData.find((function(t){return t.value===e})),n=this.props;(0,n.onLocationDataChange)(n.type,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.index,i=t.LocationsData,o=this.context.i18n;return a.a.createElement(wt.a,{label:o("Review.BillingInfo.Form.".concat(n)),options:i,initialValue:r,onChange:function(t){var n=t.value;return e.updateWheelDropDown(n)},name:"locationData",id:"locationData"})}}])&&Zt(t.prototype,n),r&&Zt(t,r),o}(r.Component);nn.defaultProps={type:"",index:0,LocationsData:[]},nn.propTypes={type:o.a.string,index:o.a.number,LocationsData:o.a.instanceOf(Array),onLocationDataChange:o.a.func.isRequired},nn.contextTypes={i18n:o.a.func};var rn=Object(c.connect)(null,(function(e){return{onLocationDataChange:function(t,n){e(Object(h.updateLocationData)(t,n))}}}))(nn);function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var a=dn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return un(this,n)}}function un(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(o,e);var t,n,r,i=ln(o);function o(){return on(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.provinceData,n=e.cityData,r=e.districtData,i=e.selectedProvince,o=e.selectedCity,c=e.selectedDistrict;return a.a.createElement("div",{className:"field-container form-theme--location"},a.a.createElement(rn,{type:O.Le,LocationsData:t,index:i,onLocationDtaChange:this.onLocationDataChange}),a.a.createElement(rn,{type:O.F,LocationsData:n,index:o,onLocationDataChange:this.onLocationDataChange}),a.a.createElement(rn,{type:O.mb,LocationsData:r,index:c,onLocationDataChange:this.onLocationDataChange}))}}])&&cn(t.prototype,n),r&&cn(t,r),o}(r.Component);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var a=hn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}pn.defaultProps={cityData:[],provinceData:[],districtData:[],selectedProvince:0,selectedCity:0,selectedDistrict:0},pn.propTypes={cityData:o.a.instanceOf(Array),provinceData:o.a.instanceOf(Array),districtData:o.a.instanceOf(Array),selectedProvince:o.a.number,selectedCity:o.a.number,selectedDistrict:o.a.number};var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(o,e);var t,n,r,i=vn(o);function o(){return fn(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement(pn,this.props)}}])&&yn(t.prototype,n),r&&yn(t,r),o}(r.PureComponent);On.propTypes={provinceData:o.a.instanceOf(Array),cityData:o.a.instanceOf(Array),districtData:o.a.instanceOf(Array),selectedProvince:o.a.string,selectedCity:o.a.string,selectedDistrict:o.a.string},On.defaultProps={provinceData:[],cityData:[],districtData:[],selectedProvince:0,selectedCity:0,selectedDistrict:0};var Pn=Object(c.connect)((function(e){return{provinceData:e.Payment.provinceData,cityData:e.Payment.cityData&&e.Payment.cityData.length>0?e.Payment.cityData:e.Payment.provinceData[0].children,districtData:e.Payment.districtData&&e.Payment.districtData.length>0?e.Payment.districtData:e.Payment.provinceData[0].children[0].children,selectedProvince:e.Payment.PaymentDetail.BillingInfoDetail.selectedProvince,selectedCity:e.Payment.PaymentDetail.BillingInfoDetail.selectedCity,selectedDistrict:e.Payment.PaymentDetail.BillingInfoDetail.selectedDistrict}}))(On);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dn(e);if(t){var a=Dn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?An(e):t}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(c,e);var t,n,i,o=Cn(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Rn(An(t=o.call(this,e)),"onRegionChange",(function(e){var n=t.props.setRegion;e&&n(e)})),Rn(An(t),"updateBillingInfo",(function(){var e,n,r=t.props,a=r.onChange,i=r.privateVatId,o=r.hideBaseField,c=((null===(e=t.formApiRef)||void 0===e||null===(n=e.current)||void 0===n?void 0:n.getState())||{}).values,s=void 0===c?{}:c,l={Street:s[O.Nb],Address2:s[O.Ob],IsFromSavedProfile:!1};T()(o,O.cc)<0&&(l.ZipCode=s[O.cc]),T()(o,O.Rb)<0&&(l.CountryCode=s[O.Rb]),T()(o,O.Hf)<0&&(l.StateProvince=s[O.Hf]),T()(o,O.Pb)<0&&(l.City=s[O.Pb]),t.includeBusinessRegistration&&(l.CompanyName=s[O.Qb],l.VatId=s[O.bc]),t.includePrivateRegistration&&(l.PrivateVatId=s[O.Yb]||i),"function"==typeof a&&a(l)})),Rn(An(t),"registrationTypeChanged",(function(e){var n=t.props.onChange;[O.We,O.Ue].includes(e)&&"function"==typeof n&&n({RegistrationType:e})})),Rn(An(t),"onInvalid",(function(e){var n=e.errors,r=t.props,a=r.needsToShow,i=r.showLocationAddress,o=r.setValidFlag,c=i?Ht()(n,O.cc):n,s=Object.keys(c).length;a&&s||o(!0),s&&o(!1)})),Rn(An(t),"onValid",(function(e){var n=e.errors,r=t.props.setValidFlag;Object.keys(n).length||r(!0)})),Rn(An(t),"zipCodeValidator",(function(e){var n=t.context.i18n;return!t.props.showLocationAddress&&(e?e&&e.length>20?n("common.errors__maxlength",{MAXLENGTH:20}):void 0:n("common.errors__required"))})),Rn(An(t),"companyNameValidator",(function(e,n){var r=n.values,a=t.context.i18n;return!(!r[O.bc]||e)&&a("common.errors__required")})),Rn(An(t),"vatIdValidator",(function(e,n){var r=n.values,a=t.context.i18n,i=t.props,o=i.registration,c=void 0===o?{}:o,s=i.market,l=i.registrationType,u=c.vatIdRequired,d=void 0!==u&&u,p=c.privateVatIdRequired,m=void 0!==p&&p,f=Object(St.getVatNumberFormat)(s,l);return d&&r[O.Qb]&&!e?a("common.errors__required"):e&&!Object(St.isvalidVatNumber)(s,e,l)?l===O.We?a("common.errors__privateVatNumberNotValid",{VAT_NUMBER_FORMAT:f}):a("common.errors__vatNumberNotValid",{VAT_NUMBER_FORMAT:f}):!(!t.includePrivateRegistration||!m||e)&&a("common.errors__required")})),t.formApiRef=Object(r.createRef)(),t}return t=c,(n=[{key:"countries",get:function(){return Object(Kt.getCountries)().map((function(e){return{value:e.code,label:e.label}}))}},{key:"stateList",get:function(){var e=this.props.countryCode;return Object(P.Z)(e)}},{key:"defaultValues",get:function(){var e,t=this.props,n=t.street,r=t.address2,a=t.city,i=t.zipCode,o=t.StateProvince,c=t.countryCode,s=t.companyName,l=t.vatId,u=t.privateVatId,d=t.currentCountry,p=t.hideBaseField,m=(Rn(e={},O.Nb,n),Rn(e,O.Ob,r),Rn(e,O.Qb,s),Rn(e,O.bc,l),Rn(e,O.Yb,u),e);return T()(p,O.cc)<0&&(m=En(En({},m),{},Rn({},O.cc,i))),T()(p,O.Rb)<0&&(m=En(En({},m),{},Rn({},O.Rb,c||d))),T()(p,O.Hf)<0&&(m=En(En({},m),{},Rn({},O.Hf,o))),T()(p,O.Pb)<0&&(m=En(En({},m),{},Rn({},O.Pb,a))),m}},{key:"includeBusinessRegistration",get:function(){var e=this.props,t=e.registrationType,n=e.registration;return t===O.Ue&&n.showBusinessFields}},{key:"includePrivateRegistration",get:function(){var e=this.props,t=e.registrationType,n=e.registration;return t===O.We&&n.showPrivateFields}},{key:"renderRegistrationFields",value:function(){var e=this,t=this.context.i18n,n=this.props,r=n.registration,i=n.registrationType,o=n.paymentType,c=n.market,s=r.showBusinessFields,l=r.showPrivateFields,u=r.showVatID;return s?a.a.createElement("div",{className:"billing-info--registration"},a.a.createElement(mt.Relevant,{when:function(){return s&&l}},a.a.createElement("div",{className:"tds-form-item tds-form-item--inline tds-form-radios"},a.a.createElement(Pt.a,{name:"".concat(o,"registrationType"),onChange:function(t){var n=t.value;return e.registrationTypeChanged(n)},defaultValue:i},a.a.createElement(Yt.a,{value:O.We,label:t("Review.account_in_private"),id:"".concat(o,"_registration_private")}),a.a.createElement(Yt.a,{value:O.Ue,label:t("Review.account_in_business"),id:"".concat(o,"_registration_business")})))),a.a.createElement(mt.Relevant,{when:function(){return i===O.Ue}},a.a.createElement("h3",{className:"section-subtitle"},t("Review.BillingInfo.business_header")),a.a.createElement("div",{className:"billing-info--business-fields"},a.a.createElement("div",{className:"field-container company-name"},a.a.createElement(_t.a,{name:O.Qb,id:O.Qb,label:t("Review.BillingInfo.Form.company_name"),onChange:this.updateBillingInfo,validate:this.companyNameValidator,keepState:!0,showErrorIfDirty:!0})),a.a.createElement(mt.Relevant,{when:function(){return u}},a.a.createElement("div",{className:"field-container vat-id"},a.a.createElement(_t.a,{name:O.bc,id:O.bc,label:t("Review.BillingInfo.Form.vat_id"),onChange:this.updateBillingInfo,validate:this.vatIdValidator,placeholder:Object(St.getVatNumberFormat)(c,O.Ue),keepState:!0,showErrorIfDirty:!0})))),a.a.createElement("p",null,t("Review.BillingInfo.business_description"))),a.a.createElement(mt.Relevant,{when:function(){return i===O.We}},a.a.createElement("h3",{className:"section-subtitle"},t("Review.BillingInfo.private_header")),a.a.createElement("div",{className:"field-container private-vat-id"},a.a.createElement(_t.a,{name:O.Yb,id:O.Yb,label:t("Review.BillingInfo.Form.private_vat_id"),onChange:this.updateBillingInfo,validate:this.vatIdValidator,placeholder:Object(St.getVatNumberFormat)(c,O.We),keepState:!0,showErrorIfDirty:!0})))):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideBaseField,r=t.showLocationAddress,i=t.showCountyLabel,o=t.showDisabledCityName,c=t.needsToShow,s=this.context.i18n;if(!c)return null;var u=this.countries.find((function(t){return t.value===e.defaultValues[O.Rb]})),d=i?"County":"state";return a.a.createElement("div",{className:"billing-info--form"},a.a.createElement(Ot.a,{formApiRef:this.formApiRef,initialValues:this.defaultValues,errorMessage:{required:ht()(s("common.errors__required"))},onInvalid:this.onInvalid,onValid:this.onValid},a.a.createElement("div",{className:E()("form-container",{"payment-error":!1})},a.a.createElement(mt.Relevant,{when:function(){return r}},a.a.createElement(Pn,null)),a.a.createElement(mt.Relevant,{when:function(){return T()(n,O.Rb)<0}},a.a.createElement("div",{className:"field-container country-selector"},a.a.createElement(wt.a,{name:O.Rb,id:O.Rb,label:s("Review.BillingInfo.Form.country_code"),options:this.countries,initialValue:l()(u,"value",""),onChange:this.updateBillingInfo,required:!0,keepState:!0,showErrorIfDirty:!0}))),a.a.createElement("div",{className:"field-container address-line-1"},a.a.createElement(_t.a,{name:O.Nb,id:O.Nb,label:s("Review.BillingInfo.Form.address_line_1"),onChange:this.updateBillingInfo,required:!0,keepState:!0,showErrorIfDirty:!0})),a.a.createElement("div",{className:"field-container address-line-2"},a.a.createElement(_t.a,{name:O.Ob,id:O.Ob,label:s("Review.BillingInfo.Form.address_line_2"),onChange:this.updateBillingInfo,keepState:!0})),a.a.createElement(mt.Relevant,{when:function(){return T()(n,O.Pb)<0}},a.a.createElement("div",{className:"field-container city"},a.a.createElement(_t.a,{disabled:o,name:O.Pb,id:O.Pb,label:s("Review.BillingInfo.Form.city"),onChange:this.updateBillingInfo,required:!0,keepState:!0,showErrorIfDirty:!0}))),a.a.createElement(mt.Relevant,{when:function(){return T()(n,O.Hf)<0}},a.a.createElement("div",{className:"field-container state-selector"},a.a.createElement(wt.a,{name:O.Hf,id:O.Hf,label:s("Review.BillingInfo.Form.".concat(d)),options:this.stateList,onChange:this.updateBillingInfo}))),a.a.createElement(mt.Relevant,{when:function(){return T()(n,O.cc)<0}},a.a.createElement("div",{className:"field-container zip-code"},a.a.createElement(_t.a,{name:O.cc,id:O.cc,label:s("Review.BillingInfo.Form.zip_code"),onChange:this.updateBillingInfo,validate:this.zipCodeValidator,keepState:!0}))),this.renderRegistrationFields())))}}])&&Sn(t.prototype,n),i&&Sn(t,i),c}(r.Component);Ln.propTypes={showLocationAddress:o.a.bool,countryCode:Object(g.U)(o.a.string,(function(e){return!e.showLocationAddress})),city:Object(g.U)(o.a.string,(function(e){return!e.showLocationAddress})),zipCode:Object(g.U)(o.a.string,(function(e){return!e.showLocationAddress})),street:o.a.string.isRequired,address2:o.a.string.isRequired,companyName:o.a.string.isRequired,vatId:o.a.string.isRequired,onChange:o.a.func.isRequired,setValidFlag:o.a.func.isRequired,registration:o.a.shape({showBusinessFields:o.a.bool.isRequired,showPrivateFields:o.a.bool.isRequired,vatIdRequired:o.a.bool.isRequired,privateVatIdRequired:o.a.bool.isRequired,showVatID:o.a.bool}).isRequired,registrationType:o.a.string.isRequired,privateVatId:o.a.string.isRequired,paymentType:o.a.string.isRequired,currentCountry:o.a.string.isRequired,hideBaseField:o.a.arrayOf(o.a.string),currentPaymentType:o.a.string.isRequired,needsToShow:o.a.bool.isRequired,optionalFields:o.a.arrayOf(o.a.string),market:o.a.string.isRequired,StateProvince:o.a.string,setRegion:o.a.func,showCountyLabel:o.a.bool,showDisabledCityName:o.a.bool},Ln.defaultProps={showLocationAddress:!1,hideBaseField:[],optionalFields:[],StateProvince:"",setRegion:function(){},showCountyLabel:!1,showDisabledCityName:!1},Ln.contextTypes={i18n:o.a.func};var Nn=Object(c.connect)((function(e,t){var n=e.Payment.PaymentDetail.BillingInfoDetail,r=e.Payment,a=r.registration,i=r.showDisabledCityName,o=e.ApplicationFlow,c=o.isInvited,s=o.orderStatus,u=a.showBusinessFields&&c&&s===O.Ye,d=En(En({},a),{},{showBusinessFields:u}),p=l()(e,"App.locale",""),m=l()(e,"App.countryCode",""),f=l()(e,"App.language",""),y=Object(Kt.getLocaleNamesByCountryCode)(m)[f]||"",b=i?y:n.City||"";return{currentPaymentType:l()(e,"Payment.PaymentDetail.PaymentType",null),needsToShow:Object(P.nb)(e,t.paymentType),countryCode:n.CountryCode||"",street:n.Street||"",address2:n.Address2||"",city:b,zipCode:n.ZipCode||"",StateProvince:n.StateProvince||l()(e,"SummaryPanel.region_code",null),companyName:n.CompanyName||"",vatId:n.VatId||"",privateVatId:n.PrivateVatId||"",registrationType:n.RegistrationType||"",registration:d,currentCountry:m,hideBaseField:e.ReviewDetails.hideBaseField,showLocationAddress:l()(e,"ReviewDetails.showLocationAddress",!1),showCountyLabel:l()(e,"ReviewDetails.showCountyLabel"),locale:p,showDisabledCityName:i,optionalFields:l()(e,"ReviewDetails.optionalFields",[]),market:l()(e,"OMS.oms_params.market",l()(window,"tesla.omsParams.market"))}}),(function(e){return{onChange:function(t){e(Object(h.updateBillingInfo)(t))},setValidFlag:function(t){e(Object(h.setBillingInfoValidFlag)(t))}}}))(Ln);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vn(e);if(t){var a=Vn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(o,e);var t,n,r,i=kn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={showVerificationForm:!1,showResendBtn:!1,count:60},t}return t=o,(n=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeunload.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeunload)}},{key:"sendVerificationCode",value:function(){if(this.state.showResendBtn=!1,sessionStorage.getItem("lastTimer")){var e=sessionStorage.getItem("lastTimer");this.setState({count:Math.round(((new Date).getTime()-e)/1e3)-sessionStorage.getItem("counterSeconds")>=0?60:Math.abs(Math.round(((new Date).getTime()-e)/1e3)-sessionStorage.getItem("counterSeconds"))})}var t=this.props.sendVerificationCode;t(),this.intervalTimer()}},{key:"beforeunload",value:function(){var e=this.state.count;e>-1&&e<60?(sessionStorage.setItem("lastTimer",(new Date).getTime()),sessionStorage.setItem("counterSeconds",e)):(sessionStorage.removeItem("lastTimer"),sessionStorage.removeItem("counterSeconds"))}},{key:"intervalTimer",value:function(){var e=this,t=this.state.count;this.setState({showVerificationForm:!0});var n=t<=0?60:t;this.setState({count:n}),this.timer=setInterval((function(){(n-=1)<1&&(clearInterval(e.timer),e.setState({showResendBtn:!0,count:60})),e.setState({count:n})}),1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=t.SMSValidator,r=t.maxLength,i=t.enableSendBtn,o=this.context.i18n,c=this.state,s=c.showVerificationForm,l=c.count,u=c.showResendBtn;return a.a.createElement("div",{className:"cc_verification--business"},a.a.createElement("div",{className:"cc_verification--business-fields"},s?a.a.createElement("div",{className:"verification-form-container"},a.a.createElement("div",{className:"field-container verification-code-input"},a.a.createElement(_t.a,{required:!0,keepState:!0,showErrorIfDirty:!0,name:O.Z,id:O.Z,label:o("Review.creditcard_verification_code_label"),maxLength:r,errorMessage:{maxLength:o("common.errors__maxlength",{MAXLENGTH:r})},validate:n})),a.a.createElement("div",{className:"field-container verification-code-input send-button"},u?a.a.createElement("button",{type:"button",className:"tds-btn tds-btn--outline tds-btn--small",onClick:function(){return e.sendVerificationCode()}},Object(g.K)(o("Review.resend_verification_code_2_label"))):a.a.createElement("button",{type:"button",className:"tds-btn tds-btn--outline tds-btn--small disable-send--button",disabled:!u,onClick:function(){return e.sendVerificationCode()}},Object(g.K)(o("Review.resend_verification_code_label",{COUNTER:l}))))):a.a.createElement("div",{className:"field-container send-verification-btn"},a.a.createElement("button",{onClick:function(){return e.sendVerificationCode()},disabled:!i,type:"button",className:E()("tds-btn tds-btn--outline tds-btn--full",{"disable-send--button":!i}),id:"cc_send_verification"},o("Review.send_cc_verification")))))}}])&&In(t.prototype,n),r&&In(t,r),o}(r.Component);Bn.contextTypes={i18n:o.a.func},Bn.propTypes={maxLength:o.a.number.isRequired,sendVerificationCode:o.a.func.isRequired,enableSendBtn:o.a.bool.isRequired,SMSValidator:o.a.func.isRequired};var qn=Object(c.connect)()(Bn);function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var a=Kn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zn(this,n)}}function zn(e,t){return!t||"object"!==Gn(t)&&"function"!=typeof t?Hn(e):t}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(c,e);var t,n,i,o=Yn(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Xn(Hn(t=o.call(this,e)),"error__maxLen",(function(e){return Object(g.L)("common.errors__maxlength",{MAXLENGTH:e})})),Xn(Hn(t),"error__minLen",(function(e){return Object(g.L)("common.errors__minlength",{MINLENGTH:e})})),Xn(Hn(t),"updatePaymentInfo",(function(e){var n=t.state.creditCardType,r=t.props,a=r.updatePaymentDetails,i=r.isShowSMSField,o=r.PayorName,c=r.formOpen,s=r.payment,l=(void 0===s?{}:s).ccDetailsValid,u=void 0!==l&&l,d=e.values,p=void 0===d?{}:d,m=e.$touched,f=e.errors,y=void 0===f?{}:f,b=e.$untouched,v=p.NAME_ON_CARD,g=void 0===v?"":v,h=p.CREDIT_CARD,O=void 0===h?"":h,P=p.EXPIRATION_DATE,_=void 0===P?"":P,w=p.CVV,E=void 0===w?"":w,S=p.BILLING_ZIPCODE,j=void 0===S?null:S,C=p.PAYOR_IDENTIFICATION_NUMBER,T=void 0===C?null:C,A=p.AGREEMENT_SAVE,D=void 0===A?null:A,R=p.CREDITCARD_VERIFICATION_CODE,L=void 0===R?null:R,N=p.CREDITCARD_VERIFICATION_PHONE,x=void 0===N?null:N,I=Object.keys(y).length,F=O.split(" ").join(""),k=_.split(" / ")[0],M="20".concat(_.split(" / ")[1]),V={PayorName:g||o,CardType:n,AccountNumber:F,VerificationNumber:E,BillingZipCode:j};i&&(V.VerificationPhone=x,V.VerificationSMSCode=L,V.AgreementSave=D,V.PayorIDNumber=T),""!==_&&(V.ExpirationMonth=k,V.ExpirationYear=M),b&&c&&qt()(p,(function(e,n){e&&e.length&&t.formApiRef.current.setTouched(n,!0)})),m&&!I&&u&&a(V)})),Xn(Hn(t),"creditCardValidator",(function(e){var n=t.props,r=n.payment,a=n.acceptedCardTypes,i=l()(r,"CountryCode",""),o=null==e?void 0:e.split(" ").join("");if(void 0!==e){t.onCCNumberChange(e);var c=t.state.creditCardType;if(o&&!Ut.a.isValidCardNumber(o,c,t.creditCartOptions))return"CN"===i?Object(g.L)("common.errors__ccNumberNotSupported"):Object(g.L)("common.errors__ccNotValid");if(!a.includes(c))return Object(g.L)("common.errors__ccTypeNotSupported")}return!1})),Xn(Hn(t),"expiryDateValidator",(function(e){if(e){var t=parseInt(e.split("/")[0],10),n=parseInt(e.split("/")[1]);if(!Ut.a.isValidExpiryMonth(t)||!Ut.a.isValidExpiryYear("20".concat(n)))return Object(g.L)("common.errors__invalidExpDate");if(Ut.a.isExpired(t,"20".concat(n)))return Object(g.L)("common.errors__expiredCard")}return!1})),Xn(Hn(t),"cvvValidator",(function(e){var n=t.props.payment,r=(l()(n,"CountryCode",""),t.state.creditCardType);return void 0!==e&&!Ut.a.doesCvvMatchType(e,r,t.creditCartOptions)&&Object(g.L)("common.errors__invalidCVV")})),Xn(Hn(t),"payorIDValidator",(function(e){return void 0!==e&&!Object(jt.isValidIDNumber)(e)&&Object(g.L)("common.errors__pattern_identification_number")})),Xn(Hn(t),"creditCardCodeValidator",(function(e){return void 0!==e&&!e.match(/^\d{6}$/)&&Object(g.L)("common.errors__invalidVerifyCode")})),Xn(Hn(t),"creditCardPhoneValidator",(function(e){return void 0!==e&&!e.match(/^\d{11}$/)&&Object(g.L)("common.errors__phonenumberNotValid")})),Xn(Hn(t),"agreementValidator",(function(e){return!e&&Object(g.L)("common.errors__agreementSaveNotValid")})),Xn(Hn(t),"onCCNumberChange",(function(e){var n="";n=t.props.isShowSMSField?Ut.a.doesNumberMatchType((e||"").replace(/\s/g,""),O.Y,t.creditCartOptions)?O.Y:null:Ut.a.determineCardType(e,{allowPartial:!0}),t.setState({creditCardType:n})})),Xn(Hn(t),"validateCreditCardFieldWithoutSMSCode",(function(){var e,n,r=(null===(e=t.formApiRef)||void 0===e||null===(n=e.current)||void 0===n?void 0:n.getState())||{},a=r.errors,i=void 0===a?{}:a,o=r.$touched,c=Object.keys(i)||[];return!!o&&!c.filter((function(e){return e!==O.Z})).length})),Xn(Hn(t),"scrollListener",(function(){var e=document.getElementsByClassName("review-page-v2--container-right")[0];e&&e.scroll({top:e.scrollHeight,behavior:"smooth"})})),Xn(Hn(t),"onInvalid",(function(e){var n=e.errors,r=t.props,a=r.payment,i=void 0===a?{}:a,o=r.setCCDetailsValidFlag,c=i.ccDetailsValid,s=void 0!==c&&c;Object.keys(n).length&&s&&o(!1)})),Xn(Hn(t),"onValid",(function(e){var n=e.errors,r=void 0===n?{}:n,a=e.values,i=void 0===a?{}:a,o=t.props,c=o.setCCDetailsValidFlag,s=o.isShowSMSField;Object.keys(r).length||(s&&!i.CREDITCARD_VERIFICATION_CODE?c(!1):c(!0))})),t.formApiRef=Object(r.createRef)();var n=t.props.isShowSMSField,a=t.defaultValues[O.cb];return t.state={creditCardType:""},a&&t.onCCNumberChange(a),n&&(t.creditCartOptions=O.mg),t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("cc-number")[0];e&&(e.addEventListener("click",this.scrollListener,!1),e.addEventListener("keydown",this.scrollListener,!1))}},{key:"defaultValues",get:function(){var e=this.props,t=e.collectAllBillingInfo,n=e.hideAllBillingInfo,r=e.payment,a=l()(r,"PaymentDetail.CreditCardDetail.ExpirationMonth",""),i=l()(r,"PaymentDetail.CreditCardDetail.ExpirationYear",""),o=l()(r,"PaymentDetail.CreditCardDetail.AccountNumber",""),c={NAME_ON_CARD:l()(r,"PaymentDetail.PayorName",""),CREDIT_CARD:o,EXPIRATION_DATE:"",CVV:l()(r,"PaymentDetail.CreditCardDetail.VerificationNumber","")};return t||n||(c[O.u]=l()(r,"PaymentDetail.BillingZipCode","")),""!==a&&null!==a&&""!==i&&null!==i&&(c[O.Bb]="".concat(a," / ").concat(i.toString().substring(2,4))),c}},{key:"render",value:function(){var e,t,n,r,i,o=this,s=this.props,u=s.payment,d=s.formOpen,p=s.serverErrors,m=s.userEmail,f=s.rnLoaded,y=s.togglePaymentForm,b=s.cancelPaymentEdit,v=s.collectAllBillingInfo,h=s.isShowSMSField,P=s.hideAllBillingInfo,_=s.showBillingInfoForm,w=s.locale,S=s.sibling,j=s.showLegalDataTable,C=s.displayPaymentDisclaimer,T=s.PayorName,A=s.modelCode,D=s.sendVerificationCode,R=s.USLegalDisclaimer,L=(this.state.creditCardType,m===l()(window.tesla.user,"emailAddress","")),N=null!==Object(g.L)("Review.disclaimer_label.".concat(A),null,null,{returnNullWhenEmpty:!0})?"Review.disclaimer_label.".concat(A):"Review.disclaimer_label";return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:E()("credit-card--container",{"is-collecting-billing":v,"display-legal-term-container":!C})},d?null:a.a.createElement("div",{className:"stored-cc-container"},a.a.createElement("div",{className:"col-block cc-icon-container"},a.a.createElement("div",{className:"cc-icon"},c.getCreditCardType(null==u||null===(e=u.CreditCardDetail)||void 0===e?void 0:e.CardType))),a.a.createElement("div",{className:"col-block cc-information"},a.a.createElement("ul",{className:"cc-information--details"},a.a.createElement("li",{className:"cc-detail"},a.a.createElement("b",null,u.CreditCardDetail.CardType)," ",Object(g.L)("Review.cc_ending")," ",null==u||null===(t=u.CreditCardDetail)||void 0===t?void 0:t.LastFourDigits),a.a.createElement("li",{className:"cc-detail"},null==u||null===(n=u.CreditCardDetail)||void 0===n?void 0:n.PayorName),a.a.createElement("li",{className:"cc-detail"},Object(g.L)("Review.expire"),"".concat((null==u||null===(r=u.CreditCardDetail)||void 0===r?void 0:r.ExpMonth)||"","/").concat(null==u||null===(i=u.CreditCardDetail)||void 0===i?void 0:i.ExpYear)))),a.a.createElement("div",{className:"col-block cc-edit-container"},a.a.createElement("div",{className:"credit-card--container--ccedit",onClick:function(){return y(!0)},onKeyPress:function(){return y(!0)},role:"button",tabIndex:0},Object(g.L)("Review.edit")))),d?a.a.createElement(Ot.a,{formApiRef:this.formApiRef,initialValues:this.defaultValues,errorMessage:{required:ht()(Object(g.L)("common.errors__required"))},onStateChange:vt()((function(e){return o.updatePaymentInfo(e)}),800),onValid:this.onValid,onInvalid:this.onInvalid},v?a.a.createElement("h3",{className:"section-subtitle"},Object(g.L)("Review.payment_cc_header")):null,a.a.createElement("div",{className:E()("form-container",{"payment-error":p.PAYMENT_FAILED})},u.CreditCardDetail.IsProfileExists&&(f||L)?a.a.createElement("div",{className:"col-block cc-edit-container"},a.a.createElement("div",{className:"credit-card--container--ccedit",onClick:b,onKeyPress:b,role:"button",tabIndex:0},Object(g.L)("Review.cc_save"))):null,a.a.createElement("div",{className:"field-container cc-name"},a.a.createElement(_t.a,{name:O.yd,id:O.yd,label:Object(g.L)("Review.cc_name_label"),minLength:2,maxLength:50,errorMessage:{maxLength:this.error__maxLen(50),minLength:this.error__minLen(2)},required:!0,keepState:!0,showErrorIfDirty:!0,defaultValue:T})),a.a.createElement("div",{className:"field-container cc-number"},a.a.createElement(Wt.a,{required:!0,name:O.cb,id:O.cb,label:Object(g.L)("Review.cc_number_label"),mask:"#### #### #### ####",keepState:!0,showErrorIfDirty:!0,maxLength:19,validate:this.creditCardValidator,errorMessage:{maxLength:this.error__maxLen(19)}})),a.a.createElement("div",{className:"field-container exp-date"},a.a.createElement(Wt.a,{required:!0,keepState:!0,showErrorIfDirty:!0,name:O.Bb,id:O.Bb,label:Object(g.L)("Review.cc_exp_label"),placeholder:Object(g.L)("Review.cc_exp_placeholder"),maxLength:7,errorMessage:{maxLength:this.error__maxLen(7)},mask:"## / ##",validate:this.expiryDateValidator})),a.a.createElement("div",{className:"field-container cvv"},a.a.createElement(_t.a,{required:!0,keepState:!0,showErrorIfDirty:!0,name:O.db,id:O.db,label:Object(g.L)("Review.cvv_label"),maxLength:4,errorMessage:{maxLength:this.error__maxLen(h?3:4)},validate:this.cvvValidator})),v||P?null:a.a.createElement("div",{className:"field-container billing-zip-code"},a.a.createElement(_t.a,{required:!0,keepState:!0,showErrorIfDirty:!0,name:O.u,id:O.u,label:Object(g.L)("Review.billing_zip_label"),maxLength:20,errorMessage:{maxLength:this.error__maxLen(20)}})),h?[a.a.createElement("div",{className:"field-container payor-id-number",key:"0"},a.a.createElement(_t.a,{required:!0,keepState:!0,showErrorIfDirty:!0,name:O.re,id:O.re,label:Object(g.L)("Review.CITIZEN_ID_NO")+Object(g.L)("Review.id_type_suffix"),maxLength:30,errorMessage:{maxLength:this.error__maxLen(30)},validate:this.payorIDValidator})),a.a.createElement("div",{className:"field-container verification-mobile",key:"1"},a.a.createElement(_t.a,{required:!0,keepState:!0,showErrorIfDirty:!0,name:O.ab,id:O.ab,label:Object(g.L)("Review.cc_verification_mobile"),maxLength:11,errorMessage:{maxLength:this.error__maxLen(11)},validate:this.creditCardPhoneValidator})),a.a.createElement("div",{className:"field-container cc-agreement-save",key:"2"},a.a.createElement(Et.a,{required:!0,keepState:!0,showErrorIfDirty:!0,label:Object(g.L)("Review.cc_agreement_descreption"),name:O.i,id:O.i,className:"icon-checkbox--blue",validate:this.agreementValidator})),a.a.createElement(qn,{maxLength:6,sendVerificationCode:D,enableSendBtn:this.validateCreditCardFieldWithoutSMSCode(),SMSValidator:this.creditCardCodeValidator,key:"3"})]:null,p.PAYMENT_FAILED?a.a.createElement("p",{className:"error credit-card--payment-error"},Object(g.L)("Review.errors__PAYMENT_FAILED")):null)):null,_?[a.a.createElement("h3",{className:"section-subtitle",key:"0"},Object(g.L)("Review.payment_cc_billing_header")),a.a.createElement(Nn,{paymentType:O.je,key:"1"})]:null,!d||C||R?null:a.a.createElement("div",{className:"legal-term--container"},a.a.createElement("p",null,Object(g.K)(Object(g.L)("".concat(N),{LINK:Object(g.e)("about/legal?redirect=no#payment-terms-for-services",S,w)})))),j&&a.a.createElement(Vt,null)))}}])&&Un(t.prototype,n),i&&Un(t,i),c}(r.Component);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var a=rr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Xn($n,"getCreditCardType",(function(e){if(null==e)return a.a.createElement("div",null);switch(e.toUpperCase()){case O.bb:return a.a.createElement("div",{className:"icon-cc icon-cc--visa"});case O.X:return a.a.createElement("div",{className:"icon-cc icon-cc--mastercard"});case O.V:return a.a.createElement("div",{className:"icon-cc icon-cc--amex"});case O.W:return a.a.createElement("div",{className:"icon-cc icon-cc--discover"});case O.Y:return a.a.createElement("div",{className:"icon-cc icon-cc--unionpay"});default:return a.a.createElement("div",null)}}));var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(o,e);var t,n,r,i=tr(o);function o(){return Qn(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement($n,this.props)}}])&&Jn(t.prototype,n),r&&Jn(t,r),o}(r.PureComponent);ar.propTypes={formOpen:o.a.bool,collectAllBillingInfo:o.a.bool,showBillingInfoForm:o.a.bool.isRequired,isShowSMSField:o.a.bool,hideAllBillingInfo:o.a.bool,showLegalDataTable:o.a.bool,displayPaymentDisclaimer:o.a.bool},ar.defaultProps={formOpen:!0,collectAllBillingInfo:!1,isShowSMSField:!1,hideAllBillingInfo:o.a.bool,showLegalDataTable:!1,displayPaymentDisclaimer:!1};var ir=Object(c.connect)((function(e,t){var n=e.Payment,r=n.formOpen,a=n.acceptedCardTypes;return{serverErrors:n.serverErrors,acceptedCardTypes:a,formOpen:r,isProfileExists:t.isProfileExists,showBillingInfoForm:Object(P.nb)(e),payment:e.Payment,userEmail:e.ReviewDetails.AccountDetail.Email,phoneNumber:l()(e,"ReviewDetails.AccountDetail.PhoneNumber",""),rnLoaded:""!==l()(window.tesla,"rn",""),collectAllBillingInfo:l()(e.Payment,"collectAllBillingInfo",!1),isShowSMSField:l()(e.Payment,"isShowSMSField",!1),hideAllBillingInfo:l()(e.Payment,"hideAllBillingInfo",!1),locale:l()(e,"App.locale"),market:l()(e,"App.countryCode"),sibling:l()(e,"App.sibling"),showLegalDataTable:l()(e,"ReviewDetails.showLegalDataTable",!1),PayorName:l()(e,"Payment.PaymentDetail.PayorName"),modelCode:l()(e,"OMS.oms_params.model"),USLegalDisclaimer:l()(e,"ReviewDetails.USLegalDisclaimer")}}),(function(e){return{cancelPaymentEdit:function(){e(Object(h.cancelPaymentEdit)())},togglePaymentForm:function(t){e(Object(h.togglePaymentForm)(t))},setCCDetailsValidFlag:function(t){e(Object(h.setCCDetailsValidFlag)(t))},updatePaymentDetails:function(t){e(Object(h.updatePaymentDetails)(t))},sendVerificationCode:function(){e(Object(h.sendVerificationCode)())}}}))(ar);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pr(e);if(t){var a=pr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dr(this,n)}}function dr(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(o,e);var t,n,r,i=ur(o);function o(){return cr(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.context.i18n;return a.a.createElement("div",{className:"wire-transfer--container"},a.a.createElement("div",{className:"wire-transfer--intro tds-text--caption"},a.a.createElement("span",null,e("Review.BillingInfo.instructions"))),a.a.createElement(Nn,{paymentType:O.pe}))}}])&&sr(t.prototype,n),r&&sr(t,r),o}(r.PureComponent);mr.contextTypes={i18n:o.a.func};var fr=mr;function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pr(e);if(t){var a=Pr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Or(this,n)}}function Or(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gr(e,t)}(o,e);var t,n,r,i=hr(o);function o(){return br(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.context.i18n;return a.a.createElement("div",{className:"wire-transfer--container"},a.a.createElement("div",{className:"wire-transfer--intro tds-text--caption"},a.a.createElement("span",null,e("Review.BillingInfo.SmartPosInstructions"))),a.a.createElement(Nn,{paymentType:O.me}))}}])&&vr(t.prototype,n),r&&vr(t,r),o}(r.PureComponent);_r.contextTypes={i18n:o.a.func};var wr=_r;function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dr(e);if(t){var a=Dr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ar(this,n)}}function Ar(e,t){return!t||"object"!==Er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(o,e);var t,n,r,i=Tr(o);function o(){return Sr(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.context.i18n;return a.a.createElement("div",{className:"wire-transfer--container"},a.a.createElement("div",{className:"wire-transfer--intro tds-text--caption"},a.a.createElement("span",null,e("Review.BillingInfo.AliPayInstructions"))),a.a.createElement(Nn,{paymentType:O.he}))}}])&&jr(t.prototype,n),r&&jr(t,r),o}(r.PureComponent);Rr.contextTypes={i18n:o.a.func};var Lr=Rr;function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var a=Vr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(o,e);var t,n,r,i=kr(o);function o(){return xr(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.context.i18n;return a.a.createElement("div",{className:"wire-transfer--container"},a.a.createElement("div",{className:"wire-transfer--intro tds-text--caption"},a.a.createElement("span",null,e("Review.BillingInfo.WechatPayInstruction"))),a.a.createElement(Nn,{paymentType:O.oe}))}}])&&Ir(t.prototype,n),r&&Ir(t,r),o}(r.PureComponent);Br.contextTypes={i18n:o.a.func};var qr=Br;function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var a=Xr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?Kr(e):t}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(o,e);var t,n,r,i=zr(o);function o(){var e;Ur(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $r(Kr(e=i.call.apply(i,[this].concat(n))),"renderCreditCardButton",(function(){var t=e.props,n=t.acceptedCreditCards,r=t.showTextForPaymentTypes,i=e.context.i18n;return n.map((function(e){return a.a.createElement(a.a.Fragment,{key:e},r?i("Review.payment_type_".concat(e)):$n.getCreditCardType(e))}))})),$r(Kr(e),"renderButtonContent",(function(){var t=e.context.i18n,n=e.props,r=n.type,i=n.textOnly,o=n.showTextForPaymentTypes;switch(r){case O.je:return i&&!o?t("Review.payment_type_".concat(r)):e.renderCreditCardButton();case O.he:case O.oe:case O.me:case O.pe:return a.a.createElement(a.a.Fragment,{key:r},o?t("Review.payment_type_".concat(r)):null,o?null:a.a.createElement("div",{className:"icon-cc icon-".concat(r)}));default:return t("Review.payment_type_".concat(r))}})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.type,n=e.checked,r=e.onClick;return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{onChange:function(){return r(t)},className:"tds-o-payment-type-radio tds-tab-radio",id:"payment-".concat(t),type:"radio",name:"pyament-types",checked:n}),a.a.createElement("label",{className:"tds-o-payment-type-label tds-tab-label",htmlFor:"payment-".concat(t)},this.renderButtonContent()))}}])&&Wr(t.prototype,n),r&&Wr(t,r),o}(r.PureComponent);Zr.propTypes={type:o.a.string.isRequired,checked:o.a.bool,onClick:o.a.func,acceptedCreditCards:o.a.arrayOf(o.a.string),textOnly:o.a.bool,showTextForPaymentTypes:o.a.bool},Zr.defaultProps={checked:!1,onClick:function(){},acceptedCreditCards:[],textOnly:!1,showTextForPaymentTypes:!1},Zr.contextTypes={i18n:o.a.func};var Qr=Zr;function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oa(e);if(t){var a=oa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return aa(this,n)}}function aa(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?ia(e):t}function ia(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(o,e);var t,n,r,i=ra(o);function o(){var e;ea(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ca(ia(e=i.call.apply(i,[this].concat(n))),"paymentTypeChanged",(function(t){(0,e.props.updatePaymentDetails)({PaymentType:t})})),ca(ia(e),"renderPaymentOption",(function(t){var n=e.props,r=n.isProfileExists,i=n.displayPaymentDisclaimer;switch(t){case O.me:return a.a.createElement(wr,e.props);case O.pe:return a.a.createElement(fr,e.props);case O.oe:return a.a.createElement(qr,e.props);case O.he:return a.a.createElement(Lr,e.props);case O.je:default:return a.a.createElement(ir,{isProfileExists:r,displayPaymentDisclaimer:i})}})),ca(ia(e),"updatePaymentDetails",(function(t){(0,e.props.updatePaymentDetails)({PaymentAmount:t.target.value})})),ca(ia(e),"getOrderAgreementUrl",(function(){var t=e.props,n=t.market,r=t.modelCode,a=t.sibling,i=t.locale,o=t.isPreSale,c=t.isOldVersionOrderAgreement,s=t.oldOrderAgreementVersion,l="";o&&(l="&is_presale=".concat(o));var u="";return c&&(u="&version=".concat(s)),"".concat(Object(g.e)("order/download-order-agreement?redirect=no",a,i),"&country=").concat(n,"&model_code=").concat(r).concat(l).concat(u)})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.locale,r=t.sibling,i=t.model,o=t.paymentTypes,c=t.currentPaymentType,s=t.acceptedCreditCards,u=t.mode,d=t.isLayoutTablet,p=t.isLayoutMobile,m=t.isCCTextOnly,f=t.isShowSMSField,y=t.splitPayment,b=t.showLegalDataTable,v=t.orderDisclaimerSource,h=t.displayPaymentDisclaimer,O=t.displayOtherEUDisclaimer,P=t.ecoBonus,w=t.showTextForPaymentTypes,S=t.isPreSale,j=t.useModelYContent,C=this.context.i18n,T={"tds-tabs--pill":"pill"===u||o.length>3,"tds-tabs--more":o.length>2,"tds-tabs--less":o.length<3},A=l()(i,"name","").replace(" ","&nbsp;"),D=C(j||S?"SummaryPanel.disclaimers.reserveMVPA":"SummaryPanel.disclaimers.orderMVPA");return a.a.createElement("div",{className:"payment-type--container"},y.length>0?y.map((function(t,n){return a.a.createElement("div",{className:"tds-form-item tds-form-item--inline tds-form-radios"},a.a.createElement(a.a.Fragment,{key:t.label},a.a.createElement("div",{className:"tds-radio_buttons"},a.a.createElement("div",{className:"tds-radio"},a.a.createElement("input",{id:t.label,type:"radio",name:"split-amount",value:t.value,className:"tds-radio-input",defaultChecked:0===n,onChange:e.updatePaymentDetails}),a.a.createElement("label",{className:"tds-label tds-label--radio",htmlFor:t.label},a.a.createElement("span",{className:"tds-label-title"},C("Review.payment_in_".concat(t.label),{DEPOSIT_AMOUNT:Object(_.formatCurrency)(t.value)})))))))})):null,1===o.length?this.renderPaymentOption(o[0]):a.a.createElement("div",{className:E()("tds-tabs","tds-tabs--horizontal","review-page--payment-options",T)},o.map((function(t){return a.a.createElement(a.a.Fragment,{key:"paymentOptionFragmentNonePayex__".concat(t)},a.a.createElement(Qr,{keyValue:"PaymentTypeSelectorNonePayex__".concat(t),onClick:e.paymentTypeChanged,type:t,checked:c===t,acceptedCreditCards:s,textOnly:d||p||m,showTextForPaymentTypes:w}),a.a.createElement("div",{className:E()("tds-o-payment-type-drawer tds-tab-drawer",{"tds-o-payment-type-cn--container":f})},e.renderPaymentOption(t)))}))),h?a.a.createElement("p",{className:"order-disclaimer"},Object(g.K)(C("SummaryPanel.disclaimers.".concat(v),{LINK_TARGET:"_blank",ORDER_AGREEMENT_URL:this.getOrderAgreementUrl(),SUPERCHARGER_POLICY_URL:Object(g.e)("about/legal?redirect=no#supercharger-fair-use",r,n),PRIVACY_POLICY_URL:Object(g.e)("about/legal?redirect=no#privacy-statement",r,n),PAYMENT_TERMS_URL:Object(g.e)("about/legal?redirect=no#payment-terms-for-services",r,n),MODEL:A,MVPA_TYPE:D,ECO_BONUS:Object(_.formatCurrency)(P),INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(P))}))):null,O?a.a.createElement("p",{className:"order-disclaimer"},Object(g.K)(C("SummaryPanel.disclaimers.otherEU"))):null,b&&a.a.createElement(Vt,null))}}])&&ta(t.prototype,n),r&&ta(t,r),o}(r.Component);sa.defaultProps={mode:"pill",isShowSMSField:!1,splitPayment:[],showLegalDataTable:!1,displayOtherEUDisclaimer:!1,oldOrderAgreementVersion:"",showTextForPaymentTypes:!1,useModelYContent:!1},sa.propTypes={locale:i.string.isRequired,sibling:i.string.isRequired,market:i.string.isRequired,model:Object(i.oneOfType)([i.object,i.string]).isRequired,modelCode:i.string.isRequired,orderDisclaimerSource:i.string.isRequired,isPreSale:Object(i.oneOfType)([i.bool,i.string]).isRequired,paymentTypes:Object(i.arrayOf)(i.string).isRequired,currentPaymentType:i.string.isRequired,isProfileExists:i.bool.isRequired,updatePaymentDetails:i.func.isRequired,acceptedCreditCards:Object(i.arrayOf)(i.string).isRequired,mode:Object(i.oneOf)(["pill","tabs"]),isLayoutTablet:i.bool.isRequired,isLayoutMobile:i.bool.isRequired,isShowSMSField:i.bool,isCCTextOnly:i.bool.isRequired,splitPayment:Object(i.arrayOf)(i.object),showLegalDataTable:i.bool,displayPaymentDisclaimer:i.bool.isRequired,ecoBonus:Object(i.oneOfType)([i.string,i.number]).isRequired,displayOtherEUDisclaimer:i.bool,isOldVersionOrderAgreement:i.string.isRequired,oldOrderAgreementVersion:i.string,showTextForPaymentTypes:i.bool,useModelYContent:i.bool},sa.contextTypes={i18n:i.func};var la=sa,ua=n(547),da=n(251),pa=Object(da.a)((function(){return n.e(6).then(n.bind(null,2077))})),ma=function(e){var t=e.isFixedPickupLocation,n=e.fleetAssignedLocationId,i=e.pickupLocationsFormatted,o=e.pickupLocationsProvinceFormatted,c=e.label,s=e.locationLabel,l=e.error,u=e.defaultPickupLocation,d=e.updatePaymentProfile,p=e.updatePickupLocationProvince,m=Object(r.useRef)(),f=function(e,t){var n=e.find((function(e){return parseInt(e.value)===t}));return(null==n?void 0:n.value)||""}(i,u),y=t&&n;return Object(r.useEffect)((function(){var e,t;f&&(null==m||null===(e=m.current)||void 0===e||e.setValue("pickupLocation",f));l&&(null==m||null===(t=m.current)||void 0===t||t.setError("pickupLocation",l,{touch:!0}))}),[f,l]),a.a.createElement(Ot.a,{formApiRef:m},y?null:a.a.createElement(wt.a,{name:"pickupLocationsProvince",label:c,options:o,onChange:function(e){var t=e.value;return p(t)}}),a.a.createElement(wt.a,{name:"pickupLocation",label:y?c:s,options:i,initialValue:f,onChange:function(e){var t=e.value;return d(parseInt(t))}}))};ma.propTypes={pickupLocationsFormatted:o.a.arrayOf(o.a.shape({})).isRequired,pickupLocationsProvinceFormatted:o.a.arrayOf(o.a.shape({})).isRequired,label:o.a.string.isRequired,locationLabel:o.a.string.isRequired,updatePaymentProfile:o.a.func.isRequired,updatePickupLocationProvince:o.a.func.isRequired,error:o.a.bool.isRequired,defaultPickupLocation:o.a.number.isRequired,isFixedPickupLocation:o.a.bool.isRequired,fleetAssignedLocationId:o.a.number.isRequired};var fa=ma;function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pa(e);if(t){var a=Pa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oa(this,n)}}function Oa(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(o,e);var t,n,r,i=ha(o);function o(){return ba(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement(fa,this.props)}}])&&va(t.prototype,n),r&&va(t,r),o}(r.PureComponent);_a.propTypes={updatePaymentProfile:o.a.func.isRequired,updatePickupLocationProvince:o.a.func.isRequired,label:o.a.string.isRequired,error:o.a.bool.isRequired};var wa=Object(c.connect)((function(e){var t=e.ReviewDetails,n=void 0===t?{}:t,r=e.Payment,a=void 0===r?{}:r,i=n.isFixedPickupLocation,o=void 0!==i&&i,c=a.defaultPickupLocation,s=void 0===c?0:c,u=a.PickupLocations,d=void 0===u?[]:u,p=a.PickupLocationsFormatted,m=void 0===p?[]:p,f=a.PickupLocationsProvinceFormatted,y=void 0===f?[]:f;return{isFixedPickupLocation:o,fleetAssignedLocationId:l()(e,"ReviewDetails.product.data.FleetAssignedLocationId",null),pickupLocations:d,defaultPickupLocation:l()(e,"Payment.PaymentDetail.BillingInfoDetail.PickupLocation",s),pickupLocationsFormatted:m,pickupLocationsProvinceFormatted:y}}),(function(e){return{updatePaymentProfile:function(t){e(Object(h.updateBillingInfo)({PickupLocation:t}))},updatePickupLocationProvince:function(t){e(Object(h.updatePickupLocationProvinceData)(t))}}}))(_a),Ea=function(e){var t=e.invoiceType,n=e.isMobile,i=e.updateInvoiceType,o=e.setValidFlag,c=Object(r.useRef)(),s=l()(window.tesla,"payments.CharityInvoiceTypes",[]),u=s.map((function(e){return{value:e,label:"Review.charityType.".concat(e)}})),d=function(e){var t=e.errors,n=e.values,r=n.invoiceType,a=n.charityInvoice,c=n.companyName,l=n.invoiceNumber;if(Object.keys(t).length)o(!1);else switch(o(!0),r){case O.pb:i({type:r});break;case O.C:i({charityType:a||s[0],type:r});break;case O.jg:i({COMPANY_NAME:c,INVOICE_NUMBER:l,type:r})}},p=Object(r.useCallback)(vt()(d,500),[d]),m={invoiceType:null==t?void 0:t.type};return a.a.createElement("div",{className:E()("invoice-type--container",{"invoice-options--block":n})},a.a.createElement(Ot.a,{formApiRef:c,errorMessage:{required:Object(g.L)("common.errors__required")},onStateChange:p,initialValues:m},(function(e){var t=e.formState;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,{name:"invoiceType",options:[{value:O.pb,label:"InvoiceType.".concat(O.pb)},{value:O.C,label:"InvoiceType.".concat(O.C)},{value:O.jg,label:"InvoiceType.".concat(O.jg)}]}),t.values.invoiceType===O.pb?a.a.createElement("p",null,Object(g.L)("InvoiceType.ElectricInvoice__description")):null,t.values.invoiceType===O.C?a.a.createElement(wt.a,{name:"charityInvoice",id:O.C,label:Object(g.L)("InvoiceType.CharityInvoice"),options:u}):null,t.values.invoiceType===O.jg?[a.a.createElement(_t.a,{name:"invoiceNumber",id:O.Vc,label:Object(g.L)("InvoiceType.Invoice_number"),required:!0,key:"0"}),a.a.createElement(_t.a,{name:"companyName",id:O.N,label:Object(g.L)("InvoiceType.Company_Name"),required:!0,key:"1"})]:null)})))};Ea.propTypes={invoiceType:o.a.shape({type:""}).isRequired,updateInvoiceType:o.a.func.isRequired,invoiceFormSchema:o.a.shape({}).isRequired,setValidFlag:o.a.func.isRequired,isMobile:o.a.bool},Ea.defaultProps={isMobile:!1};var Sa=Ea;var ja=Object(c.connect)((function(e){return{invoiceType:l()(e,"Payment.InvoiceType",null),CharityInvoiceType:l()(window.tesla,"payments.CharityInvoiceTypes",[]),InvoiceDetailsValid:l()(e,"Payment.InvoiceDetailsValid",!1),isMobile:l()(e,"App.isLayoutMobileAdjusted")}}),(function(e){return{updateInvoiceType:function(t){e(Object(h.getInvoiceType)(t))},setValidFlag:function(t){e(Object(h.setInvoiceDetailsValidFlag)(t))}}}))((function(e){return a.a.createElement(Sa,e)})),Ca=n(308),Ta=function(e){var t=e.rnLoaded,n=e.isDeliveryDetailsRequired,r=e.showPickupLocation,i=e.isFixedPickupLocation,o=e.pickupLocationError,c=e.showInvoiceOption,s=e.isDeliveryDetailsRequiredOnOrderFlow;return a.a.createElement(a.a.Fragment,null,n||s?a.a.createElement("form",null,a.a.createElement(Ca.a,{classNames:"delivery-location--container__padded"})):null,t?null:[a.a.createElement("h4",{className:"review-page--header",key:"0"},Object(g.L)("Review.account_label")),a.a.createElement(kt,{title:Object(g.L)("Review.account_label"),key:"1"})],n?a.a.createElement("form",null,a.a.createElement(Ca.a,{classNames:"delivery-location--container__padded"})):null,r?a.a.createElement("div",{className:"pickup-location--container"},a.a.createElement("div",{className:"field-container pickup_location"},a.a.createElement("div",{className:"review-page--header"},Object(g.L)("Review.pickup_location_title")),a.a.createElement(a.a.Fragment,null,a.a.createElement(wa,{label:i?Object(g.L)("Review.BillingInfo.Form.pickup_fixed_location_label"):Object(g.L)("Review.BillingInfo.Form.pickup_select_province"),locationLabel:Object(g.L)("Review.BillingInfo.Form.pickup_select_location"),error:o})))):null,c?a.a.createElement("div",{className:"invoicing-options--container"},a.a.createElement("div",{className:"field-container invoice_options"},a.a.createElement("div",{className:"review-page--header"},Object(g.L)("InvoiceType.InvoiceOptions")),a.a.createElement(ja,null))):null)};Ta.propTypes={rnLoaded:i.bool,isDeliveryDetailsRequired:i.bool,showPickupLocation:i.bool,isFixedPickupLocation:i.bool,pickupLocationError:Object(i.oneOfType)([Object(i.shape)({}),i.bool]),showInvoiceOption:i.bool,isDeliveryDetailsRequiredOnOrderFlow:i.bool},Ta.defaultProps={rnLoaded:!1,isDeliveryDetailsRequired:!1,showPickupLocation:!1,isFixedPickupLocation:!1,pickupLocationError:{},showInvoiceOption:!1,isDeliveryDetailsRequiredOnOrderFlow:!1};var Aa=Object(c.connect)((function(e){var t=e.ReviewDetails,n=e.Payment,r=t.isDeliveryDetailsRequired,a=t.hideBaseField,i=void 0===a?[]:a,o=t.isFixedPickupLocation,c=void 0!==o&&o,s=t.isDeliveryDetailsRequiredOnOrderFlow,l=n.validationErrors,u=void 0===l?{}:l,d=n.showInvoiceOption,p=void 0!==d&&d,m=u[O.Xb],f=void 0!==m&&m,y=T()(i,O.ue)<0;return{rnLoaded:Object(g.w)(),isDeliveryDetailsRequired:r,showPickupLocation:y,isFixedPickupLocation:c,pickupLocationError:f,showInvoiceOption:p,isDeliveryDetailsRequiredOnOrderFlow:s}}))(Ta),Da=function(e){var t=e.showOrderFeeDisclaimer,n=e.orderRefundWithTransportFee,r=e.orderRefund,i=e.showOrderRefundDisclaimer,o=e.showNonRefundableDisclaimer,c=e.showNonRefundPolicy,s=e.isPreSale;return!!i&&a.a.createElement("p",{className:"tds-text--caption"},t?a.a.createElement("span",null,t):[a.a.createElement("span",{key:"0"},n?Object(g.K)(n):r),c&&o&&!s?[a.a.createElement("br",{key:"1-0"}),a.a.createElement("br",{key:"1-1"}),a.a.createElement("span",{key:"1-2"},Object(g.L)("SummaryPanel.disclaimers.orderNotRefundShortDisclaimer"))]:null])};Da.propTypes={showOrderFeeDisclaimer:Object(i.oneOfType)([i.string,i.bool]).isRequired,orderRefundWithTransportFee:i.string,orderRefund:i.string,showOrderRefundDisclaimer:i.bool,showNonRefundableDisclaimer:i.bool,showNonRefundPolicy:i.bool,isPreSale:i.bool},Da.defaultProps={orderRefundWithTransportFee:"",orderRefund:"",showOrderRefundDisclaimer:!1,showNonRefundableDisclaimer:!1,showNonRefundPolicy:!1,isPreSale:!1};var Ra=Object(c.connect)((function(e){var t=e.App,n=e.ReviewDetails,r=e.OMS,a=t.isTransportFeeCollectionEnabled,i=void 0!==a&&a,o=n.DeliveryDetails,c=void 0===o?{}:o,s=n.nonRefundPolicy,l=void 0===s?{}:s,u=n.nonRefundPolicyDisclaimer,d=n.showOrderRefundDisclaimer,p=n.showPreorderFeeDisclaimer,m=n.isPreSale,f=n.displayOrderRefundLongCopy,y=n.showDepositDisclaimer,b=(l||{}).source,v=void 0!==b&&b,h=r.oms_params,w=(void 0===h?{}:h).model,E=c.TransportationFee,S=void 0===E?0:E,j=c.PostalCode,C=Object(P.j)(e,!0),T=(null==C?void 0:C.orderPayment)||0,A=(null==C?void 0:C.paymentSourceSubType)||null,D=i&&S?y&&A===O.Jd?Object(g.L)("SummaryPanel.disclaimers.orderNotRefundDepositWithTransportFee",{FEE:Object(_.formatCurrency)(S),ORDER_DEPOSIT:Object(_.formatCurrency)(T),POSTAL_CODE:j}):Object(g.L)("SummaryPanel.disclaimers.orderNotRefundShortWithTransportFee",{FEE:Object(_.formatCurrency)(S),ORDER_DEPOSIT:Object(_.formatCurrency)(T),POSTAL_CODE:j}):"",R=null!=f&&f.source?"orderRefundLong":"orderRefundShort";R=y&&A===O.Jd?"orderNotRefundDeposit":R;var L=Object(g.B)(R,w,{showNonRefundPolicy:v});return{showOrderFeeDisclaimer:Object(P.jb)(e),showNonRefundableDisclaimer:u,showOrderRefundDisclaimer:!p&&d,orderRefundWithTransportFee:D,orderRefund:L,showNonRefundPolicy:v,isPreSale:m.source||!1}}))(Da),La=n(69),Na=function(e){var t=e.disclaimer;return t?a.a.createElement("div",{className:"tds-text--caption"},Object(g.K)(t)):null};Na.propTypes={disclaimer:i.string},Na.defaultProps={disclaimer:null};var xa=Object(c.connect)((function(e){var t=e.OMS,n=Object(P.P)(e),r=l()(t,"lexicon.options.".concat(n),{}),a=l()(r,"name","").replace(" ","&nbsp;");return{disclaimer:Object(g.L)("SummaryPanel.disclaimers.insuranceDisclaimer",{MODEL:a},null,{returnNullWhenEmpty:!0})}}))(Na),Ia=function(e){return e.showContactUs?a.a.createElement("div",{className:"modifier--tds-link-primary tds-text--caption tds--vertical_padding"},Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.contactus"))):null};Ia.propTypes={showContactUs:i.bool},Ia.defaultProps={showContactUs:!1};var Fa=Object(c.connect)((function(e){return{showContactUs:e.ReviewDetails.showContactUs}}))(Ia),ka=function(e){var t=e.isEnabled,n=e.showRefundPolicyi18nKey,r=e.sibling,i=e.locale,o=e.displayInline;return t&&n?a.a.createElement("span",{className:E()("modifier--tds-link",{"tds-display--inline tds--horizontal_margin-5":o})},Object(g.K)(Object(g.L)(n,{LINK_TARGET:"_blank",RETURN_POLICY_URL:Object(g.e)("support/tesla-return-policy?redirect=no",r,i)}))):null};ka.propTypes={isEnabled:i.bool,showRefundPolicyi18nKey:i.string,locale:i.string.isRequired,sibling:i.string.isRequired,displayInline:i.bool},ka.defaultProps={isEnabled:!1,showRefundPolicyi18nKey:null,displayInline:!0};var Ma=Object(c.connect)((function(e){var t=e.App,n=e.ReviewDetails,r=e.OMS,a=t.showRefundPolicyDisclaimer,i=t.showRefundPolicy,o=t.sibling,c=t.locale,s=n.product,l=void 0===s?{}:s,u=n.refundPolicySource,d=void 0===u?{}:u,p=r.oms_params,m=(void 0===p?{}:p).model,f=(l||{}).isUsedInventory,y=void 0!==f&&f,b=!!l,v=d.source,g=v?"orderRefundPolicy.".concat(v,".").concat(m):"orderRefundPolicy.".concat(m);return{isEnabled:!a&&!(!(b&&v||y)&&i),sibling:o,locale:c,showRefundPolicyi18nKey:b?"SummaryPanel.disclaimers.inventoryorderRefundPolicy":"SummaryPanel.disclaimers.".concat(g)}}))(ka),Va=function(e){var t=e.showLink,n=e.displayInline;return t?a.a.createElement("div",{className:E()("tds-text--caption",{"tds-display--inline tds--horizontal_margin-5":n})},a.a.createElement(D.a,{options:{props:{componentName:"Disclaimer",props:{genericWrapper:!0,size:O.qd,title:Object(g.L)("SummaryPanel.disclaimers.viewDisclaimer"),classes:"tds-btn--blue tds-o-btn--blue",containerCss:"tds-display--inline"}}}},a.a.createElement("span",null,Object(g.L)("SummaryPanel.disclaimers.viewDisclaimer")))):null};Va.propTypes={showLink:i.bool,displayInline:i.bool},Va.defaultProps={showLink:!1,displayInline:!0};var Ba=Object(c.connect)((function(e){return{showLink:e.ReviewDetails.showDisclaimerLink}}))(Va),qa=function(e){var t=e.showInspectionModal;return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(ie.a,null,Object(g.K)(Object(g.L)("Inspection.disclaimer",{TRIGGER:O.hg}))):null)};qa.propTypes={showInspectionModal:i.bool},qa.defaultProps={showInspectionModal:!1};var Ga=Object(c.connect)((function(e){return{showInspectionModal:e.App.showInspectionModal}}))(qa),Ua=function(e,t){var n=l()(e,"target");if("function"==typeof l()(n,"getAttribute")){var r=n.getAttribute("data-cfg-type"),a=n.getAttribute("href"),i=n.getAttribute("target");r&&a&&(e.preventDefault(),t({analytics:{"cfg-type":r,interaction:"expand"},href:a,_target:i}))}},Wa=function(e){var t=e.sectionType,n=e.displayPaymentDisclaimer,i=e.orderDisclaimerSource,o=e.sibling,c=e.locale,s=e.modelName,l=e.ecoBonus,u=e.market,d=e.modelCode,p=e.isPreSale,m=e.oldOrderAgreementVersion,f=e.isOldVersionOrderAgreement,y=e.externalClicked,b=e.isSaveDesignEnabled,v=e.grossPrice,h=e.loanTerm,P=e.downPayment,w=e.balloonPayment,S=e.monthlyPayment,j=e.totalAmtPaid,C=e.financedAmount,T=e.interestRate,A=e.mvpaType,D=e.useModelYContentState,R=e.disclaimerDateFormat,L=e.withRefundPolicy,N=e.displayInline,x=Object(r.useCallback)((function(){var e="";p&&(e="&is_presale=".concat(p));var t="";return f&&(t="&version=".concat(m)),"".concat(Object(g.e)("order/download-order-agreement?redirect=no",o,c),"&country=").concat(u,"&model_code=").concat(d).concat(e).concat(t)}),[u,d,o,c,p,f,m]);return a.a.createElement(a.a.Fragment,null,n&&t===O.ge?a.a.createElement("p",{className:"order-disclaimer tds-text--caption"},Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.".concat(i),{LINK_TARGET:"_blank",ORDER_AGREEMENT_URL:x(),BTC_ORDER_AGREEMENT_URL:"".concat(o,"/assets/pdf/btc_terms_and_conditions_").concat(c,".pdf"),SUPERCHARGER_POLICY_URL:Object(g.e)("about/legal?redirect=no#supercharger-fair-use",o,c),PRIVACY_POLICY_URL:Object(g.e)("about/legal?redirect=no#privacy-statement",o,c),PAYMENT_TERMS_URL:Object(g.e)("about/legal?redirect=no#payment-terms-for-services",o,c),MODEL:s,ECO_BONUS:Object(_.formatCurrency)(l),INCENTIVES_INCLUDED_TOTAL:Object(_.formatCurrency)(Math.abs(l)),MVPA_TYPE:A}))):null,t===O.Od?a.a.createElement("div",{className:"legal-disclaimer"},b?a.a.createElement("span",null,Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.saveDesignAgreement"))):[L?a.a.createElement(Ma,{displayInline:N,key:"0"}):null,n?null:a.a.createElement("div",{className:E()("modifier--tds-link-primary tds-text--caption",{"tds--vertical_padding":!N},{"tds-display--inline":N}),onClick:Ua.bind(null,y),onKeyPress:Ua.bind(null,y),role:"presentation",key:"1"},Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.".concat(i),{LINK_TARGET:"_blank",IS_RESERVE:D?Object(g.L)("SummaryPanel.disclaimers.reserveText"):"",MVPA_TYPE:A,ORDER_AGREEMENT_URL:x(),BTC_ORDER_AGREEMENT_URL:"".concat(o,"/assets/pdf/btc_terms_and_conditions_").concat(c,".pdf"),SUPERCHARGER_POLICY_URL:Object(g.e)("about/legal?redirect=no#supercharger-fair-use",o,c),PRIVACY_POLICY_URL:Object(g.e)("about/legal?redirect=no#privacy-statement",o,c),PAYMENT_TERMS_URL:Object(g.e)("about/legal?redirect=no#terms-of-use",o,c),WALL_CONNECTOR_POLICY_URL:Object(g.e)("/go/model-3-home-charging-package",o,c),ROADSTER_RESERVATION_AGREEMENT_URL:Object(g.e)("sites/all/modules/custom/tesla_smartling/smartling/api-translations/documents/reservation-agreement/".concat(c.replace("_","-"),"/TeslaRoadsterReservationAgreement.pdf"),o),MODEL:s,ECO_BONUS:Object(_.formatCurrency)(l),CASH_PRICE:Object(_.formatCurrency)(v),TERM:h,DOWNPAYMENT:Object(_.formatCurrency)(P),BALLON_PAYMENT:Object(_.formatCurrency)(w),PAYMENT:Object(_.formatCurrency)(S),TOTAL_AMOUNT_PAYABLE:Object(_.formatCurrency)(j),FINANCED_AMOUNT:C,RATE:T,YEAR:Object(La.formatDate)("YYYY"),DATE:Object(La.formatDate)(R)})))],a.a.createElement(xa,null),a.a.createElement(Fa,null),a.a.createElement(Ga,null),a.a.createElement(Ba,{displayInline:N})):null)};Wa.propTypes={sibling:i.string.isRequired,locale:i.string.isRequired,ecoBonus:i.number.isRequired,modelName:i.string.isRequired,displayPaymentDisclaimer:i.bool.isRequired,orderDisclaimerSource:i.string,market:i.string.isRequired,modelCode:i.string.isRequired,isPreSale:i.string,oldOrderAgreementVersion:Object(i.oneOfType)([i.bool,i.string]),isOldVersionOrderAgreement:Object(i.oneOfType)([i.bool,i.string]),externalClicked:i.func,sectionType:i.string,isSaveDesignEnabled:i.bool,grossPrice:i.number.isRequired,loanTerm:i.number,downPayment:i.number.isRequired,balloonPayment:i.number,monthlyPayment:i.string,totalAmtPaid:i.number,financedAmount:i.string,interestRate:i.number,mvpaType:i.string,useModelYContentState:i.bool,disclaimerDateFormat:i.string,withRefundPolicy:i.bool,displayInline:i.bool},Wa.defaultProps={orderDisclaimerSource:"",isPreSale:!1,oldOrderAgreementVersion:!1,isOldVersionOrderAgreement:!1,externalClicked:function(){},sectionType:O.ge,isSaveDesignEnabled:!1,loanTerm:null,balloonPayment:null,monthlyPayment:null,totalAmtPaid:null,financedAmount:null,interestRate:null,mvpaType:null,useModelYContentState:!1,disclaimerDateFormat:null,withRefundPolicy:!1,displayInline:!0};var Ya=Object(c.connect)((function(e,t){var n=t.hasBTCDisclaimer,r=e.App,a=e.Pricing,i=e.OMS,o=e.Payment,c=e.ReviewDetails,s=e.ApplicationFlow,u=e.SummaryPanel,d=e.Forms,p=r.sibling,m=r.locale,f=i.oms_params,y=f.market,b=f.model,v=s.canModifyOrder,h=c.USLegalDisclaimer,O=c.isOldVersionOrderAgreementSource,_=void 0===O?{}:O,w=c.oldOrderAgreementVersion,E=c.isPreSale,S=void 0===E?{}:E,j=c.isSaveDesignEnabled,C=c.orderPageDisclaimerCopySrc,T=c.showOrderPlacementDisclaimerCash,A=u.formattedPrices,D=void 0===A?{}:A,R=u.loanType,L=D.financeMonthlyPayment,N=D.financedAmountPayment,x=_.source,I=void 0!==x&&x,F=S.source,k=void 0!==F&&F,M=Object(P.P)(e),V=l()(i,"lexicon.options.".concat(M),{}),B=o.displayPaymentDisclaimer,q=void 0!==B&&B,G=d.disclaimerDateFormat,U=l()(V,"name","").replace(" ","&nbsp;"),W=!("cash"!==Object(P.w)(e)||!T),Y=Object(g.B)(C,b,{orderDisclaimerCash:W,loanType:R,modifyOrder:v,hasBTCDisclaimer:n}),z=Object(P.rb)(e),H=z||k?Object(g.L)("SummaryPanel.disclaimers.reserveMVPA"):Object(g.L)("SummaryPanel.disclaimers.orderMVPA");return{sibling:p,locale:m,ecoBonus:Math.abs(l()(a,"calculatorResult.data.apiResults.incentives.available.government.total",0)),modelName:U,displayPaymentDisclaimer:q,USLegalDisclaimer:h,market:y,modelCode:b,isPreSale:k,isOldVersionOrderAgreement:I,oldOrderAgreementVersion:w,isSaveDesignEnabled:j,grossPrice:l()(e,"Pricing.grossPrice",!1),loanTerm:Object(P.K)(e),downPayment:Object(P.m)(e,{context:"payment"}),balloonPayment:l()(e,"Pricing.calculatorResult.data.result.loan.balloonPayment"),monthlyPayment:L,totalAmtPaid:l()(e,"Pricing.calculatorResult.data.result.loan.regional.totalAmtPaid",null),financedAmount:N,interestRate:Object(P.F)(e),orderDisclaimerSource:Y,mvpaType:H,useModelYContentState:z,disclaimerDateFormat:G}}),(function(e){return{externalClicked:function(t){e(Object(h.externalLinkClicked)(t))}}}))(Wa),za=function(e){var t=e.isEnabled,n=e.depositAmount,r=e.depositType,i=e.bolded;return t?a.a.createElement("table",{className:"tds-table"},a.a.createElement("tbody",{className:"tds-table-body"},a.a.createElement("tr",{className:"tds-table-row"},a.a.createElement("th",{scope:"row"},a.a.createElement("span",{className:E()("tds-text--h5 tds--no_padding",{"tds-text--700":i})},Object(g.L)("SummaryPanel.disclaimers.orderPaymentShort",{DEPOSIT_TYPE:r}))),a.a.createElement("td",{className:"tds-text--end"},a.a.createElement("span",{className:E()("tds-text--h5 tds--no_padding",{"tds-text--700":i})},Object(_.formatCurrency)(n)))))):null};za.propTypes={isEnabled:i.bool,depositAmount:i.number,depositType:i.string,bolded:i.bool},za.defaultProps={isEnabled:!1,depositAmount:null,depositType:null,bolded:!1};var Ha=Object(c.connect)((function(e){var t=e.ReviewDetails,n=t.isSaveDesignEnabled,r=t.isPreSale,a=(void 0===r?{}:r).source,i=void 0!==a&&a,o=!Object(P.rb)(e)||i?Object(g.L)("SummaryPanel.disclaimers.firstDeposit"):Object(g.L)("SummaryPanel.disclaimers.reserveDeposit"),c=Object(P.j)(e);return{isEnabled:!n&&!!c,depositAmount:c,depositType:o}}))(za),Ka=function(e){var t=e.displayOtherEUDisclaimer,n=e.canModifyOrder,r=e.orderButtonDisabled,i=e.invitedOrderButtonDisabled,o=e.validateAndPlaceOrder,c=e.enableCyberpunk,s=e.rnLoaded,l=e.isReservation,u=e.displayDueAmount,d=l?"Review.btn_label__place_reservation":"Review.btn_label__place_order";return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ya,{sectionType:O.ge}),t?a.a.createElement("p",{className:"order-disclaimer"},Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.otherEU"))):null,a.a.createElement("section",{className:"review-page--pricing tds-o-text_color--20"},a.a.createElement("div",{className:"pricing-container"},!n&&u?a.a.createElement("div",{className:"items payment-due"},a.a.createElement(Ha,{bolded:c})):null,c?null:[a.a.createElement(Ra,{key:"0"}),a.a.createElement("div",{className:"tds--vertical_padding",key:"1"},a.a.createElement(Ya,{sectionType:O.Od,hasBTCDisclaimer:!u}))],a.a.createElement("div",{className:"items payment-due"},s?a.a.createElement("button",{disabled:i,className:E()("tds-btn tds-btn--blue tds-btn--large tds-btn--full",{disabled:i}),onClick:o,"data-id":"btn-order","data-subtype":"btn-order--primary",type:"button"},Object(g.L)("Review.btn_label__place_order")):a.a.createElement("button",{disabled:r,className:E()("tds-btn tds-btn--blue tds-btn--large tds-btn--full",{disabled:r}),onClick:o,"data-id":"btn-order","data-subtype":"btn-order--primary",type:"button"},Object(g.L)(d))),c?a.a.createElement(Ya,{sectionType:O.Od}):null)))};Ka.propTypes={displayOtherEUDisclaimer:i.bool,canModifyOrder:i.bool.isRequired,orderButtonDisabled:i.bool.isRequired,enableCyberpunk:i.bool.isRequired,invitedOrderButtonDisabled:i.bool.isRequired,validateAndPlaceOrder:i.func.isRequired,rnLoaded:i.bool.isRequired,isReservation:i.bool,displayDueAmount:i.bool},Ka.defaultProps={displayOtherEUDisclaimer:!1,isReservation:!1,displayDueAmount:!0};var Xa=Object(c.connect)((function(e){var t=e.ApplicationFlow,n=e.Payment,r=e.ReviewDetails,a=e.App,i=t.canModifyOrder,o=r.nonRefundPolicyDisclaimer,c=void 0!==o&&o,s=r.product,l=((void 0===s?{}:s)||{}).isReservation,u=void 0!==l&&l,d=n.displayOtherEUDisclaimer,p=void 0!==d&&d,m=a.enableCyberpunk;return{canModifyOrder:i,displayOtherEUDisclaimer:p,showOrderFeeDisclaimer:Object(P.jb)(e),showNonRefundableDisclaimer:c,enableCyberpunk:m,isReservation:u}}))(Ka);function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ti=function(e){var t=e.serverErrors,n=e.payment,i=e.locale,o=e.depositAmount,c=e.currencyCode,s=e.setValidFlag,u=e.redirectPaymentDetail,d=e.isWTEnabled,p=e.orderDisclaimerSource,f=e.enableCyberpunk,y=e.isBurstMode,b=e.showVat,v=e.showOptinDisclaimer,h=e.orderButtonDisabled,P=e.ap_enabled,_=e.hasAlerts,w=e.updatePaymentDetails,E=e.updateBillingInfo,S=e.updateAccountDetails,j=e.onPlacePublicOrder,C=e.onPlaceOrder,T=e.setSummaryPanelRegion,A=e.useProvinceFromBillingInfo,D=e.onCompleteRedirectFlow,R=e.dispatchUserHasApplePay,L=e.clearServerError,N=e.billingInfo,x=e.market,I=e.modelCode,F=e.sibling,k=e.isPreSale,M=e.isOldVersionOrderAgreement,V=e.oldOrderAgreementVersion,B=e.isLoaderActive,q=e.stopLoader,G=e.restartLoader,U=e.invitedOrderButtonDisabled,W=e.isRnHolderFlow,Y=e.billingAddressDetailsPayX,z=e.isCryptoAllowed,H=Object(r.useRef)(),K=Ja(Object(r.useState)(!0),2),X=K[0],$=K[1],Z=Ja(Object(r.useState)(!0),2),Q=Z[0],J=Z[1],ee=n.PaymentDetail,te=(void 0===ee?{}:ee).PayorName,ne=void 0===te?"":te,re=function(){var e;return Qa(e={},O.yd,String(l()(n,"PaymentDetail.PayorName","")||"")),Qa(e,O.cb,n.PaymentDetail.CreditCardDetail.AccountNumber),Qa(e,O.Cb,n.PaymentDetail.CreditCardDetail.ExpirationMonth),Qa(e,O.Db,n.PaymentDetail.CreditCardDetail.ExpirationYear),Qa(e,O.db,n.PaymentDetail.CreditCardDetail.VerificationNumber),Qa(e,O.u,l()(N,"ZipCode","")||n.PaymentDetail.BillingZipCode||null),Qa(e,O.Rb,String(l()(N,"CountryCode","")||l()(n,"PaymentDetail.CountryCode",""))),Qa(e,O.ac,String(l()(N,"StateProvince","")||"")),Qa(e,O.Pb,String(l()(N,"City","")||"")),Qa(e,O.Nb,String(l()(N,"Street","")||"")),Qa(e,O.Ob,String(l()(N,"Address2","")||"")),e},ae=-1!==window.location.search.indexOf("payxUI=localhost")?"localhost":"production"===window.tesla.environment?"prod":"stage2"===window.tesla.environment?"stage2":"stage",ie=""!==l()(window.tesla,"rn",""),oe=b?"business":"none",ce={getOrderAgreementUrl:function(){var e="";k&&(e="&is_presale=".concat(k));var t="";return M&&(t="&version=".concat(V)),"".concat(Object(g.e)("order/download-order-agreement?redirect=no",F,i),"&country=").concat(x,"&model_code=").concat(I).concat(e).concat(t)},orderDisclaimerSource:p,orderButtonDisabled:h,invitedOrderButtonDisabled:U,validateAndPlaceOrder:function(){null!=H.current&&H.current.startPayment()},rnLoaded:ie,displayDueAmount:Q},se=P?function(e){R(e)}:void 0,le=Ja(Object(r.useState)(re()),2),ue=le[0],de=le[1];return Object(r.useEffect)((function(){de(re())}),[ne]),a.a.createElement("div",{className:"payment-type--container"},a.a.createElement("div",{className:"alerts-container"},_?a.a.createElement(pa,null):null),a.a.createElement(ua.Payment,{defaultValues:{billingAddress:{city:ue[O.Pb],countryCode:ue[O.Rb],state:ue[O.ac],street:ue[O.Nb],street2:ue[O.Ob],zipCode:ue[O.u]},creditCard:{cvv:ue[O.db],expirationMonth:ue[O.Cb],expirationYear:ue[O.Db],holderName:ue[O.yd],number:ue[O.cb]},vat:{companyName:"",id:"",type:ie?oe:"none"},crypto:z?{}:void 0,oneTouch:P?{addBillingAddress:!0,addEmail:!0,addName:!0,addPhone:!0}:void 0},ctaVerb:"pay",error:t.PAYMENT_FAILED&&Object(g.L)("Review.errors__PAYMENT_FAILED"),environment:ae,locale:i,paymentAmount:o,paymentCurrencyCode:c,paymentSource:n.PaymentDetail.PaymentSource,pluginStyle:f?"cyber":"tds-3",scrim:"white",displayType:"inline",redirectUrl:u&&u.returnUrl,ref:H,signedOrderToken:null==u?void 0:u.token||u,createOrder:function(e){var t=e.billingAddress,n=void 0===t?{}:t,r=e.payment,a=void 0===r?{}:r,i=e.vat,o=a.type,c=a.nameOnTheInstrument,s=void 0===c?"":c,l=n.address2,u=n.street,d=n.city,p=n.countryCode,f=n.zipCode,y=n.stateProvince,b={Address2:l,City:d,CompanyName:i&&i.companyName,CountryCode:p,IsFromSavedProfile:!1,Street:u,VatId:i&&i.id,ZipCode:f,StateProvince:y},v=s;if(o===O.ie){var h=e.account,P=void 0===h?{}:h,_=P.firstName,D=P.lastName,R=P.phone,L=P.email;if(!Object(g.h)(_)||!Object(g.h)(D))return Promise.resolve({error:O.zb});var N=(y||"").toUpperCase(),x=(p||"").toUpperCase(),I=Object(g.J)(f).postalCode;if(!N||!I)return Promise.resolve({error:O.yb});var F=R?R.replace(/[ -]/g,""):"";b=Za(Za({},b),{},{ZipCode:I,StateProvince:N,CountryCode:x}),v="".concat(_," ").concat(D),S({Email:L,FirstName:_,LastName:D,PhoneNumber:F})}return m()(n)||E(b),!m()(y)&&A&&T(y),w({PaymentType:O.ne,RedirectPaymentName:o,PayorName:v,IsOffline:!0}),W?C():j()},cancelOrder:function(e){var t=e.transactionNumber;D(!t,t)},completeOrder:function(e){var t=e.transactionNumber;D(!0,t)},createOnlineOrder:function(e){var t=e.billingAddress,n=e.payment,r=void 0===n?{}:n,a=e.vat,i=r.instrumentDetails,o=void 0===i?{}:i,c=o.nameOnTheInstrument,s=o.cardType,l=o.lastFourDigits,u=o.expirationMonth,d=o.expirationYear,p=o.sessionToken;return t&&E({Address2:t.address2,City:t.city,CompanyName:a&&a.companyName,CountryCode:t.countryCode,IsFromSavedProfile:!1,Street:t.street,VatId:a&&a.id,ZipCode:t.zipCode,StateProvince:t.stateProvince}),t&&!m()(t.stateProvince)&&A&&T(t.stateProvince),w({PaymentType:O.je,PayorName:c,CardType:s,LastFourDigits:l,ExpirationMonth:u,ExpirationYear:d,CreditCardToken:p,BillingZipCode:t.zipCode,IsOffline:!1}),W?C():j()},onPaymentTypeChanged:function(e){e===O.ie?$(!1):$(!0),L();var t=e===O.le;J(!t)},onUserInteractionRequired:function(e){e?B&&q():G()},onValidityChange:s,onWireTransfer:d?function(e){var t=e.vat,n=e.wireAddress1,r=e.wireAddress2,a=e.wireCity,i=e.wireCountryCode,o=e.wireZipCode,c=e.wireStateProvince;return E({Address2:r,City:a,CompanyName:t&&t.companyName,CountryCode:i,IsFromSavedProfile:!1,Street:n,VatId:t&&t.VatId,ZipCode:o,StateProvince:c}),!m()(c)&&A&&T(c),w({PaymentType:O.pe}),W?C():j()}:void 0,storeToProfile:y?O.Hd:v,overrideBillingAddress:Y,prePaymentFormComponent:X?a.a.createElement(Aa,null):void 0,postPaymentFormComponent:X?a.a.createElement(Xa,ce):void 0,hasOneTouch:se}))};ti.defaultProps={rn:"",redirectPaymentDetail:null,billingInfo:{},useProvinceFromBillingInfo:!1,isBurstMode:!1,oldOrderAgreementVersion:"",enableCyberpunk:!1,billingAddressDetailsPayX:O.se},ti.propTypes={currencyCode:i.string.isRequired,depositAmount:i.number.isRequired,payment:Object(i.oneOfType)([i.object,i.bool]).isRequired,locale:i.string.isRequired,sibling:i.string.isRequired,market:i.string.isRequired,model:Object(i.oneOfType)([i.object,i.string]).isRequired,modelCode:i.string.isRequired,orderDisclaimerSource:i.string.isRequired,isPreSale:Object(i.oneOfType)([i.bool,i.string]).isRequired,serverErrors:Object(i.oneOfType)([i.object,i.string]).isRequired,updatePaymentDetails:i.func.isRequired,updateAccountDetails:i.func.isRequired,setValidFlag:i.func.isRequired,isPayXUIEnabled:i.bool.isRequired,rn:i.string,onCompleteRedirectFlow:i.func.isRequired,updateBillingInfo:i.func.isRequired,onPlacePublicOrder:i.func.isRequired,onPlaceOrder:i.func.isRequired,redirectPaymentDetail:Object(i.objectOf)(i.string),clearServerError:i.func.isRequired,isWTEnabled:i.bool.isRequired,billingInfo:Object(i.objectOf)(Object(i.oneOfType)([i.string,i.number,i.object,i.bool])),setSummaryPanelRegion:i.func.isRequired,useProvinceFromBillingInfo:i.bool,isBurstMode:i.bool,isOldVersionOrderAgreement:Object(i.oneOfType)([i.bool,i.string]).isRequired,oldOrderAgreementVersion:i.string,showOptinDisclaimer:i.string.isRequired,enableCyberpunk:i.bool,showVat:i.bool.isRequired,orderButtonDisabled:i.bool.isRequired,dispatchUserHasApplePay:i.func.isRequired,ap_enabled:i.bool.isRequired,hasAlerts:i.bool.isRequired,isLoaderActive:i.bool.isRequired,stopLoader:i.func.isRequired,restartLoader:i.func.isRequired,invitedOrderButtonDisabled:i.bool.isRequired,validateAndPlaceOrder:i.func.isRequired,saveMarketingConfig:i.func.isRequired,cancelUpdateOrder:i.func.isRequired,isRnHolderFlow:i.bool.isRequired,billingAddressDetailsPayX:i.string,isCryptoAllowed:i.bool.isRequired},ti.contextTypes={i18n:i.func,payXUIRef:i.object};var ni=ti;function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=li(e);if(t){var a=li(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return si(this,n)}}function si(e,t){return!t||"object"!==ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(o,e);var t,n,r,i=ci(o);function o(){return ai(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.isPayXUIEnabled;return a.a.createElement(a.a.Fragment,null,e?a.a.createElement(ni,this.props):null,e?null:a.a.createElement(la,this.props))}}])&&ii(t.prototype,n),r&&ii(t,r),o}(r.PureComponent);ui.propTypes={isPayXUIEnabled:i.bool.isRequired};var di=Object(c.connect)((function(e,t){var n=e.App,r=e.ApplePay,a=e.Payment,i=e.Alert,o=n.isLayoutMobile,c=n.isLayoutTablet,s=n.enableCyberpunk,u=r.enabled,d=i.alerts,p=a.formOpen,m=a.serverErrors,f=a.PaymentTypes,y=void 0===f?[]:f,b=Object(P.P)(e),v=l()(e,"ApplicationFlow.canModifyOrder"),h=l()(e,"ReviewDetails.orderPageDisclaimerCopySrc",""),_=l()(e,"OMS.oms_params.model"),w=l()(e,"ReviewDetails.showOrderPlacementDisclaimerCash"),E=l()(e,"SummaryPanel.loanType",null),S=!("cash"!==Object(P.w)(e)||!w),j=Object(g.B)(h,_,{orderDisclaimerCash:S,loanType:E,modifyOrder:v}),C=l()(e,"ReviewDetails.product.isUsedInventory",!1);null!==Object(g.L)("SummaryPanel.disclaimers.".concat(j).concat(C?"__used":""),null,null,{returnNullWhenEmpty:!0})&&(j="".concat(j).concat(C?"__used":""));var T=l()(e,"Configuration.rn",null);return{enableCyberpunk:s,orderDisclaimerSource:j,market:l()(e,"OMS.oms_params.market"),locale:l()(e,"Locale.find_my_tesla.locale"),sibling:l()(e,"App.sibling"),modelCode:_,model:l()(e,"OMS.lexicon.options.".concat(b),{}),isPreSale:l()(e,"ReviewDetails.isPreSale.source",!1),serverErrors:m,formOpen:p,payment:e.Payment,isProfileExists:l()(t,"isProfileExists",!1),paymentTypes:y,depositAmount:Object(P.j)(e),currentPaymentType:l()(e,"Payment.PaymentDetail.PaymentType",null),redirectPaymentDetail:l()(e,"Payment.RedirectPaymentDetail"),currencyCode:l()(e,"Payment.PaymentDetail.CurrencyCode",null),acceptedCreditCards:l()(e,"Payment.acceptedCardTypes",[]),userEmail:l()(e,"ReviewDetails.AccountDetail.Email",null),isLayoutMobile:o,isLayoutTablet:c,splitPayment:l()(e,"Payment.splitPayment",[]),isCCTextOnly:l()(e,"Payment.isCCTextOnly",!1),isShowSMSField:l()(e,"Payment.isShowSMSField",!1),isPayXUIEnabled:l()(e,"App.isPayXUIEnabled",!1),rn:T,showLegalDataTable:l()(e,"ReviewDetails.showLegalDataTable",!1),isWTEnabled:y.includes(O.pe),isCCEnabled:y.includes(O.je),displayPaymentDisclaimer:l()(e,"Payment.displayPaymentDisclaimer",!1),showOptinDisclaimer:l()(e,"Payment.showOptinDisclaimer",O.vf),displayOtherEUDisclaimer:l()(e,"Payment.displayOtherEUDisclaimer",!1),ecoBonus:Math.abs(l()(e,"Pricing.calculatorResult.data.apiResults.incentives.available.government.total",0)),billingInfo:l()(e,"Payment.PaymentDetail.BillingInfoDetail",null),useProvinceFromBillingInfo:l()(e,"Payment.useProvinceFromBillingInfo",!1),isBurstMode:l()(e,"App.isBurstMode",!1),showTextForPaymentTypes:l()(e,"Payment.showTextForPaymentTypes",!1),useModelYContent:Object(P.rb)(e),isOldVersionOrderAgreement:l()(e,"ReviewDetails.isOldVersionOrderAgreement.source",!1),oldOrderAgreementVersion:l()(e,"ReviewDetails.oldOrderAgreementVersion",""),showVat:l()(e,"ReviewDetails.showVAT",!1),ap_enabled:u,hasAlerts:!!d.length,isOneTouchEnabled:e.ApplePay.enabled,isLoaderActive:l()(e,"Loader.active",!1),isRnHolderFlow:T&&!l()(e,"ApplicationFlow.canModifyOrder",!1),billingAddressDetailsPayX:l()(e,"Payment.billingAddressDetailsPayX"),isCryptoAllowed:l()(e,"ApplicationFlow.isCryptoAllowed",!1)}}),(function(e){return{clearServerError:function(){e(Object(h.clearServerError)())},onPlacePublicOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Object(h.createEnergyLead)()),e(Object(h.placePublicOrderFlow)(t))},onPlaceOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Object(h.createEnergyLead)()),e(Object(h.placeOrderFlow)(t))},setValidFlag:function(t){e(Object(h.setPaymentFormValidFlag)(t))},updateBillingInfo:function(t){e(Object(h.updateBillingInfo)(t))},updatePaymentDetails:function(t){e(Object(h.updatePaymentDetails)(t))},updateAccountDetails:function(t){e(Object(h.updateAccountDetails)(t))},setSummaryPanelRegion:function(t){e(Object(h.setSummaryPanelRegion)(t))},togglePaymentForm:function(t){e(Object(h.togglePaymentForm)(t))},onCompleteRedirectFlow:function(t,n){e(Object(h.completeRedirectOrderFlow)(t,n))},dispatchUserHasApplePay:function(t){e(Object(h.userHasApplePay)(t))},stopLoader:function(){e(Object(h.removeLoader)())},restartLoader:function(){e(Object(h.startLoader)())}}}))(ui),pi=function(e,t){var n=Object(r.useRef)(null),a=Object(r.useRef)(e);return Object(r.useEffect)((function(){a.current=e})),Object(r.useEffect)((function(){if("number"==typeof t)return n.current=window.setInterval((function(){return a.current()}),t),function(){return window.clearInterval(n.current)}}),[t]),n.current};function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yi=O.xd.MODEL_3,bi=function(e){var t=e.qrcode,n=e.rn,i=e.modelCode,o=e.isPaymentInteractionRequired,c=e.timeLimit,s=e.intervalTick,l=mi(Object(r.useState)(c),2),u=l[0],d=l[1],p=mi(Object(r.useState)(null),2),m=p[0],f=p[1],y=O.td[i],b=i!==yi?"/".concat(y,"/confirmation/").concat(n):"/".concat(y,"/delivery-intent/").concat(n);return pi((function(){var e=u-1;d(e),e<1&&(f(null),window.location=b)}),m),Object(r.useEffect)((function(){o&&(d(u<=0?c:u),f(s))}),[o]),a.a.createElement(J.Collapse,{isOpened:o&&t},a.a.createElement("div",{className:"wechat-panel"},a.a.createElement("div",{className:"icon-cc icon-WECHATPAY tds--align_center"}),a.a.createElement("img",{src:t,alt:"Wechat QR Code",className:"wechat-qrcode tds--align_center"}),a.a.createElement("div",{className:"tds-text--center"},Object(g.K)(Object(g.L)("SummaryPanel.wechat_count_down_label",{COUNTER:u}))),a.a.createElement("button",{type:"button",className:"tds-btn tds-btn--outline tds-btn--full wechat-btn-paid",onClick:function(){window.location=b}},Object(g.K)(Object(g.L)("SummaryPanel.wechat_payment_complete")))))};bi.propTypes={qrcode:i.string,rn:i.string,modelCode:i.string,isPaymentInteractionRequired:i.bool,timeLimit:i.number,intervalTick:i.number},bi.defaultProps={qrcode:"",rn:"",modelCode:"",isPaymentInteractionRequired:!1,intervalTick:1e3,timeLimit:60};var vi=Object(c.connect)((function(e){return{qrcode:l()(e,"Payment.WechatQRCode",""),rn:l()(e,"Configuration.rn",null),modelCode:l()(e,"Configuration.model_code",""),isPaymentInteractionRequired:l()(e,"Payment.isPaymentInteractionRequired",!1)}}))(bi);function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ei(e);if(t){var a=Ei(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _i(this,n)}}function _i(e,t){return!t||"object"!==gi(t)&&"function"!=typeof t?wi(e):t}function wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(o,e);var t,n,r,i=Pi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Si(wi(t=i.call(this,e)),"openForms",(function(){var e=t.props,n=e.isSessionSet,r=e.dispatchCheckSession,a=e.modelCode;!n&&pt()(r)&&r(),t.setState({isOpen:!0},(function(){setTimeout((function(){var e=t.props,n=e.isLayoutMobile,r=e.isLayoutTablet,a=document.querySelector(".review-page--creditcard"),i=n||r?document.querySelector(".config-main"):document.querySelector(".config-aside"),o=a.getBoundingClientRect().top+window.scrollY;i&&o&&i.scroll({top:o,behavior:"smooth"})}),250)})),re.a.fireTagEvent({event:"configurator",interaction:"buy-now","cfg-type":a})})),Si(wi(t),"handleApplePay",(function(){var e=t.props.handleApplePayBtnClick;t.setState({isOpen:!1}),e()})),t.state={isOpen:!1},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.userHasApplePay,n=e.handleApplePayBtnClick,r=e.isCollapsedFlow,i=e.rnLoaded,o=e.depositAmount,c=e.ccDetailsValid,s=e.submitTried,l=e.orderButtonDisabled,u=e.invitedOrderButtonDisabled,d=e.saveMarketingConfig,p=e.validateAndPlacePublicOrder,m=e.validateAndPlaceOrder,f=e.cancelUpdateOrder,y=e.modifyOrder,b=e.isSaveDesignEnabled,v=e.validateAndSaveDesign,g=e.saveDesignButtonDisabled,h=e.showPickupLocation,O=e.pickupLocationError,P=e.showInvoiceOption,_=e.isReservation,w=e.isFixedPickupLocation,S=e.isPaymentFormOpen,j=e.isDeliveryDetailsRequired,C=e.isDeliveryDetailsValid,T=e.handleFieldHighlight,A=e.modelName,D=e.isPayXUIEnabled,R=e.children,L=e.isPaymentInteractionRequired,N=this.state.isOpen,x=this.context.i18n,I=_?"Review.btn_label__place_reservation":"Review.btn_label__place_order";return a.a.createElement("div",{className:"error-scroll-container"},!D||y?[y?null:a.a.createElement("div",{className:E()("tds--vertical_padding action-block__buttons",{"payment-form--hidden":!N}),key:"0"},t?a.a.createElement("div",{className:"apple_pay"},a.a.createElement("div",{className:"tds-btn tds-btn--full apple_pay-button",disabled:!C,onClick:C?n:T,role:"button",onKeyPress:C?n:T,tabIndex:"0","aria-label":"apple pay button"})):null,!r||r&&!S&&!N?a.a.createElement("button",{type:"button",className:"tds-btn tds-btn--outline tds-btn--full",onClick:N||!C?null:this.openForms},x("common.orderWithCard")):null),a.a.createElement(J.Collapse,{isOpened:(i||N||S&&!t)&&!L,springConfig:ee.presets.noWobble,key:"1"},y&&i?null:a.a.createElement("div",{className:"review-page--container review-page--creditcard"},a.a.createElement("section",{className:"review-page--content"},a.a.createElement("div",{className:"review-page--body"},a.a.createElement("div",{className:"collapse-container"},!t&&j?a.a.createElement("form",null,a.a.createElement(Ca.a,{classNames:"delivery-location--container__padded"})):null,i?null:[a.a.createElement("h5",{className:"review-page--header",key:"0"},x("Review.account_label")),a.a.createElement(kt,{title:x("Review.account_label"),key:"1"})],h?a.a.createElement("div",{className:"pickup-location--container"},a.a.createElement("div",{className:"field-container pickup_location"},a.a.createElement("h5",{className:"review-page--header"},x("Review.pickup_location_title")),a.a.createElement(a.a.Fragment,null,a.a.createElement(wa,{label:x(w?"Review.BillingInfo.Form.pickup_fixed_location_label":"Review.BillingInfo.Form.pickup_select_province"),locationLabel:x("Review.BillingInfo.Form.pickup_select_location"),error:O})))):null,P?a.a.createElement("div",{className:"invoicing-options--container"},a.a.createElement("div",{className:"field-container invoice_options"},a.a.createElement("div",{className:"review-page--header"},x("InvoiceType.InvoiceOptions")),a.a.createElement(ja,null))):null,!b&&a.a.createElement("div",{className:"payment-block tds--vertical_padding"},a.a.createElement("h5",{className:"review-page--header"},x("Review.payment_label")),!c&&s?a.a.createElement("div",{className:"review-page--credit-card-errors"},x("Review.errors__ccFieldsInvalid")):null,a.a.createElement("form",null,a.a.createElement("fieldset",{className:"tds-form-fieldset"},a.a.createElement("legend",{className:"tds-form-legend tds-form-item-label tds--is_invisible"},x("Review.payment_label")),a.a.createElement(di,{mode:"tabs"})))))))),a.a.createElement("section",{className:"review-page--pricing tds-o-text_color--20"},a.a.createElement("div",{className:"pricing-container"},!y&&o?a.a.createElement("div",{className:"items payment-due"},a.a.createElement(Ha,null)):null,y?null:[a.a.createElement(Ra,{key:"0"}),R],a.a.createElement("div",{className:"items payment-due"},b?a.a.createElement("button",{disabled:g,className:E()("tds-btn tds-btn--blue tds-btn--large tds-btn--full ",{disabled:g}),onClick:v,"data-id":"btn-order","data-subtype":"btn-order--save-design",type:"button"},x("saveDesign","common.ui")):i?y?a.a.createElement("button",{className:E()("tds-btn tds-btn--blue tds-btn--large tds-btn--full"),onClick:d,"data-id":"btn-order","data-subtype":"btn-order--update-order",type:"button"},x("Review.update_order")):a.a.createElement("button",{disabled:u,className:E()("tds-btn tds-btn--blue tds-btn--large tds-btn--full",{disabled:u}),onClick:m,"data-id":"btn-order","data-subtype":"btn-order--primary",type:"button"},x("Review.btn_label__place_order")):a.a.createElement("button",{disabled:l,className:E()("tds-btn tds-btn--blue tds-btn--large tds-btn--full",{disabled:l}),onClick:p,"data-id":"btn-order","data-subtype":"btn-order--primary",type:"button"},x(I))),y?a.a.createElement("button",{className:"cancel-order-button tds-btn tds-btn--outline tds-btn--full","data-id":"btn-order","data-subtype":"btn-order--cancel-update-order",onClick:f,onKeyPress:f,tabIndex:0,type:"button"},x("Review.cancel_update_order",{MODEL:A.replace("&nbsp;"," ")})):null))),a.a.createElement(vi,{key:"2"})]:null,!y&&D?a.a.createElement(di,{mode:"tabs",orderButtonDisabled:l,invitedOrderButtonDisabled:u,validateAndPlacePublicOrder:p,validateAndPlaceOrder:m}):null)}}])&&hi(t.prototype,n),r&&hi(t,r),o}(r.Component);ji.propTypes={userHasApplePay:i.bool.isRequired,handleApplePayBtnClick:i.func,isCollapsedFlow:i.bool.isRequired,isLayoutMobile:i.bool.isRequired,isLayoutTablet:i.bool.isRequired,rnLoaded:i.bool.isRequired,depositAmount:i.number.isRequired,ccDetailsValid:i.bool.isRequired,submitTried:i.bool,orderButtonDisabled:i.bool.isRequired,invitedOrderButtonDisabled:i.bool.isRequired,saveMarketingConfig:i.func.isRequired,validateAndPlacePublicOrder:i.func.isRequired,cancelUpdateOrder:i.func.isRequired,validateAndPlaceOrder:i.func.isRequired,modifyOrder:i.bool.isRequired,isFixedPickupLocation:i.bool,isPaymentFormOpen:i.bool,isSessionSet:i.bool,dispatchCheckSession:i.func,isDeliveryDetailsRequired:i.bool.isRequired,isDeliveryDetailsValid:i.bool.isRequired,handleFieldHighlight:i.func,isSaveDesignEnabled:i.bool,validateAndSaveDesign:i.func,saveDesignButtonDisabled:i.bool,showPickupLocation:i.bool,pickupLocationError:i.bool,showInvoiceOption:i.bool,isReservation:i.bool,children:Object(i.shape)({}),modelCode:i.string,modelName:i.string,isPayXUIEnabled:i.bool,isPaymentInteractionRequired:i.bool},ji.defaultProps={handleApplePayBtnClick:function(){},isPaymentFormOpen:!0,isSessionSet:!1,dispatchCheckSession:null,handleFieldHighlight:null,submitTried:!1,isSaveDesignEnabled:!1,validateAndSaveDesign:function(){},saveDesignButtonDisabled:!1,showPickupLocation:!1,pickupLocationError:!1,showInvoiceOption:!1,isReservation:!1,children:{},modelCode:"",isFixedPickupLocation:!1,modelName:"",isPayXUIEnabled:!1,isPaymentInteractionRequired:!1},ji.contextTypes={i18n:i.func};var Ci=n(831);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t){return(Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ki(e);if(t){var a=ki(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ii(this,n)}}function Ii(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?Fi(e):t}function Fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(o,e);var t,n,r,i=xi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).refsTemp={},t.state={MAX_QTY:1e3,errors:{}},t.setRef=t.setRef.bind(Fi(t)),t.onQtyUpdate=t.onQtyUpdate.bind(Fi(t)),t}return t=o,(n=[{key:"onInputChange",value:function(e){var t=this.props,n=t.updateInfo,r=t.model,a=t.locale,i=t.countryCode,o=t.totalOrders;e&&n({modelCode:r,series:e,locale:a,countryCode:i,qty:o})}},{key:"onQtyUpdate",value:function(e){var t=this.props,n=t.updateInfo,r=t.VehicleDetail,a=parseInt(e),i=this.state.MAX_QTY,o={};a&&a<=i?n(Di(Di({},r),{},{qty:a})):o.maxQty=Object(g.L)("Reservation.error__maxQty",{MAX_QTY:i}),this.setState({errors:o})}},{key:"render",value:function(){var e=this,t=this.props,n=t.model,r=t.showQtyInput,i=t.VehicleDetail,o=t.paymentAmt,c=t.totalOrders,s=t.showFoundersDisclaimers,l=this.state.errors,u=i?i.series:null,d=s&&"FOUNDERS"===u?"description_founder":"description";return a.a.createElement(Ot.a,null,a.a.createElement("div",{className:"form-container form-theme--rounded_white"},a.a.createElement("div",{className:"two-fields-side-by-side selection-form"},n===O.xd.ROADSTER?[a.a.createElement("button",{type:"button",className:E()("tds-btn tds-btn--white tds-btn--full selection-btn",{selected:u===O.tc}),onClick:function(){return e.onInputChange(O.tc)},key:"0"},Object(g.L)("Reservation.".concat(n,".label"))),a.a.createElement("button",{type:"button",className:E()("tds-btn tds-btn--white tds-btn--full selection-btn",{selected:u===O.pc}),onClick:function(){return e.onInputChange(O.pc)},key:"1"},Object(g.L)("Reservation.".concat(n,".founder_label")))]:null,a.a.createElement("div",{className:"two-fields-side-by-side selection-form"},a.a.createElement("div",{className:"field-container"},r?a.a.createElement(FormattedNumberInput,{allowEmpty:!0,id:"Qty_".concat(n),label:Object(g.L)("Reservation.Quantity"),ref:function(t){return e.setRef("Qty",t)},key:"Quantity_".concat(n),defaultValue:c,onChange:this.onQtyUpdate,framework:"tds",errors:l.maxQty}):null)),a.a.createElement("span",{className:"selection-form--description"},a.a.createElement("p",{className:"selection-text"},Object(g.K)(Object(g.L)("Reservation.".concat(n,".").concat(d),{INITIAL_AMT:Object(_.formatCurrency)(o.initial),WIRE_TRANSFER_AMT:Object(_.formatCurrency)(o.second),ADDITIONAL_AMT:Object(_.formatCurrency)(o.initial+o.second)})))))))}}])&&Li(t.prototype,n),r&&Li(t,r),o}(r.Component);Mi.propTypes={model:o.a.string.isRequired,showQtyInput:o.a.bool,VehicleDetail:o.a.shape({series:o.a.string}),locale:o.a.string.isRequired,countryCode:o.a.string.isRequired,paymentAmt:o.a.shape({initial:o.a.string,second:o.a.string,total:o.a.string}),showFoundersDisclaimers:o.a.bool,totalOrders:o.a.number,updateInfo:o.a.func.isRequired},Mi.defaultProps={showFoundersDisclaimers:!1,totalOrders:1,VehicleDetail:{},showQtyInput:!1,paymentAmt:{}};var Vi=Object(c.connect)((function(e){var t=l()(e,"ReviewDetails.VehicleDetail",{});return{model:l()(e,"OMS.oms_params.model",""),showQtyInput:l()(e,"ReviewDetails.showQtyInput",!1),VehicleDetail:t,totalOrders:l()(t,"qty",null),locale:l()(e,"App.locale",""),countryCode:l()(e,"App.countryCode",""),paymentAmt:Object(P.U)(e),showFoundersDisclaimers:l()(e,"ReviewDetails.showFoundersDisclaimers",!1)}}),(function(e){return{updateInfo:function(t){e(Object(h.updateVehicleDetail)(t))}}}))(Mi),Bi=function(e){var t=e.showLink,n=e.applyForFinancing;return t&&n?a.a.createElement("span",null,Object(g.K)(n)):null};Bi.propTypes={showLink:i.bool,applyForFinancing:i.string},Bi.defaultProps={showLink:!1,applyForFinancing:""};var qi=Object(c.connect)((function(e){var t=e.ReviewDetails,n=e.ApplicationFlow,r=e.App,a=t.hideApplyForFinancing,i=n.canModifyOrder,o=r.sibling,c=r.locale;return{showLink:!a&&!i,applyForFinancing:Object(g.L)("SummaryPanel.disclaimers.applyForFinancing",{FAQ_DELIVERY_QUESTIONS:Object(g.e)("support/frequently-asked-delivery-questions?redirect=no#info-financial",o,c)},null,{returnNullWhenEmpty:!0})}}))(Bi),Gi=function(e){return e.showLink?a.a.createElement(D.a,{options:{props:{componentName:"SaveDesign",props:{genericWrapper:!0,size:O.qd,title:Object(g.L)("common.shareDesign"),classes:"tds-btn--blue",containerCss:"tds-text--center save-design"}}}},a.a.createElement("span",null,Object(g.L)("share.shareDesign"))):null};Gi.propTypes={showLink:i.bool},Gi.defaultProps={showLink:!1};var Ui=Object(c.connect)((function(e){var t=e.ApplicationFlow,n=e.App.isSaveDesignLiteEnabled;return{showLink:!t.canModifyOrder&&n}}))(Gi),Wi=function(e){return e.showLink?a.a.createElement("span",null,Object(g.K)(Object(g.L)("SummaryPanel.disclaimers.vatDisclaimer"))):null};Wi.propTypes={showLink:i.bool},Wi.defaultProps={showLink:!1};var Yi=Object(c.connect)((function(e){return{showLink:e.ReviewDetails.showVatDisclaimer}}))(Wi);function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qi(e);if(t){var a=Qi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $i(this,n)}}function $i(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?Zi(e):t}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(o,e);var t,n,r,i=Xi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ji(Zi(t=i.call(this,e)),"triggerAnalytics",(function(e){var n=l()(e,"target");if("function"==typeof l()(n,"getAttribute")){var r=n.getAttribute("data-cfg-type"),a=n.getAttribute("href"),i=n.getAttribute("target");if(r&&a){var o=t.props.externalLinkClicked;e.preventDefault(),o({analytics:{"cfg-type":r,interaction:"expand"},href:a,_target:i})}}})),Ji(Zi(t),"getOptionIndicatorOverwite",(function(e){var n=t.props.configuration;return Object(g.l)([e],n)})),Ji(Zi(t),"handlePostConnect",(function(){var e=t.props,n=e.triggerPostConnectRedirect,r=e.postConnectUrl;setTimeout((function(){n(r)}),500)})),Ji(Zi(t),"getPricingSectionProps",(function(){return j()(t.props,["modelCode","selectedTab","model","baseConfiguration","discounts","options","vehiclePrice","monthlyPayment","amountAtSigning","leaseAmountDueAtSigning","loanTerm","leaseTerm","interestRate","downPayment","downPaymentPercentage","loanAfterSaving","leaseAfterSaving","destinationAndDocFee","recyclingFee","tireFee","summaryRegionalFees","showIncentivesSectionTitle","showdestinationAndDocFee","incentives","incentivesTotal","tcc","configuration","fuelYears","leaseMileage","activeFinanceTypes","modelCode","showVAT","vatAmount","reversePricingOrder","hideAfterSavingsPrice","showSavingsAmount","savingsAmount","hideTaxesAndFeesExcluded","showOtherLoanTerms","loanDistance","effectiveRate","residualAmount","extraIncentives","leaseExtraIncentives","showPrpLink","showLeaseSummaryFields","showLeaseSummaryDisclaimer","shortPrice","cashPrice","cashPriceExVAT","showAmountIncludingFees","hideDestinationDocFee","showLoanSummaryFields","showLoanSummaryDisclaimer","ecoBonus","leaseData","loanData","regionalTax","registrationTax","showRegistrationTax","specialTax","ecoTaxReduction","governmentGrant","governmentIncentivesTotal","governmentIncentivesPeriod","market","showCustomizeLabel","leaseRate","loanRate","debitRate","startFee","hideAfterSavingsModal","showOptionsPricing","showBeforeSavingsPriceFinancingLabel","sibling","locale","showSecondDepositDisclaimer","useModelYContent","showRegionalTaxTypes","showDistinctTaxTotal","vehiclePriceInclFees","regionalTaxValues","showDriveAwayPrice","showFormattedMonthlyPayment","showSavingsDisclaimer","deliveryFee","frtFee","exlFrtPrice","OMVICFee","grossPrice","balloonPayment","totalAmtPaid","gstSalePrice","onRoadfeesTotal","showFeesDisclaimer","regionalTax","showRegionalTax","setPricingDetails","showChargerDisclaimer","includeTeslaInsurance","insuranceAmount","showOtherFeesinSummary","showLoanFieldsOrderPage","showOrderPageSummaryOtherFees","showTaxCalcDisclaimer","showSavingsDisclaimeronCashTab","cashTabIncentives","isReservation","reservationAmt","VehicleDetail","showDOCandOMVICfees","showVATBreakdown","ACFee","registrationType","showNonRefundPolicy","purchaseTax","vehiclePriceWithoutDiscounts","showEvSubsidyDisclaimer","showGrossPriceTotal","netPrice","reservationPriceLabel","showOrderFee","showPaymentDisclaimers","showPurchasePrice","financeTabs","monthlyLeasePayment","financeProductId","USLegalDisclaimer","deliveryPostalCode","transportationFee","isDeliveryDetailsValid","isTransportFeeEnabled","isTransportFeeCollectionEnabled","userHasApplePay","modifyOrder","isEstimatedPrice","showMonthlyPaymentQuote","disclaimerDateFormat","loanType","incentiveTotalInPurchasePrice","sellerDiscount","stateContribution","showVatDisclaimer","showGovernmentSubsidy","totalSavings","fuelReward","onTypeChange","setDrivertype","financeProductByType","driverType","triggerSelectTab","selectedFinanceProduct"])})),Ji(Zi(t),"handleFieldHighlight",(function(){(0,t.props.setFieldError)(O.Vb)})),t.getOptionIndicatorOverwite=t.getOptionIndicatorOverwite.bind(Zi(t)),t}return t=o,(n=[{key:"render",value:function(){var e=this.handlePostConnect,t=this.handleFieldHighlight,n=this.props,r=n.options,i=n.discounts,o=n.baseConfiguration,c=n.model,s=n.modelCode,u=n.showInvoiceOption,d=n.validateAndPlaceOrder,p=n.validateAndPlacePublicOrder,m=n.cancelUpdateOrder,f=n.saveMarketingConfig,y=n.submitTried,b=n.ccDetailsValid,v=n.accountDetailsValid,h=n.isDeliveryDetailsValid,P=n.isDeliveryDetailsRequired,w=n.orderPlaced,S=n.handleApplePayBtnClick,j=n.userHasApplePay,C=n.depositAmount,L=n.modifyOrder,N=n.rnLoaded,x=n.isMobile,I=n.isTablet,F=n.configuration,k=n.isPaymentDetailsValid,M=n.isInvoiceDetailsValid,V=n.connect,B=n.financeTabs,q=n.validateAndSaveDesign,G=n.showRightOrder,U=n.showReturnPolicy,W=n.hideBaseField,Y=n.validationErrors,z=n.showRegistrationTypeSelector,H=n.showPricesDetail,K=n.showDistinctTaxTotal,X=n.destinationAndDocFee,$=n.hideEstimatedDeliveryOrderPage,Z=n.showOtherFeesinSummary,J=n.fuelYears,ee=n.isReservation,te=n.showOrderFeeDisclaimer,ne=n.showNonRefundPolicy,re=n.showOrderRefundDisclaimer,ae=n.isPaymentFormOpen,oe=n.isPaymentInteractionRequired,ce=n.accessoriesSelected,se=n.accessoriesPrice,le=n.showOrderFee,ue=n.showNonRefundableDisclaimer,de=n.interstateTransitFee,pe=n.transportationFee,me=n.deliveryPostalCode,fe=n.isTransportFeeEnabled,ye=n.isTransportFeeCollectionEnabled,be=n.depositAmountBase,ve=n.isSessionSet,ge=n.dispatchCheckSession,he=n.isSinglePage,Oe=n.isCollapsedFlow,Pe=n.orderFeeDislaimer,_e=n.displayAsset,we=n.isAsset,Ee=n.withAsset,Se=n.classes,je=n.isPayXUIEnabled,Ce=n.isSaveDesignEnabled,Te=n.isFixedPickupLocation,Ae=n.isSaveDesignLiteEnabled,De=n.isDownloadPDFEnabled,Re=n.fuelReward;if(we&&!_e)return null;var Le=this.getPricingSectionProps(),Ne=w||!k(),xe=w||!k()||!v||!M()||!h,Ie=!v,Fe=Object(g.B)("orderRefundShort",s,{showNonRefundPolicy:ne}),ke=l()(c,"name",""),Me=ye&&pe?Object(g.L)("SummaryPanel.disclaimers.orderNotRefundShortWithTransportFee",{FEE:Object(_.formatCurrency)(pe),ORDER_DEPOSIT:Object(_.formatCurrency)(be),POSTAL_CODE:me}):"",Ve=ye?"transport_fee_label_with_action":"estimate_transport_fee_label_with_action",Be=l()(Y,"".concat(O.Xb),!1),qe=T()(W,O.ue)<0,Ge=ee?"Reservation.".concat(s,".model_label"):"Review.model_label";G&&B.unshift(B.reverse().pop());var Ue=j&&fe&&h;return we&&!_e?null:a.a.createElement(a.a.Fragment,null,!we||Ee?a.a.createElement("div",{className:E()("tds-content_container tds--padding cf-content_container",{"option-widget--container":x},Ji({},Se,Se))},a.a.createElement("div",{className:"tds--vertical_padding"},he?null:[a.a.createElement("h2",{className:"cf-h2-title tds-text--center",key:"0"},Object(g.L)(Ge,{MODEL:ke})),ee?a.a.createElement("div",{className:"review-page--container",key:"1"},a.a.createElement(Vi,null)):null],Ue?a.a.createElement("div",{className:"tds-flex--justify-center tds-status_msg",role:"alert"},a.a.createElement("svg",{className:"tds-status_msg-icon",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("use",{xlinkHref:"#tds-info-blue"})),a.a.createElement("div",{className:"tds-status_msg-text"},a.a.createElement("div",{className:"tds-status_msg-body"},a.a.createElement(ie.a,{key:"transportationFeeModalReview"},Object(g.K)(Object(g.L)("DeliveryLocation.".concat(pe?Ve:"estimate_transport_nofee_label_with_action"),{FEE:Object(_.formatCurrency)(pe),TRIGGER:O.ig,POSTAL_CODE:me})))))):null,a.a.createElement(Ui,null),L||Ae||!De?null:a.a.createElement("div",{className:"tds-text--center"},a.a.createElement(Ci.a,{label:Object(g.L)("share.downloadPDF")})),he?null:a.a.createElement(R.default,{className:"delivery-date--link tds-text--caption",hideEstimatedDeliveryOrderPage:$})),he||ee?null:a.a.createElement(Q,{discounts:i,baseConfiguration:o,options:r,isPriceIndicatorVisible:!H,configuration:F,hideBaseField:W,showRegistrationTypeSelector:z,showDistinctTaxTotal:K,destinationAndDocFee:X,showOtherFeesinSummary:Z,accessoriesSelected:ce,accessoriesPrice:se,depositAmount:C,showOrderFee:le,interstateTransitFee:de,fuelReward:Re}),he?null:a.a.createElement(rt,Le,a.a.createElement("div",{className:"savings-disclaimer"},Object(g.L)("SummaryPanel.disclaimers.savingsAfterPurchase",{NUM_FUEL_YEAR:J},null,{specificOverride:s}),a.a.createElement(D.a,{options:{props:{componentName:"GasSaving",props:{genericWrapper:!0,size:O.qd,modelName:ke}}}},a.a.createElement("a",{className:"tds-link"}," ",Object(g.L)("Review.savings_link_label"))))),L?null:[he?a.a.createElement("div",{className:"pricing-container review-page--due-today review-page--due-today-container",key:"0"},a.a.createElement(Yi,null),a.a.createElement(qi,null),a.a.createElement(Ha,{bolded:!0}),Pe?a.a.createElement("div",null,a.a.createElement(A.a,{tag:{component:"span"},data:Pe})):null):null,!he&&U?a.a.createElement("div",{className:"pricing-container review-page--due-today review-page--due-today-container",key:"1"},a.a.createElement(Ha,null),a.a.createElement(Ra,null)):null],he?null:a.a.createElement("div",{className:"tds-text--caption tds--vertical_padding"},a.a.createElement(Yi,null),a.a.createElement(qi,null),a.a.createElement(xa,null),a.a.createElement(Ya,{sectionType:O.Od,withRefundPolicy:!1})),a.a.createElement(ji,{userHasApplePay:j,handleApplePayBtnClick:S,isCollapsedFlow:Oe,rnLoaded:N,depositAmount:C,ccDetailsValid:b,submitTried:y,orderButtonDisabled:xe,invitedOrderButtonDisabled:Ne,saveMarketingConfig:f,validateAndPlacePublicOrder:p,validateAndPlaceOrder:d,cancelUpdateOrder:m,modifyOrder:L,isSaveDesignEnabled:Ce,validateAndSaveDesign:q,saveDesignButtonDisabled:Ie,showPickupLocation:qe,pickupLocationError:Be,isReservation:ee,isFixedPickupLocation:Te,showInvoiceOption:u,isPaymentFormOpen:ae,isPaymentInteractionRequired:oe,isDeliveryDetailsRequired:P,isDeliveryDetailsValid:h,handleFieldHighlight:t,showOrderRefundDisclaimer:re,showOrderFeeDisclaimer:te,orderRefundWithTransportFee:Me,orderRefund:Fe,showNonRefundableDisclaimer:ue,isPayXUIEnabled:je,isLayoutMobile:x,isLayoutTablet:I,isSessionSet:ve,dispatchCheckSession:ge,modelCode:s,modelName:ke},a.a.createElement("div",{className:E()("disclaimer",{"edit-design":L})},a.a.createElement(Ya,{displayInline:!1,sectionType:O.Od}))),he?a.a.createElement(Ba,null):null,V?a.a.createElement("img",{className:"user-profile-image",src:V,style:{width:"1px",height:"1px",border:0},alt:"",onLoad:e,onError:e}):null):null)}}])&&Hi(t.prototype,n),r&&Hi(t,r),o}(r.Component),to=o.a.shape,no=o.a.string,ro=o.a.number,ao=o.a.bool,io=o.a.func,oo=o.a.oneOfType,co=o.a.arrayOf;function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vo(e);if(t){var a=vo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yo(this,n)}}function yo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?bo(e):t}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eo.propTypes={modelCode:no.isRequired,sibling:no.isRequired,locale:no.isRequired,isEmployee:ao,useOrderAgreementRenderM3:ao,configuration:co(no).isRequired,externalLinkClicked:io,triggerPostConnectRedirect:io.isRequired,postConnectUrl:no,navigateTo:io.isRequired,onPlaceOrder:io.isRequired,surveyCompleted:ao.isRequired,isSaveDesignLiteEnabled:ao.isRequired,isSaveDesignEnabled:ao.isRequired,isDownloadPDFEnabled:ao.isRequired,options:co(to({})).isRequired,discounts:co(to({})),baseConfiguration:co(to({})).isRequired,model:to({name:no}).isRequired,isProfileExists:ao.isRequired,showInvoiceOption:ao.isRequired,validateAndPlaceOrder:io.isRequired,validateAndPlacePublicOrder:io.isRequired,cancelUpdateOrder:io.isRequired,saveMarketingConfig:io.isRequired,submitTried:ao,ccDetailsValid:ao.isRequired,accountDetailsValid:ao.isRequired,isDeliveryDetailsValid:ao.isRequired,isDeliveryDetailsRequired:ao.isRequired,orderPlaced:ao.isRequired,handleApplePayBtnClick:io.isRequired,userHasApplePay:ao.isRequired,depositAmount:ro.isRequired,modifyOrder:ao.isRequired,rnLoaded:ao.isRequired,vinLoaded:ao.isRequired,isMobile:ao.isRequired,isTablet:ao.isRequired,financeModalProps:to({}).isRequired,reversePricingOrder:ao.isRequired,hideAfterSavingsPrice:ao.isRequired,showSavingsAmount:ao.isRequired,savingsAmount:no.isRequired,paymentTypes:co(no).isRequired,isPaymentDetailsValid:io.isRequired,isInvoiceDetailsValid:io.isRequired,connect:no,asset:to({}).isRequired,financeTabs:co(to({})).isRequired,selectedFinanceType:no.isRequired,beforeSavingsPrice:no.isRequired,afterSavingsPrice:no.isRequired,priceIncludingSaving:no,priceExcludingSaving:no,monthlyPayment:no,financedAmount:no,amountAtSigning:no,downPayment:ro.isRequired,loanTerm:ro,loanAfterSaving:no,leaseTerm:ro,leaseAmountDueAtSigning:no,leaseMileage:ro,leaseAfterSaving:no,setSaveDesignFlag:io,validateAndSaveDesign:io.isRequired,cashPrice:to({}).isRequired,cashPriceExVAT:to({}).isRequired,hideDestinationDocFee:ao.isRequired,showRightOrder:ao.isRequired,showDisclaimerLink:ao.isRequired,showReturnPolicy:ao.isRequired,financeTypeLabel:no.isRequired,hideAfterSavingsModal:ao.isRequired,ecoBonus:ro.isRequired,hidePaymentModalTrigger:ao.isRequired,navigationSelected:ao.isRequired,isInventory:ao,isUsedInventory:ao,showSecondDepositDisclaimer:ao.isRequired,useModelYContent:ao.isRequired,hideBaseField:co(no).isRequired,validationErrors:to({}).isRequired,showFormattedMonthlyPayment:ao.isRequired,loanApr:ro,showLegalDataTable:ao,showSavingsDisclaimer:ao.isRequired,deliveryFee:ro.isRequired,frtFee:no,exlFrtPrice:no,OMVICFee:ro.isRequired,balloonPayment:ro,grossPrice:ro.isRequired,totalAmtPaid:ro,showOrderPlacementDisclaimerCash:ao.isRequired,interestRate:ro,refundPolicySource:to({}).isRequired,showRegistrationTypeSelector:ao.isRequired,showPrpLink:ao,isPreSale:no,loanType:no,showOrderFee:ao,showDOCandOMVICfees:ao,showVATBreakdown:ao,ACFee:ro,purchaseTax:no,showOrderRefundDisclaimer:ao.isRequired,isPaymentFormOpen:ao,isPaymentInteractionRequired:ao,vehiclePriceWithoutDiscounts:ro,showEvSubsidyDisclaimer:oo([ao,no]),isOldVersionOrderAgreement:oo([ao,no]),oldOrderAgreementVersion:no,showBeforeSavingsPriceFinancingLabel:ao,showNonRefundPolicy:oo([ao,to({})]),showPaymentDisclaimers:oo([ao,no]),interstateTransitFee:ro,setFieldError:io.isRequired,deliveryPostalCode:no,transportationFee:ro,isTransportFeeEnabled:ao,isTransportFeeCollectionEnabled:ao,depositAmountBase:ro.isRequired,showDistinctTaxTotal:ao,destinationAndDocFee:ro,includeTeslaInsurance:ao,insuranceAmount:ro,hideEstimatedDeliveryOrderPage:ao,showOtherFeesinSummary:ao,displayPaymentDisclaimer:ao,fuelYears:ro,isReservation:ao,monthlyLeasePayment:ro,financeProductId:no,showPricesDetail:ao,showOrderFeeDisclaimer:no,accessoriesSelected:to({}),accessoriesPrice:to({}),loanEffectiveRate:ro,showOtherLoanTerms:ao,isEstimatedPrice:ao,showDownPaymentInFooter:ao,onclickFinanceLink:io,showPurchasePrice:ao,showPaymentModalTriggerBelowPrice:ao,showSavingsAmountTrigger:ao,showSavingsAmountInFooter:ao,reservationPriceLabel:no,showNonRefundableDisclaimer:ao,setPricingDetails:io,orderPageDisclaimerCopySrc:no,disclaimerDateFormat:no,isSessionSet:ao.isRequired,dispatchCheckSession:io,isCollapsedFlow:ao.isRequired,isSinglePage:ao,orderFeeDislaimer:no,displayAsset:ao.isRequired,isAsset:ao,withAsset:ao,classes:no,isPayXUIEnabled:ao,showRefundPolicyDisclaimer:ao,isFixedPickupLocation:ao,fuelReward:to({amount:ro,title:no,formattedAmtWithMinus:no})},eo.defaultProps={showEvSubsidyDisclaimer:null,isEmployee:!1,useOrderAgreementRenderM3:!1,externalLinkClicked:function(){},postConnectUrl:"",submitTried:!1,connect:null,priceIncludingSaving:null,priceExcludingSaving:null,monthlyPayment:null,financedAmount:null,amountAtSigning:null,leaseAfterSaving:null,loanAfterSaving:null,leaseTerm:null,leaseAmountDueAtSigning:null,leaseMileage:null,setSaveDesignFlag:null,isInventory:!1,isUsedInventory:!1,showLegalDataTable:!1,frtFee:null,balloonPayment:null,totalAmtPaid:null,showPrpLink:!1,isPreSale:null,loanApr:null,interestRate:null,loanTerm:null,loanType:null,showDOCandOMVICfees:!0,showVATBreakdown:!1,showNonRefundPolicy:!1,isPaymentFormOpen:!0,isPaymentInteractionRequired:!1,vehiclePriceWithoutDiscounts:0,showBeforeSavingsPriceFinancingLabel:!0,isOldVersionOrderAgreement:null,oldOrderAgreementVersion:"",showOrderFee:!1,ACFee:0,purchaseTax:"",showPaymentDisclaimers:!0,interstateTransitFee:0,deliveryPostalCode:"",transportationFee:0,isTransportFeeEnabled:!1,isTransportFeeCollectionEnabled:!1,showDistinctTaxTotal:!1,destinationAndDocFee:0,includeTeslaInsurance:!1,insuranceAmount:0,hideEstimatedDeliveryOrderPage:!1,showOtherFeesinSummary:!1,displayPaymentDisclaimer:"",fuelYears:0,isReservation:!1,monthlyLeasePayment:0,financeProductId:"",showPricesDetail:!1,showOrderFeeDisclaimer:!1,accessoriesSelected:!1,accessoriesPrice:0,loanEffectiveRate:0,showOtherLoanTerms:!1,isEstimatedPrice:!1,showDownPaymentInFooter:!1,onclickFinanceLink:function(){},showPurchasePrice:!1,showPaymentModalTriggerBelowPrice:!1,showSavingsAmountTrigger:!1,showSavingsAmountInFooter:!1,reservationPriceLabel:"",showNonRefundableDisclaimer:!1,setPricingDetails:function(){},orderPageDisclaimerCopySrc:"",dispatchCheckSession:function(){},disclaimerDateFormat:"",isSinglePage:!1,orderFeeDislaimer:"",isAsset:!1,withAsset:!1,classes:"",isPayXUIEnabled:!1,showRefundPolicyDisclaimer:!1,exlFrtPrice:null,isFixedPickupLocation:!1,discounts:[],fuelReward:null},eo.contextTypes={i18n:io};var ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(o,e);var t,n,r,i=fo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),go(bo(t=i.call(this,e)),"isPaymentDetailsValid",(function(){var e=t.props,n=e.ccDetailsValid,r=e.billingInfoValid,a=e.collectAllBillingInfo,i=e.hideAllBillingInfo,o=e.paymentType;if(e.paymentFormValid)return!0;switch(o){case O.je:return a?r&&n:n;case O.me:case O.he:case O.pe:case O.oe:return i||r;default:return n}})),go(bo(t),"onTypeChange",(function(e){(0,t.props.triggerSelectTab)(e)})),go(bo(t),"isInvoiceDetailsValid",(function(){var e=t.props,n=e.invoiceType,r=e.showInvoiceOption,a=e.invoiceDetailsValid;return!r||!(n.type===O.jg&&!a)})),t.state={orderPlaced:!1,ccDetailsValid:e.ccDetailsValid,applePay:!1},t.validateAndPlaceOrder=t.validateAndPlaceOrder.bind(bo(t)),t.validateAndPlacePublicOrder=t.validateAndPlacePublicOrder.bind(bo(t)),t.cancelUpdateOrder=t.cancelUpdateOrder.bind(bo(t)),t.saveMarketingConfig=t.saveMarketingConfig.bind(bo(t)),t.applePayButtonClicked=t.applePayButtonClicked.bind(bo(t)),t.getApplePaySession=t.getApplePaySession.bind(bo(t)),t.validateAndSaveDesign=t.validateAndSaveDesign.bind(bo(t)),t.isInvoiceDetailsValid=t.isInvoiceDetailsValid.bind(bo(t)),t}return t=o,r=[{key:"getDerivedStateFromProps",value:function(e){return l()(e,"alerts.length")||e.paymentError||!m()(e.validationErrors)?{ccDetailsValid:e.ccDetailsValid,orderPlaced:!1}:null}}],(n=[{key:"componentDidMount",value:function(){var e=this,t=this.state.applePay,n=this.props,r=n.dispatchUserHasApplePay,a=n.serverErrors,i=n.addAlert,o=n.doSessionStartOnMount,c=n.isSessionSet,s=n.dispatchCheckSession,u=n.isApplePayInPayX;o&&!c&&s();var d=l()(a,"PAYMENT_ERROR","");if(!u&&l()(this.props,"ap_enabled"))try{if(!t){var p=l()(this.props,"apMerchantId");ApplePaySession.canMakePaymentsWithActiveCard(p).then((function(t){r(t),e.setState({applePay:!0})}))}}catch(e){}d&&i({message:Object(g.L)("common.errors__genericOrderProcessing")})}},{key:"validateAndPlacePublicOrder",value:function(){var e=this.context.payXUIRef;if(null==e.current){var t=this.props,n=t.accountDetailsValid,r=t.isDeliveryDetailsValid,a=t.onPlacePublicOrder,i=t.validateCCDetails,o=t.dispatchSetCCDetailsValidFlag,c=this.state.ccDetailsValid;i&&o(!0),this.isPaymentDetailsValid()&&n&&r?(a(),this.setState({orderPlaced:!0})):this.setState({ccDetailsValid:c})}else e.current.startPayment()}},{key:"validateAndPlaceOrder",value:function(){var e=this.context.payXUIRef;if(null==e.current){var t=this.props.onPlaceOrder;this.isPaymentDetailsValid()?(t(),this.setState({orderPlaced:!0})):this.setState({ccDetailsValid:!1})}else e.current.startPayment()}},{key:"saveMarketingConfig",value:function(){var e=this.props,t=e.modifyOrder,n=e.onSaveConfig;t&&n()}},{key:"cancelUpdateOrder",value:function(){(0,this.props.onCancelUpdateOrder)()}},{key:"validateAndSaveDesign",value:function(){var e=this.props,t=e.accountDetailsValid,n=e.isDeliveryDetailsValid,r=e.onPlacePublicOrder;t&&n&&r()}},{key:"applePayButtonClicked",value:function(){var e=this,t=this.props,n=t.dispatchApplePaySessionRequest,r=t.dispatchApplePaySessionSuccess,a=t.dispatchApplePaySessionFailure,i=t.dispatchSetCCDetailsValidFlag,o=t.dispatchApplePayment,c=t.onPlaceOrder,s=t.onSaveConfig,u=t.triggerUpdateAccountDetails,d=t.triggerUpdatePaymentDetails,p=t.onPlacePublicOrder,m=t.depositAmount;n();var b=new ApplePaySession(2,{countryCode:"US",currencyCode:"USD",lineItems:[],total:{label:"Tesla, Inc.",amount:m},supportedNetworks:["amex","discover","masterCard","visa"],merchantCapabilities:["supports3DS"],requiredBillingContactFields:["postalAddress","name"],requiredShippingContactFields:["email","phone"]});b.onvalidatemerchant=function(t){e.getApplePaySession(t.validationURL).then((function(e){r(),b.completeMerchantValidation(e)})).catch((function(e){a("Session failed: ".concat(JSON.stringify(e)))}))},b.onpaymentauthorized=function(t){i(!0);var n=t.payment,r={locality:l()(n,"billingContact.locality",""),firstName:l()(n,"billingContact.givenName",""),lastName:l()(n,"billingContact.familyName",""),phoneNumber:l()(n,"shippingContact.phoneNumber",""),postalCode:l()(n,"billingContact.postalCode",""),email:l()(n,"shippingContact.emailAddress","")};Object(g.M)(r.locality)&&Object(g.h)(r.firstName)&&Object(g.h)(r.lastName)?Object(y.isValidPhoneNumber)("US",r.phoneNumber)?Object(f.isValidZip)("US",r.postalCode)?v.a.email(r.email)?(o(n),Object(g.w)()?(c(b),s(b)):(u({FirstName:r.firstName,LastName:r.lastName,Email:r.email,PhoneNumber:r.phoneNumber}),d({BillingZipCode:r.postalCode}),p(b)),e.setState({orderPlaced:!0})):b.completePayment(ApplePaySession.STATUS_INVALID_SHIPPING_CONTACT):b.completePayment(ApplePaySession.STATUS_INVALID_BILLING_POSTAL_ADDRESS):b.completePayment(ApplePaySession.STATUS_INVALID_SHIPPING_CONTACT):b.completePayment(ApplePaySession.STATUS_INVALID_BILLING_POSTAL_ADDRESS)},b.begin()}},{key:"getApplePaySession",value:function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST","/configurator/api/get_apple_pay_session"),r.onload=function(){this.status>=200&&this.status<300?t(JSON.parse(r.response)):n({status:this.status,statusText:r.statusText})},r.onerror=function(){n({status:this.status,statusText:r.statusText})},r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({url:e}))}))}},{key:"render",value:function(){var e=this.state,t=e.ccDetailsValid,n=e.orderPlaced,r=uo(uo({},this.props),{},{orderPlaced:n,ccDetailsValid:t,onTypeChange:this.onTypeChange,validateAndPlaceOrder:this.validateAndPlaceOrder,validateAndPlacePublicOrder:this.validateAndPlacePublicOrder,saveMarketingConfig:this.saveMarketingConfig,handleApplePayBtnClick:this.applePayButtonClicked,cancelUpdateOrder:this.cancelUpdateOrder,rnLoaded:Object(g.w)(),vinLoaded:Object(g.x)(),validateAndSaveDesign:this.validateAndSaveDesign,isPaymentDetailsValid:this.isPaymentDetailsValid,isInvoiceDetailsValid:this.isInvoiceDetailsValid});return a.a.createElement(eo,r)}}])&&po(t.prototype,n),r&&po(t,r),o}(r.Component);var Oo=o.a.string,Po=o.a.number,_o=o.a.bool,wo=o.a.shape,Eo=o.a.func,So=o.a.objectOf,jo=o.a.oneOfType,Co=o.a.arrayOf;ho.propTypes={ccDetailsValid:_o,accountDetailsValid:_o,isDeliveryDetailsValid:_o.isRequired,isDeliveryDetailsRequired:_o.isRequired,hideBaseField:Co(Oo).isRequired,validationErrors:So(_o),dispatchUserHasApplePay:Eo.isRequired,compositorQuery:Oo,isFixedPickupLocation:_o.isRequired,doSessionStartOnMount:_o,isSessionSet:_o,dispatchCheckSession:Eo,onPlacePublicOrder:Eo.isRequired,validateCCDetails:_o.isRequired,serverErrors:wo({}),addAlert:Eo.isRequired,billingInfoValid:_o.isRequired,collectAllBillingInfo:_o,hideAllBillingInfo:_o,paymentType:Oo.isRequired,paymentFormValid:_o.isRequired,dispatchApplePaySessionRequest:Eo.isRequired,dispatchApplePaySessionSuccess:Eo.isRequired,dispatchApplePaySessionFailure:Eo.isRequired,dispatchSetCCDetailsValidFlag:Eo.isRequired,dispatchApplePayment:Eo.isRequired,onPlaceOrder:Eo.isRequired,onSaveConfig:Eo.isRequired,triggerUpdateAccountDetails:Eo.isRequired,triggerUpdatePaymentDetails:Eo.isRequired,depositAmount:jo([Oo.isRequired,Po.isRequired]).isRequired,depositAmountBase:Po.isRequired,invoiceType:wo({type:Oo}),showInvoiceOption:_o,invoiceDetailsValid:_o.isRequired,paymentError:jo([Oo,_o]),triggerSelectTab:Eo.isRequired,modifyOrder:jo([Eo.isRequired,_o.isRequired]).isRequired,onCancelUpdateOrder:Eo.isRequired,showPaymentDisclaimers:_o,showTraderLicense:_o.isRequired,openFinanceModal:Eo,setFieldError:Eo.isRequired,deliveryPostalCode:Oo,transportationFee:Po,isTransportFeeEnabled:_o,isTransportFeeCollectionEnabled:_o,editDesign:Eo.isRequired,isSinglePage:_o,enableCyberpunk:_o.isRequired,isCollapsedFlow:_o.isRequired,displayAsset:_o.isRequired,isApplePayInPayX:_o.isRequired},ho.defaultProps={ccDetailsValid:!1,accountDetailsValid:!1,validationErrors:{},compositorQuery:"",isSessionSet:!1,serverErrors:{},doSessionStartOnMount:!0,dispatchCheckSession:null,collectAllBillingInfo:!1,hideAllBillingInfo:!1,invoiceType:{},showInvoiceOption:!1,paymentError:!1,showPaymentDisclaimers:!0,deliveryPostalCode:"",transportationFee:0,isTransportFeeEnabled:!1,isTransportFeeCollectionEnabled:!1,isSinglePage:!1,openFinanceModal:function(){}},ho.contextTypes={i18n:Eo,payXUIRef:wo({})};t.default=Object(c.connect)((function(e){var t=e.App,n=t.showRefundPolicyDisclaimer,r=t.isApplePayInPayX,a=Object(g.T)(e),i={componentName:"FinanceContainer",props:{form:O.ic,title:"",genericWrapper:!0,header:{display:!0,logo:!0,close:!0},size:O.ld}},o=l()(e,"OMS.oms_params.market"),c=Object(P.E)(e,{includeAllCurrentIncentives:!0,includeSavings:!0}),s=l()(e,"SummaryPanel.formattedPrices",{}),u=Object(P.C)(e),p=Object(P.k)(e),m=Object(P.m)(e,{context:"payment"}),f=Object(P.o)(e),y=Object(P.F)(e),b=Object(P.I)(e),v=Object(P.H)(e),h=Object(P.K)(e),_=Object(P.w)(e),w=Object(P.d)(e),E=Object(P.S)(e,_),S=Object(P.T)(e,_),j=Object(P.V)(e,{short:!0}),C=Object(P.rb)(e),T=l()(e,"OMS.oms_params.model"),A=l()(e,"Accessories.accessoriesPrice",null),D={beforeSavingsPrice:Object(P.S)(e,_,{short:!0}),afterSavingsPrice:Object(P.T)(e,_,{short:!0})},R=l()(e,"FinancingOptions.showAmountIncludingFeesSummary",!1),L={beforeSavingsPrice:Object(P.S)(e,"cash",{showAmountIncludingFees:R,formatCurrencyOpts:{precision:0}}),afterSavingsPrice:Object(P.T)(e,_,{showAmountIncludingFees:R,showTotalPriceAfterSavings:!0,formatCurrencyOpts:{precision:0}})},N={beforeSavingsPrice:Object(P.S)(e,"cash",{showAmountIncludingFees:R,subtractVAT:!0}),afterSavingsPrice:Object(P.T)(e,_,{showAmountIncludingFees:R,subtractVAT:!0,showTotalPriceAfterSavings:!0})},x=l()(e,"FinancingOptions.reversePricingOrder",!1),I=l()(e,"FinancingOptions.hideTaxesAndFeesExcluded",!1),F=l()(e,"FinancingOptions.showAmountIncludingFees",!1),k=l()(e,"FinancingOptions.hideAfterSavingsModal",!1),M=l()(e,"FinancingOptions.showChargerDisclaimer",!1),V=!!l()(e,"SummaryPanel.formattedPrices.destinationAndDocFee"),B=Object(P.v)(e),q=Object(P.P)(e),G=Object(P.s)(e),U=l()(G,"interestRateMatrix",[]),W=l()(G,"interestRateMatrix",[]),Y=Object(g.L)(_,"common.ui"),z=!!l()(e,"ReviewDetails.product"),H=l()(e,"ReviewDetails.product.isUsedInventory"),K=Object(P.j)(e),X=Object(P.bb)(e),$=l()(e,"ReviewDetails.showReturnPolicy",!1),Z=!("payment"!==l()(e,"Navigation.section",null)||!$),Q=l()(e,"FinancingOptions.showRegionalTaxTypes",null),J=l()(e,"FinancingOptions.showDistinctTaxTotal",!1),ee=l()(e,"FinancingOptions.showOtherFeesinSummary",!1),te=Object(P.F)(e),ne=l()(e,"Pricing.calculatorResult.data.result.loan.balloonPayment"),re=l()(e,"Pricing.calculatorResult.data.result.loan.regional.totalAmtPaid",null),ae=l()(e,"Pricing.cash.vehiclePriceWithDeliveryFee",null),ie=l()(e,"Pricing.calculatorResult.data.apiResults.fees.current.regional.data[0].variables.gst_on_sale",null),oe=l()(e,"Pricing.calculatorResult.data.apiResults.fees.current.regional.total",null),ce=e.Financial.incentives.current,se=e.Financial.tcc.current,le=l()(e,"FinancingOptions.showOrderPageSummaryOtherFees",!1),ue=le?Object(P.x)(e):{},de=l()(e,"ReviewDetails.product.isReservation",!1),pe=l()(e,"ReviewDetails.showPurchasePrice",!0),me=e.App,fe=me.enableCyberpunk,ye=void 0!==fe&&fe,be=me.isCollapsedFlow,ve=l()(e,"Pricing.cash.totalSavingsAmount",0);return{selectedTab:Object(P.q)(e),market:o,totalSavings:ve,isCollapsedFlow:be,enableCyberpunk:ye,showEditDesignLink:!z&&!ye,showOptionsPricing:!z&&!ye,isSaveDesignLiteEnabled:l()(e,"App.isSaveDesignLiteEnabled"),isSaveDesignEnabled:l()(e,"ReviewDetails.isSaveDesignEnabled"),isDownloadPDFEnabled:l()(window.tesla,"download_pdf_feature_enabled",!1),alerts:e.Alert.alerts,paymentError:l()(e,"Payment.serverErrors.PAYMENT_FAILED"),validationErrors:l()(e,"Payment.validationErrors",{}),ccDetailsValid:e.Payment.ccDetailsValid,billingInfoValid:e.Payment.billingInfoValid,accountDetailsValid:e.ReviewDetails.accountDetailsValid,isDeliveryDetailsValid:e.ReviewDetails.isDeliveryDetailsValid,isDeliveryDetailsRequired:e.ReviewDetails.isDeliveryDetailsRequired,collectAllBillingInfo:e.Payment.collectAllBillingInfo,baseConfiguration:e.ReviewDetails.base_configuration_options,options:e.ReviewDetails.configuration_options,model:l()(e,"OMS.lexicon.options.".concat(q),{}),modelCode:T,depositAmount:K+X,depositAmountBase:K,destinationAndDocFee:p,discounts:l()(e,"Pricing.discounts",[]),incentives:ce,incentivesTotal:c,tcc:se,surveyCompleted:l()(e,"ApplicationFlow.surveyCompleted",!1),vehiclePrice:s.vehiclePrice,monthlyPayment:s.financeMonthlyPayment,leaseAmountDueAtSigning:s.leaseAmountDueAtSigning,financedAmount:s.financedAmountPayment,amountAtSigning:s.financeAmountDueAtSigning,loanTerm:h,leaseTerm:b,interestRate:y,leaseMileage:v,isProfileExists:e.Payment.CreditCardDetail.IsProfileExists,showInvoiceOption:l()(e,"Payment.showInvoiceOption",!1),invoiceType:l()(e,"Payment.InvoiceType",{}),InvoiceDetailsValid:l()(e,"Payment.InvoiceDetailsValid",!1),isLayoutMobile:e.App.isLayoutMobileAdjusted,isEmployee:l()(e,"App.isTeslaEmployee",!1),sibling:l()(e,"App.sibling"),userHasApplePay:e.ApplePay.userHasApplePay,ap_enabled:e.ApplePay.enabled,apMerchantId:e.ApplePay.apMerchantId,locale:l()(e,"App.locale"),formOpen:e.Payment.formOpen,modifyOrder:l()(e,"ApplicationFlow.canModifyOrder"),leadCardStatuses:l()(e,"EnergyLeadPanel.leadCardStatuses"),leadCardEnabled:l()(e,"EnergyLeadPanel.leadCardEnabled"),isMobile:l()(e,"App.isLayoutMobileAdjusted"),isTablet:l()(e,"App.isLayoutTablet"),showRefundPolicy:l()(e,"App.showRefundPolicy"),validConfigForReferral:a,referralData:l()(e,"ApplicationFlow.referral"),configuration:l()(e,"Configuration.option_codes",[]),fuelYears:u,currentNavigationTab:l()(e,"Navigation.section"),loanAfterSaving:s.financeNetMonthlyPayment,leaseAfterSaving:s.leaseNetMonthlyPayment,connect:e.ApplicationFlow.connect,postConnectUrl:e.ApplicationFlow.postConnectUrl,asset:l()(e,"ReviewDetails.asset",{}),hidePaymentModalTrigger:Object(P.gb)(e),financeModalProps:i,selectedFinanceType:_,selectedFinanceProduct:Object(P.q)(e),activeFinanceTypes:w,financeTabs:B,afterSavingsPrice:S,beforeSavingsPrice:E,shortPrice:D,cashPrice:L,cashPriceExVAT:N,showAmountIncludingFees:F,downPayment:m,downPaymentPercentage:f,showDownPaymentInFooter:l()(e,"FinancingOptions.showDownPaymentInFooter",!1),ecoBonus:Math.abs(l()(e,"Pricing.calculatorResult.data.apiResults.incentives.available.government.total",0)),leaseData:l()(e,"Pricing.lease",{}),loanData:l()(e,"Pricing.finance",{}),showVAT:l()(e,"ReviewDetails.showVAT",!1),vatAmount:Object(P.cb)(e),regionalTax:l()(e,"Pricing.calculatorResult.data.variables.fees.regional.total",0),showRegionalTax:l()(e,"FinancingOptions.showRegionalTax",!1),registrationTax:l()(e,"Pricing.calculatorResult.data.variables.fees.registration.total",0),specialTax:l()(e,"Pricing.calculatorResult.data.variables.fees.special_tax.total",0),governmentGrant:l()(e,"Pricing.calculatorResult.data.variables.incentives.government_grant.total",0),governmentIncentivesTotal:l()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.government.total",0),governmentIncentivesPeriod:l()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.government.data[0].period",""),ecoTaxReduction:l()(e,"Pricing.calculatorResult.data.apiResults.incentives.current.ecoTaxReduction.total",0),incentiveTotalInPurchasePrice:l()(e,"Pricing.calculatorResult.data.apiResults.incentives.total.includedInPurchasePrice",0),reversePricingOrder:x,hideAfterSavingsPrice:Object(P.fb)(e),hideAfterSavingsModal:k,showPrpLink:l()(e,"ReviewDetails.showPrpLink"),hideTaxesAndFeesExcluded:I,savingsAmount:j,showSavingsAmount:Object(P.ob)(e),showSavingsAmountInFooter:Object(P.pb)(e),paymentTypes:l()(e,"Payment.PaymentTypes",[]),paymentType:l()(e,"Payment.PaymentDetail.PaymentType","CC"),paymentFormValid:l()(e,"Payment.paymentFormValid",!1),invoiceDetailsValid:l()(e,"Payment.InvoiceDetailsValid",!1),showOtherLoanTerms:l()(e,"Forms.showOtherLoanTerms",!1),loanDistance:Object(P.J)(e),effectiveRate:l()(e,"Pricing.finance.effectiveRate"),residualAmount:l()(e,"Pricing.finance.residualAmount"),extraIncentives:l()(e,"ReviewDetails.extraIncentives",[]),leaseExtraIncentives:l()(e,"ReviewDetails.leaseExtraIncentives",[]),showLeaseSummaryFields:Object(P.Y)(e),showLeaseSummaryDisclaimer:Object(P.X)(e),recyclingFee:l()(e,"SummaryPanel.formattedPrices.recyclingFee",!1),tireFee:l()(e,"SummaryPanel.formattedPrices.tireFee",!1),showdestinationAndDocFee:V,validateCCDetails:l()(e,"ReviewDetails.validateCCDetails",!0),hideDestinationDocFee:l()(e,"ReviewDetails.hideDestinationDocFee",!1),hideAllBillingInfo:l()(e,"Payment.hideAllBillingInfo",!1),showLoanSummaryFields:l()(e,"ReviewDetails.showLoanSummaryFields",[]),showLoanSummaryDisclaimer:l()(e,"ReviewDetails.showLoanSummaryDisclaimer",!1),showCustomizeLabel:l()(e,"ReviewDetails.showCustomizeLabel",!1),showRightOrder:l()(e,"Forms.showRightOrder",!1),showContactUs:l()(e,"ReviewDetails.showContactUs",!1),leaseRate:l()(d()(U,(function(e){return e.leaseTerm&&e.leaseTerm===b})),"value",0),loanRate:l()(d()(W,(function(e){return e.loanTerm&&e.loanTerm===h})),"value",0),debitRate:l()(e,"Pricing.finance.regional.debitRate",null),showDisclaimerLink:l()(e,"ReviewDetails.showDisclaimerLink",!1),hideApplyForFinancing:l()(e,"ReviewDetails.hideApplyForFinancing",!1),showReturnPolicy:$,isPayXUIEnabled:l()(e,"App.isPayXUIEnabled",!1),showBeforeSavingsPriceFinancingLabel:l()(e,"ReviewDetails.showBeforeSavingsPriceFinancingLabel",!0),showPaymentModalTriggerBelowPrice:l()(e,"ReviewDetails.showPaymentModalTriggerBelowPrice",!0),showSavingsAmountTrigger:l()(e,"ReviewDetails.showSavingsAmountTrigger",!0),startFee:l()(e.Financial,"fees.fees.dnb_loan_fee[0].amount",0),financeTypeLabel:Y,navigationSelected:Z,isInventory:z,isUsedInventory:H,isPreSale:l()(e,"ReviewDetails.isPreSale.source",!1),showSecondDepositDisclaimer:l()(e,"ReviewDetails.showSecondDepositDisclaimer.source",!1),useModelYContent:C,showRegistrationTax:l()(e,"FinancingOptions.showRegistrationTax",!0),preOrderMode:l()(e,"ReviewDetails.preOrderMode",!1),hideBaseField:l()(e,"ReviewDetails.hideBaseField",[]),showRegionalTaxTypes:Q,regionalTaxValues:Q?l()(e,"Financial.fees.current.regional[0]",null):null,showDriveAwayPrice:l()(e,"ReviewDetails.showDriveAwayPrice",!1),showUmweltDisclaimer:l()(e,"ReviewDetails.showUmweltDisclaimer",!1),showFormattedMonthlyPayment:l()(e,"FinancingOptions.showFormattedMonthlyPayment",!1),loanApr:te,showSavingsDisclaimer:l()(e,"ReviewDetails.showSavingsDisclaimer",!0),deliveryFee:l()(e,"Pricing.calculatorResult.data.variables.fees.delivery_fee.total",0),OMVICFee:l()(e,"Pricing.calculatorResult.data.variables.fees.OMVIC_fee.total",0),frtFee:l()(e,"SummaryPanel.formattedPrices.firstRegistrationTax"),exlFrtPrice:l()(e,"SummaryPanel.formattedPrices.payment"),grossPrice:l()(e,"Pricing.grossPrice",!1),netPrice:l()(e,"Pricing.netPrice",!1),balloonPayment:ne,totalAmtPaid:re,showOrderPlacementDisclaimerCash:l()(e,"ReviewDetails.showOrderPlacementDisclaimerCash"),showDistinctTaxTotal:J,showOtherFeesinSummary:ee,vehiclePriceInclFees:ae,gstSalePrice:ie,onRoadfeesTotal:oe,refundPolicySource:l()(e,"ReviewDetails.refundPolicySource",{}),showRefundPolicyDisclaimer:n,showRegistrationTypeSelector:l()(e,"ReviewDetails.showRegistrationTypeSelector",!1),showFeesDisclaimer:l()(e,"ReviewDetails.showFeesDisclaimer",!1),showPricesDetail:l()(e,"ReviewDetails.showPricesDetail"),showChargerDisclaimer:M,loanType:l()(e,"SummaryPanel.loanType",null),summaryRegionalFees:l()(e,"ReviewDetails.summaryRegionalFees",!1),hideEstimatedDeliveryOrderPage:l()(e,"App.hideEstimatedDeliveryOrderPage",!1),showIncentivesSectionTitle:l()(e,"ReviewDetails.showIncentivesSectionTitle",!1),includeTeslaInsurance:l()(e,"FinancingOptions.includeTeslaInsurance",!1),insuranceAmount:l()(e,"Pricing.finance.insuranceAmt",0),displayPaymentDisclaimer:l()(e,"Payment.displayPaymentDisclaimer",!1),showLoanFieldsOrderPage:l()(e,"ReviewDetails.showLoanFieldsOrderPageLineItem",[]),showModalonFinanceSelector:l()(e,"FinancingOptions.showModalonFinanceSelector",!1),showOrderPageSummaryOtherFees:le,showTaxCalcDisclaimer:l()(e,"FinancingOptions.showTaxCalcDisclaimer",!1),showOrderFee:l()(e,"FinancingOptions.showOrderFee",!1),showSavingsDisclaimeronCashTab:l()(e,"ReviewDetails.showSavingsDisclaimeronCashTab",!1),cashTabIncentives:ue,isReservation:de,reservationAmt:de?Object(P.U)(e):null,VehicleDetail:l()(e,"ReviewDetails.VehicleDetail",{}),showInventoryOrderFirstPaymentPolicy:l()(e,"ReviewDetails.showInventoryOrderFirstPaymentPolicy",!1),errorState:l()(e,"ReviewDetails.errorState"),serverErrors:l()(e,"Payment.serverErrors"),showOrderFeeDisclaimer:Object(P.jb)(e),showDOCandOMVICfees:l()(e,"ReviewDetails.showDOCandOMVICfees",!0),showVATBreakdown:l()(e,"ReviewDetails.showVATBreakdown",!1),ACFee:l()(e,"Pricing.calculatorResult.data.variables.fees.air_condition_fee.total",0),registrationType:l()(e,"ReviewDetails.AccountDetail.AccountType",null),showNonRefundPolicy:l()(e,"ReviewDetails.nonRefundPolicy",!1),purchaseTax:l()(e,"SummaryPanel.formattedPrices.purchaseTax"),showOrderRefundDisclaimer:l()(e,"ReviewDetails.showOrderRefundDisclaimer",!0),isFixedPickupLocation:l()(e,"ReviewDetails.isFixedPickupLocation",!1),isPaymentFormOpen:l()(e,"Payment.isPaymentFormOpen",!0),isPaymentInteractionRequired:l()(e,"Payment.isPaymentInteractionRequired",!1),isSessionSet:l()(e,"ApplicationFlow.isSessionSet",!1),doSessionStartOnMount:l()(e,"ReviewDetails.doSessionStartOnMount",!0),accessoriesSelected:l()(e,"Accessories.accessoriesSelected",!1),accessoriesEnabled:l()(e,"Accessories.accessoriesEnabled",!1),accessoriesPrice:A,loanEffectiveRate:l()(e,"Pricing.finance.effectiveRate"),vehiclePriceWithoutDiscounts:l()(e,"Pricing.cash.vehiclePriceWithoutDiscounts",0),showEvSubsidyDisclaimer:l()(e,"ReviewDetails.showEvSubsidyDisclaimer.source",!1),showGrossPriceTotal:l()(e,"ReviewDetails.showGrossPriceTotal",!1),isOldVersionOrderAgreement:l()(e,"ReviewDetails.isOldVersionOrderAgreement.source",!1),oldOrderAgreementVersion:l()(e,"ReviewDetails.oldOrderAgreementVersion",""),reservationPriceLabel:l()(e,"ReviewDetails.purchasePriceLabel",""),showNonRefundableDisclaimer:l()(e,"ReviewDetails.nonRefundPolicyDisclaimer",!1),showPaymentDisclaimers:l()(e,"ReviewDetails.showPaymentDisclaimers",!0),showPurchasePrice:pe,showTraderLicense:l()(e,"ReviewDetails.showTraderLicense",!1),interstateTransitFee:l()(e,"Financial.fees.current.interstate_transit_fee[0].amount",0),monthlyLeasePayment:l()(e,"Pricing.lease.monthlyPayment"),financeProductId:Object(P.u)(e),USLegalDisclaimer:l()(e,"ReviewDetails.USLegalDisclaimer"),deliveryPostalCode:l()(e,"ReviewDetails.DeliveryDetails.PostalCode",""),transportationFee:l()(e,"ReviewDetails.DeliveryDetails.TransportationFee",0),isTransportFeeEnabled:l()(e,"ReviewDetails.isTransportFeeEnabled"),isTransportFeeCollectionEnabled:l()(e,"App.isTransportFeeCollectionEnabled",!1),isEstimatedPrice:l()(e,"FinancingOptions.isEstimatedPrice",!1),orderPageDisclaimerCopySrc:l()(e,"ReviewDetails.orderPageDisclaimerCopySrc",""),showTotalPaymentFooter:l()(e,"FinancingOptions.showTotalPaymentFooter",!1),showMonthlyPaymentQuote:l()(e,"FinancingOptions.showMonthlyPaymentQuote",!1),disclaimerDateFormat:l()(e.Forms,"disclaimerDateFormat",null),orderFeeDislaimer:l()(e,"CustomGroups.TRIM.currentSelected[0].order_disclaimer"),displayAsset:l()(e,"ReviewDetails.displayAsset"),sellerDiscount:l()(e,"Financial.incentives.current.sellerDiscount[0].preVATAmount",0),stateContribution:l()(e,"Financial.incentives.current.stateContribution[0].amount",0),isApplePayInPayX:r,showVatDisclaimer:l()(e,"ReviewDetails.showVatDisclaimer",!1),showGovernmentSubsidy:l()(e,"ReviewDetails.showGovernmentSubsidy",!1),fuelReward:Object(g.t)(e),financeProductByType:Object(P.r)(e,B,{id:"PricingSection"}),driverType:l()(e,"FinancingOptions.driverType",null)}}),(function(e){return{onPlacePublicOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Object(h.createEnergyLead)()),e(Object(h.placePublicOrderFlow)(t))},onPlaceOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Object(h.createEnergyLead)()),e(Object(h.placeOrderFlow)(t))},onSaveConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Object(h.createEnergyLead)()),e(Object(h.saveConfigFlow)(t))},onCancelUpdateOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Object(h.cancelUpdateOrder)(t))},navigateTo:function(){e(Object(h.navigateTo)("configure"))},editDesign:function(){e(Object(h.navigationSelectKey)({key:O.Fd,isEditDesign:!0}))},dispatchApplePaySessionRequest:function(){e(Object(h.applePaySessionRequest)())},dispatchApplePaySessionSuccess:function(){e(Object(h.applePaySessionSuccess)())},dispatchApplePaySessionFailure:function(t){e(Object(h.applePaySessionFailure)(t))},dispatchApplePayment:function(t){e(Object(h.applePayment)(t))},dispatchSetCCDetailsValidFlag:function(t){e(Object(h.setCCDetailsValidFlag)(t))},dispatchUserHasApplePay:function(t){e(Object(h.userHasApplePay)(t))},toggleEnergyLeadSelection:function(t){e(Object(h.toggleEnergyLeadSelection)(t))},handleViewedLeadCard:function(t){e(Object(h.trackLeadCardView)(t))},triggerUpdateAccountDetails:function(t){e(Object(h.updateAccountDetails)(t))},triggerUpdatePaymentDetails:function(t){e(Object(h.updatePaymentDetails)(t))},externalLinkClicked:function(t){e(Object(h.externalLinkClicked)(t))},triggerPostConnectRedirect:function(t){e(Object(h.redirectToDeliveryFlow)(t))},updatePickupLocation:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e(updatePickupLocation(t))})),triggerSelectTab:function(t){e(Object(h.selectTab)(t,O.ae))},setPricingDetails:function(t){e(Object(h.setPricingDetails)(t))},addAlert:function(t){e(Object(h.addAlert)(t))},dispatchCheckSession:function(t){e(Object(h.checkSession)(t))},toggleAccessorySelection:function(t){e(Object(h.toggleAccessorySelection)(t))},openFinanceModal:function(t){e(Object(h.selectFinancePanelTab)(t))},setFieldError:function(t){e(Object(h.setFormErrors)({field:t}))},setDrivertype:function(t){e(Object(h.toggleFinancePanelDrivertype)(t))}}}))(ho)},921:function(e,t,n){"use strict";n.r(t),n.d(t,"toggleEnergyLeadSelection",(function(){return o.b})),n.d(t,"trackLeadCardView",(function(){return o.c})),n.d(t,"EnergyAnalytics",(function(){return o.a})),n.d(t,"InitialState",(function(){return m})),n.d(t,"Reducer",(function(){return v})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r),n.d(r,"EnergyAnalytics",(function(){return o.a}));var a,i,o=n(224),c=n(2),s=n(1),l=n.n(s);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=l()(window,"tesla.App.uiCountry","US"),p=(u(a={},c.Gc,l()(window,"tesla.energy_upgrade_features.energy",!1)),u(a,c.Ec,"US"!==d&&l()(window,"tesla.energy_upgrade_features.charging",!1)),a),m={object:{leadCardStatuses:(i={},u(i,c.Gc,!1),u(i,c.Ec,!1),i),leadCardEnabled:p,energyLeadSubmitted:null}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=r.app_state,i=l()(n,"location.region.regionCode",""),o=l()(n,"location.countryCode",""),s=l()(a,"App.countryCode","US"),u=(b(e={},c.Gc,l()(window,"tesla.energy_upgrade_features.energy",!1)),b(e,c.Ec,l()(window,"tesla.energy_upgrade_features.charging",!1)),e);switch(n.type){case c.xb:return y(y({},t),{},{leadCardStatuses:y(y({},t.leadCardStatuses),{},b({},n.key,!t.leadCardStatuses[n.key]))});case c.wc:if("US"===s){var d,p,m=u[c.Ec]&&"US"===o&&c.Fc.includes(i);return y(y({},t),{},{leadCardEnabled:(d={},b(d,c.Gc,u[c.Gc]),b(d,c.Ec,m),d),leadCardStatuses:(p={},b(p,c.Gc,t.leadCardStatuses[c.Gc]),b(p,c.Ec,!!m&&t.leadCardStatuses[c.Ec]),p)})}return t;case c.wb:return y(y({},t),{},{energyLeadSubmitted:l()(n,"data",{})});default:return t}}},922:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocationByZip",(function(){return a.d})),n.d(t,"deliverystateupdate",(function(){return a.b})),n.d(t,"changeDeliveryLocation",(function(){return a.a})),n.d(t,"getResourceToken",(function(){return a.e})),n.d(t,"getGeocodeByLocation",(function(){return a.c})),n.d(t,"InitialState",(function(){return i})),n.d(t,"Reducer",(function(){return v})),n.d(t,"Epics",(function(){return r}));var r={};n.r(r);var a=n(289),i={object:{deliveryTimingMatch:{},deliveryTimingLocation:"CA",changeDeliveryLocation:!1,deliverystateAddress:"",title:"Location.sources.geoIp.region.longName"}},o=n(16),c=n.n(o),s=n(1),l=n.n(s),u=n(17),d=n.n(u),p=n(2);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t={locality:"city",administrative_area_level_1:"state",country:"country",postal_code:"postalCode"};if(e&&e.length){var n=e[0].address_components;return c()(n,(function(e,n){var r=e;return n.types.map((function(e){return t[e]&&(r[t[e]]={short_name:n.short_name,long_name:n.long_name}),null})),r}),{})}return e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.Bc:return f(f({},e),{},{pendingRequest:!0});case p.Cc:var n,r=b(t.results);return d()(r)&&(n="NO_RESULTS"),n="US"===l()(r,"country.short_name")?"CA"===l()(r,"state.short_name")?"CA":"US":"OTHER",f(f({},e),{},{deliveryTimingMatch:r,deliveryTimingLocation:n,pendingRequest:!1,error:null});case p.Ac:return f(f({},e),{},{pendingRequest:!1,error:t.error});case p.z:return f(f({},e),{},{changeDeliveryLocation:t.isOpen});case p.kb:return f(f({},e),{},{deliverystateAddress:t.address});default:return e}}},928:function(e,t,n){"use strict";n.r(t),n.d(t,"toggleAccessorySelection",(function(){return r.a})),n.d(t,"InitialState",(function(){return u})),n.d(t,"Reducer",(function(){return f}));var r=n(374),a=n(2),i=n(1),o=n.n(i);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=o()(window,"tesla.isWallConnectorEnable",!1),l=c({},a.zg,!s&&o()(window,"tesla.accessories_enabled.wall_connector",!1)),u={object:{accessoriesSelected:c({},a.zg,!1),accessoriesEnabled:l,accessoriesPrice:o()(window,"tesla.accessoriesPrice",null),showWallConnectorInfo:s}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.a:return p(p({},e),{},{accessoriesSelected:p(p({},e.accessoriesSelected),{},m({},t.key,!e.accessoriesSelected[t.key]))});default:return e}}},930:function(e,t,n){"use strict";n.r(t),n.d(t,"openFeatureModal",(function(){return r.b})),n.d(t,"closeFeatureModal",(function(){return r.a})),n.d(t,"InitialState",(function(){return i})),n.d(t,"Reducer",(function(){return l}));var r=n(375),a=n(2),i={object:{isCarouselOpen:!1,groupName:a.If}};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.Hb:return c(c({},e),{},{isCarouselOpen:!1});case a.Ib:return c(c({},e),{},{isCarouselOpen:!0,groupName:t.payload.groupName,selectedView:t.payload.selectedView||""});default:return e}}},931:function(e,t,n){"use strict";n.r(t),n.d(t,"getShortUrl",(function(){return r.c})),n.d(t,"shareDesign",(function(){return r.d})),n.d(t,"closeFailedShareAlert",(function(){return r.a})),n.d(t,"copyUrl",(function(){return r.b})),n.d(t,"Reducer",(function(){return s})),n.d(t,"InitialState",(function(){return l}));var r=n(376),a=n(2);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.rf:return o(o({},e),{},{shortUrl:t.shortUrl,options:t.options,linkCopied:!1});case a.qf:return o(o({},e),{},{shortUrl:null,error:{code:a.qf},linkCopied:!1});case a.S:return o(o({},e),{},{linkCopied:!0});case a.of:return o(o({},e),{},{email:t.email,shareDesignRequestState:"pending"});case a.pf:return o(o({},e),{},{shareDesignRequestState:"success"});case a.nf:return o(o({},e),{},{shareDesignRequestState:"failed",showAlert:!0});case a.L:return o(o({},e),{},{showAlert:!1});case a.P:return o(o({},e),{},{shareDesignRequestState:null,linkCopied:!1,shortUrl:null});default:return e}}var l={object:{options:[],linkCopied:!1,shareDesignRequestState:null,showGetUpdates:!1},deltasV2:[{selected_by:{market:["BE","CZ","DK","DE","HR","GR","ES","FR","IE","IS","IT","LU","NL","NO","AT","PL","PT","CH","SI","FI","SE","GB","EE","HU","RO","SK"]},object:{showGetUpdates:!0}}]}},933:function(e,t,n){"use strict";n.r(t),n.d(t,"applePaySessionRequest",(function(){return r.b})),n.d(t,"applePaySessionSuccess",(function(){return r.c})),n.d(t,"applePaySessionFailure",(function(){return r.a})),n.d(t,"applePayment",(function(){return r.d})),n.d(t,"userHasApplePay",(function(){return r.f})),n.d(t,"createPaymentRequest",(function(){return r.e})),n.d(t,"InitialState",(function(){return a})),n.d(t,"Reducer",(function(){return l}));var r=n(373),a={object:{applePaySessionRequested:!1,applePaySession:!1,applePaySessionError:!1,applePaySessionErrorMsg:"",userHasApplePay:!1,payment:null,enabled:!1}},i=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.l:return c(c({},e),{},{applePaySessionRequested:!0});case i.m:return c(c({},e),{},{applePaySessionRequested:!1,applePaySession:!0});case i.k:return c(c({},e),{},{applePaySessionRequested:!1,applePaySession:!1,applePaySessionError:!0,applePaySessionErrorMsg:t.errorMsg});case i.j:return c(c({},e),{},{payment:t.payment});case i.n:return c(c({},e),{},{userHasApplePay:t.userHasApplePay});default:return e}}},935:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n(3),c=n(6),s=n.n(c),l=n(4),u=n(2),d=n(8),p=n(177);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.icon,n=e.label,r=e.onClick,i=e.classes,o=f(f({},t),{style:{marginRight:"8px"}});return a.a.createElement("a",{role:"link",tabIndex:"0",onClick:r,onKeyDown:function(e){return function(e){13!==e.keyCode&&32!==e.keyCode||r()}(e)},className:s()("cf-nav--btn tds-btn tds-btn--link",y({},i,i))},a.a.createElement(p.a,o),a.a.createElement("span",{className:"tds-text--500 tds-o-text_color--20"},n))};b.propTypes={label:o.string,icon:Object(o.shape)({id:o.string,description:o.string,title:o.string}),onClick:o.func.isRequired,classes:o.string},b.defaultProps={label:"Edit design",icon:null,classes:""};var v=b;var g=function(e){var t,n,r,i=e.isEnabled,o=e.onClick,c=e.classes;return i?a.a.createElement("div",{className:s()((t={},n=c,r=c,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},a.a.createElement(v,{label:Object(l.L)("Review.edit_design_label"),onClick:o,icon:{id:"tds-arrow",title:Object(l.L)("Review.edit_design_label"),description:Object(l.L)("Review.edit_design_label"),className:"cf-nav-icon"},classes:"tds-flex--justify-flex-start"})):null};g.propTypes={isEnabled:o.bool,onClick:o.func,classes:o.string},g.defaultProps={isEnabled:!1,onClick:!0,classes:""};t.default=Object(i.connect)((function(e){var t=e.App,n=e.ReviewDetails.product,r=void 0===n?null:n,a=!!r&&r.isProductWithOverview,i=t.enableCyberpunk;return{isEnabled:!(void 0!==i&&i)&&(!r||a)}}),(function(e){return{onClick:function(){e(Object(d.navigationSelectKey)({key:u.Fd,isEditDesign:!0}))}}}))(g)},936:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n(13),c=n(1),s=n.n(c),l=n(17),u=n.n(l),d=n(6),p=n.n(d),m=n(4),f=n(9),y=n(8),b=n(2),v=n(23),g=n(41);var h=Object(o.connect)((function(e){return{modelCode:s()(e,"OMS.oms_params.model"),locale:s()(e,"App.locale",""),sibling:s()(e,"App.sibling","")}}),(function(e){return{externalClicked:function(t){e(Object(y.externalLinkClicked)(t))}}}))((function(e){var t,n=e.modelCode,i=e.locale,o=e.sibling,c=e.externalClicked,l=Object(r.useRef)(),u={root:null,rootMargin:"0% 0% 0% 0%",threshold:.2},d=function(e){e.forEach((function(e){e.isIntersecting&&(t.unobserve(l.current),t.disconnect(),v.a.fireTagEvent({event:"configurator",interaction:"view-inventory-link","cfg-type":v.a.cfgType}))}))},p=function(e,t){v.a.fireTagEvent({event:"configurator",interaction:"click-inventory-link","cfg-type":v.a.cfgType});var r="/inventory/new/".concat(n),a=i;"en_US"!==i&&"zh_CN"!==i||(a="");var o=Object(g.localizeUrl)(r,{base_url:"zh_CN"==i?s()(window.tesla,"sibling_base_url",""):"",locale:a,delimiter:"_"});o+="?redirect=no",window.location=o};return Object(r.useEffect)((function(){l.current&&(t=new IntersectionObserver(d,u)).observe(l.current)}),[]),a.a.createElement("div",{className:"view-available-inventory",ref:l,onClick:p.bind(null,c),onKeyPress:p.bind(null,c),role:"presentation"},Object(m.K)(Object(m.L)("common.viewAvailableInventory",{LINK:Object(m.e)("/new/".concat(n),o,i)},null,{specificOverride:i})))})),O=n(307);var P=function(e){var t,n,r,i=e.isEditDesign,o=e.modelName,c=e.goToPayment,s=e.onCancelUpdateOrder,l=e.classes,u=e.showLinkToInventory,d=e.pricePostfix,f=e.showVATBreakdown;return a.a.createElement("div",{className:p()("tds--padding",(t={},n=l,r=l,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},a.a.createElement("h2",{className:"text-loader--content tds-text--center text-loader--subtitle cf-payment-overview__title"},a.a.createElement("span",null,Object(m.K)(Object(m.L)("common.orderYourModel",{MODEL:o})))),a.a.createElement(O.default,{group:"PAYMENT",classes:"tds-text--500 tds-text_color--00"}),a.a.createElement("div",{className:"tds-flex tds-flex--justify-center"},a.a.createElement("button",{type:"button",className:"tds-link action-trigger--link text-loader--content tds-btn tds-btn--blue tds-btn--full continue-to-payment-btn",onClick:c,onKeyPress:c,"data-id":"btn-navigation","data-subtype":"btn-navigation--payment",tabIndex:0},a.a.createElement("span",null,Object(m.L)(i?"common.review_changes":"common.continue_to_payment"))),f?a.a.createElement("span",null,d,Object(m.L)("Review.purchase_price_ex_vat")):null,i?a.a.createElement("button",{type:"button",className:"tds-btn tds-btn--outline cancel-order-button tds-btn--full",onClick:s,"data-id":"btn-order","data-subtype":"btn-order--cancel-update-order",onKeyPress:s,tabIndex:0},a.a.createElement("span",null,Object(m.L)("common.discard_changes"))):null),u&&a.a.createElement(h,null))};P.propTypes={isEditDesign:i.bool.isRequired,modelName:i.string.isRequired,goToPayment:i.func.isRequired,onCancelUpdateOrder:i.func.isRequired,classes:i.string,showLinkToInventory:i.bool,pricePostfix:i.string,showVATBreakdown:i.bool},P.defaultProps={classes:"",showLinkToInventory:!1,pricePostfix:"",showVATBreakdown:!1};t.default=Object(o.connect)((function(e){var t=e.ApplicationFlow,n=e.ReviewDetails,r=e.App,a=t.canModifyOrder,i=void 0!==a&&a,o=r.pricePostfix,c=void 0===o?"":o,l=n.showVATBreakdown,d=void 0!==l&&l,p=Object(f.P)(e),y=s()(window.tesla,"showLinkToInventory",{}),b=!1;return u()(y)||(b=Object(m.W)(e,y)),{isEditDesign:i,modelName:s()(e,"OMS.lexicon.options.".concat(p,".long_name"),"").replace(" ","&nbsp;"),showLinkToInventory:b,showVATBreakdown:d,pricePostfix:c}}),(function(e){return{goToPayment:function(){e(Object(y.navigationSelectKey)({key:b.Gd}))},onCancelUpdateOrder:function(){e(Object(y.cancelUpdateOrder)())}}}))(P)},937:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n(3),c=n.n(o),s=n(1),l=n.n(s),u=n(17),d=n.n(u),p=n(4),m=n(8),f=n(6),y=n.n(f),b=n(5),v=n(70);function g(e){var t=e.content,n=e.isLayoutMobile,r=e.options,i=e.setOption,o=e.group,c=e.video_key,s=r&&r.selected?o.autopilot_fsd_selected:o.autopilot_fsd_unselected,u=r&&r.selected?"common.remove":"common.add",d=l()(r,"price",0)||!1;return t&&r?a.a.createElement("div",{className:"videoContent--container"},a.a.createElement(v.a,{data:t,field:"title",className:y()("text-loader--subtitle tds-text--500",{"tds-text_color--10":!n},{"tds-text_color--30":n})}),a.a.createElement(v.a,{data:t,field:"description",className:"text-loader--description"}),!n&&a.a.createElement(v.a,{data:t,field:"label",className:"videoLabel--badge"}),a.a.createElement("div",{className:"videoContent--label"},n&&r?d&&a.a.createElement(a.a.Fragment,{key:c},a.a.createElement("p",{className:"videoContent--text",key:"".concat(r.name,"_label")},Object(p.K)(Object(p.L)("".concat(s),{OPTION_NAME:r.name,OPTION_PRICE:Object(b.formatCurrency)(r.price)}))),a.a.createElement("button",{className:y()("tds-btn  tds-btn--small",{"videoContent--btn tds-btn--blue":!r.selected},{"videoContent--btn-white tds-btn--white":r.selected}),onClick:function(){return i(r.set)},type:"button"},Object(p.L)(u))):null)):null}g.propTypes={content:c.a.shape({}),options:c.a.shape({selected:c.a.bool,name:c.a.string,price:c.a.number,set:c.a.array}),isLayoutMobile:c.a.bool,setOption:c.a.func,video_key:c.a.string,group:c.a.shape({autopilot_fsd_selected:c.a.string,autopilot_fsd_unselected:c.a.string,autopilot_included:c.a.string})},g.defaultProps={content:{},options:{},group:{},isLayoutMobile:!1,video_key:"",setOption:function(){}};var h=Object(i.connect)((function(e,t){var n=l()(t,"data",""),r=l()(t,"options",""),a=l()(e,"".concat(n),{}),i=l()(e,"".concat(r),{});return{content:a,isLayoutMobile:l()(e,"App.isLayoutMobile",!1),options:i}}),(function(e){return{setOption:function(t){e(Object(m.setOptionExtended)({set:t}))}}}))(g),O=n(156);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(o,e);var t,n,r,i=T(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),L(D(t=i.call(this,e)),"isMounted",!1),L(D(t),"handleListeners",(function(){var e,n,r,a,i=document.getElementsByClassName("modal-container")[0],o=document.querySelector('[id^="video-id"]'),c=document.getElementsByClassName("progress_bar__story"),s=t.props.closeModal,u=null,p=null,m=function(i){var o=i.type,c=i.target;return function(i){switch(o){case"start":u=l()(i,c.x),p=l()(i,c.y);break;case"end":e=l()(i,c.x),n=l()(i,c.y),r=u-e,a=p-n,Math.abs(r)>Math.abs(a)?r>0?t.clickedNext(i):t.clickedPrev(i):a&&s(),u=null,p=null}}};d()(o)||o.addEventListener("timeupdate",t.onTimeUpdate,!1),d()(c)||E(c).forEach((function(e,n){e.addEventListener("click",(function(){return t.onClickUpdate(n)}),!1),e.addEventListener("keydown",(function(){return t.onClickUpdate(n)}),!1)})),d()(i)||(i.addEventListener("touchstart",m({type:"start",target:{x:"changedTouches[0].clientX",y:"changedTouches[0].clientY"}}),!1),i.addEventListener("touchend",m({type:"end",target:{x:"changedTouches[0].clientX",y:"changedTouches[0].clientY"}}),!1))})),t.listeners={};var n=t.props.asset,r=l()(n,"video_content",[]);return t.onTimeUpdate=t.onTimeUpdate.bind(D(t)),t.onClickUpdate=t.onClickUpdate.bind(D(t)),t.state={maxVideo:r.length||0,currentVideo:0,videoTextGroup:l()(r,"[0].content_path",""),videoURL:l()(r,"[0].url","")},t}return t=o,(n=[{key:"componentDidMount",value:function(){this.isMounted=!0,this.isMounted&&(this.listeners=this.handleListeners())}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"onClickUpdate",value:function(e){var t=this.state.maxVideo,n=this.props.asset.video_content;E(document.getElementsByClassName("media-progress-bar")).map((function(t,n){return w(w({},t),{},n<e?{value:100}:{value:0})})),e<t&&this.setState({currentVideo:e,videoTextGroup:n[e].content_path,videoURL:n[e].url})}},{key:"onTimeUpdate",value:function(){var e=this.props.asset.video_content,t=this.state,n=t.maxVideo,r=t.currentVideo,a=document.querySelector('[id^="video-id"]'),i=document.getElementsByClassName("media-progress-bar");if(a&&i){var o=Math.floor(100/a.duration*a.currentTime);if(r<n){E(i).map((function(e,t){return w(w({},e),{},t<r?{value:100}:{value:0})})),i[r]&&(i[r].value=Number.isNaN(o)?0:o),a.currentTime>=.5*a.duration?a.className="active":a.className="";var c=r+1;c===n&&(c=0),a.currentTime===a.duration&&(this.setState({currentVideo:c,videoTextGroup:e[c].content_path,videoURL:e[c].url}),c||E(i).map((function(e){return w(w({},e),{},{value:0})})))}}}},{key:"clickedNext",value:function(e){e.stopPropagation();var t=this.state,n=t.currentVideo+1;n===t.maxVideo&&(n=0),this.onClickUpdate(n)}},{key:"clickedPrev",value:function(e){e.stopPropagation();var t=this.state,n=t.currentVideo,r=t.maxVideo,a=n-1;a<0&&(a=r-1),this.onClickUpdate(a)}},{key:"render",value:function(){var e=this.props,t=e.group,n=e.model,r=e.asset,i=e.baseURL,o=e.isCarouselOpen,c=this.state,s=c.videoTextGroup,u=c.currentVideo,d=c.videoURL,p=l()(r,"video_content.".concat(u,".relative"),!1),m=l()(r,"video_content.".concat(u,".options_path"),""),f=p?d:"".concat(i).concat(d);return a.a.createElement(a.a.Fragment,null,t&&d&&a.a.createElement(O.default,{className:"group--main-video-content group--main-content--asset group--main-content--asset__".concat(t.code||""," ").concat(n),asset:t.asset,key:"".concat(t.code,"__asset"),title:t.code,videoUrl:f,playVideo:!o}),a.a.createElement("div",{className:"group--main-content--details"},s?a.a.createElement(h,{video_key:"ap_video_".concat(u),data:s,options:m,group:t}):null))}}])&&j(t.prototype,n),r&&j(t,r),o}(r.Component);N.propTypes={asset:Object(o.shape)({video_content:Object(o.arrayOf)(Object(o.shape)({content_path:o.string,url:o.string}))}),model:o.string,group:Object(o.shape)({code:o.string,asset:Object(o.shape)({})}),closeModal:o.func,baseURL:o.string,isCarouselOpen:o.bool},N.defaultProps={asset:{},model:"",group:{},closeModal:function(){},baseURL:"",isCarouselOpen:!1};t.default=Object(i.connect)((function(e){return{model:l()(e,"OMS.oms_params.model",""),baseURL:l()(e,"Assets.baseURL",""),isCarouselOpen:l()(e,"FeatureListModal.isCarouselOpen",!1)}}))(N)},945:function(e,t,n){e.exports=n(2037)}});