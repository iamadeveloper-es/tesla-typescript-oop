(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{2050:function(e,n,t){"use strict";function o(e,n){var t=document.querySelectorAll('[role="button"]:not(.tds--is_hidden), [role="link"], [tabindex="0"], [type="button"]'),o=Array.prototype.filter.call(t,(function(e){return e.tabIndex>="0"})),r=o.indexOf(e);return"previous"===n?o[r-1]||o[o.length-1]:o[r+1]||o[0]}function r(e,n,t){var o=e.querySelectorAll('[role=button]:not([disabled]), [role=link], [role=tab], a, [tabindex="0"], [type="button"]'),r=Array.prototype.filter.call(o,(function(e){return e.tabIndex>="0"})),c=r.indexOf(n);return"previous"===t?r[c-1]||r[r.length-1]:r[c+1]||r[0]}t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return r}))},2092:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),c=t(3),i=t(251),a=t(13),l=t(1),u=t.n(l),s=t(943),d=t.n(s),f=t(6),b=t.n(f),p=t(4),m=t(2),y=t(8),h=t(2050),O=t(110),j=t.n(O);function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],o=!0,r=!1,c=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(t.push(i.value),!n||t.length!==n);o=!0);}catch(e){r=!0,c=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw c}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var M=function(e){var n=e.open,t=e.modalSize,c=e.modalType,i=e.componentName,a=e.injectProps,l=void 0===a?{}:a,u=e.onClose,s=e.InjectedComponent,d=Object(o.useRef)(),f=Object(o.useRef)(),p=Object(o.useRef)(),y=S(Object(o.useState)(!1),2),O=y[0],w=y[1],M=S(Object(o.useState)(!1),2),T=M[0],C=M[1];Object(o.useEffect)((function(){var e=j()((function(){p.current&&p.current.scrollHeight>p.current.clientHeight?C(!0):C(!1)}),100);return n?setTimeout((function(){w(!0),d.current&&setTimeout((function(){Object(h.b)(d.current,d.current.querySelectorAll("button")[0]).focus()}),100),e()}),250):w(!1),window.addEventListener("resize",e),function(){e.cancel(),window.removeEventListener("resize",e)}}),[n]);var P=l.genericWrapper,k=l.header,R=void 0===k?{display:!0,logo:!1,close:!0}:k,F=l.footer,E=void 0===F?{display:!1}:F;return r.a.createElement(r.a.Fragment,null,r.a.createElement("dialog",{id:"tds-main-modal",className:b()("tds-modal tds-scrim--white",{"modal-container--fadein":O},{"modal--is-not-visible":!O},v({},"modal-container--".concat(t),t&&O),{"modal-container--generic":P},{"modal-container--footer":E.display},{"modal-container--header":R.display},v({},"modal-container--".concat(i),O),{"modal-container--scrollable":T}),open:O,ref:d,onKeyDown:function(e){return function(e){if(27===e.keyCode&&u(),9===e.keyCode&&!e.shiftKey){var n=Object(h.b)(d.current,e.target);setTimeout((function(){n.focus()}),100)}if(e.shiftKey&&9===e.keyCode){var t=Object(h.b)(d.current,e.target,"previous");setTimeout((function(){t.focus()}),100)}}(e)}},n&&s&&P?[m.pd!==c?r.a.createElement("button",{type:"button",className:"tds-modal-close","aria-label":"Close Modal","data-should-close":"tds-main-modal",onClick:u,key:"0"},r.a.createElement("i",{className:"tds-modal-close-icon"})):null,r.a.createElement("section",{className:"tds-modal-content",ref:p,key:"1"},r.a.createElement(s,g({},l,{closeModal:u})))]:null,n&&s&&!P&&r.a.createElement(s,g({},l,{closeModal:u}))),r.a.createElement("div",{className:"tds-modal-backdrop","data-should-close":"tds-main-modal",onClick:m.pd!==c?function(e){e.target===f.current&&(e.preventDefault(),e.stopPropagation(),u())}:null,ref:f}))};M.propTypes={open:c.bool,modalSize:c.string,componentName:c.string,injectProps:Object(c.shape)({}),keyDown:c.func.isRequired,InjectedComponent:Object(c.shape)({}),toggleSidebar:c.func.isRequired,headerSectionTitle:c.string,showToggleSidebar:c.bool,financeMenuOptions:Object(c.arrayOf)(Object(c.shape)({})).isRequired,selectedFinanceTab:c.string.isRequired,selectFinanceTab:c.func.isRequired,financeMenuVisible:c.bool,modalType:c.string,onClose:c.func.isRequired},M.defaultProps={open:!1,modalSize:"",componentName:"",injectProps:{},headerSectionTitle:"",showToggleSidebar:!1,financeMenuVisible:!1,modalType:m.kd,InjectedComponent:null},M.contextTypes={i18n:c.func};var T,C,P=M;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function F(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,n){return(E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function q(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=x(e);if(n){var r=x(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return A(this,t)}}function A(e,n){return!n||"object"!==k(n)&&"function"!=typeof n?L(e):n}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var N={FinanceContainer:Object(i.b)((function(){return Promise.all([t.e(3),t.e(2),t.e(23)]).then(t.bind(null,2088))})),MoreInfo:Object(i.b)((function(){return Promise.all([t.e(4),t.e(3),t.e(2),t.e(30)]).then(t.bind(null,2100))})),TabbedContent:Object(i.b)((function(){return Promise.all([t.e(4),t.e(44)]).then(t.bind(null,2089))})),SuccessModal:Object(i.b)((function(){return t.e(43).then(t.bind(null,2099))})),Referral:Object(i.b)((function(){return t.e(34).then(t.bind(null,2098))})),GasSaving:Object(i.b)((function(){return t.e(25).then(t.bind(null,2097))})),SessionTimeOut:Object(i.b)((function(){return t.e(40).then(t.bind(null,2096))})),CommonModal:Object(i.b)((function(){return t.e(11).then(t.bind(null,2081))})),CountrySelector:Object(i.b)((function(){return t.e(12).then(t.bind(null,2082))})),ReferralModal:Object(i.b)((function(){return t.e(35).then(t.bind(null,2095))})),SaveDesign:Object(i.b)((function(){return t.e(37).then(t.bind(null,2094))})),FederalTaxModal:Object(i.b)((function(){return t.e(22).then(t.bind(null,2093))})),BatterySavingsModal:Object(i.b)((function(){return t.e(8).then(t.bind(null,2101))})),RangeModal:Object(i.b)((function(){return t.e(32).then(t.bind(null,2102))})),WechatPayModal:Object(i.b)((function(){return t.e(47).then(t.bind(null,2083))})),RecommendedInfoModal:Object(i.b)((function(){return t.e(33).then(t.bind(null,2084))})),FeatureListModal:Object(i.b)((function(){return t.e(21).then(t.bind(null,2085))})),Disclaimer:Object(i.b)((function(){return t.e(15).then(t.bind(null,2103))})),UserLocationModal:Object(i.b)((function(){return t.e(28).then(t.bind(null,2090))})),VideoAssetLoader:Object(i.b)((function(){return Promise.resolve().then(t.bind(null,937))})),BannerModal:Object(i.b)((function(){return t.e(7).then(t.bind(null,2086))}))},_=(I(T={},"".concat(m.sd),m.sd),I(T,"".concat(m.qd),m.qd),I(T,"".concat(m.md),m.md),I(T,"".concat(m.ld),m.ld),I(T,"".concat(m.jd),m.jd),I(T,"".concat(m.rd),m.rd),T),z=(I(C={},"".concat(m.kd),m.kd),I(C,"".concat(m.pd),m.pd),C),B=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(i,e);var n,t,o,c=q(i);function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),I(L(n=c.call(this,e)),"onModalClose",(function(){var e=n.props.triggerCloseModal;n.setState({isFadeOut:!0}),setTimeout((function(){e(),n.setState({isFadeOut:!1})}),500)})),n.state={isFadeOut:!1},n}return n=i,o=[{key:"getDerivedStateFromProps",value:function(e){var n=document.getElementsByTagName("body")[0];if(e.open){n.classList.add("no-scroll"),n.classList.add("no-scroll-cfg");var t=document.getElementsByClassName("modal-content");setTimeout((function(){t.length&&t[0].querySelector(".icon-close").focus()}),0)}else n.classList.remove("no-scroll"),n.classList.remove("no-scroll-cfg");return null}}],(t=[{key:"render",value:function(){var e,n,t,o,c=this.props,i=c.component,a=c.injectProps,l=void 0===a?{}:a,u=c.open,s=l.size,f=l.type,p=void 0===f?m.kd:f,y=this.state.isFadeOut;return i&&(e=function(e){if(s&&_[s])return s;switch(e){case m.od:return m.qd;default:return m.ld}}(i),n=p&&z[p]?p:m.kd,t=d()(i),o=N[i]),r.a.createElement("div",{className:b()("cf-modal-container",{"is-open":u,"is-close":y})},r.a.createElement(P,R({onClose:this.onModalClose,componentName:t,InjectedComponent:o,modalSize:e,modalType:n},this.props)))}}])&&F(n.prototype,t),o&&F(n,o),i}(o.Component);B.propTypes={component:c.string,injectProps:Object(c.shape)({}),open:c.bool.isRequired,triggerCloseModal:c.func.isRequired},B.defaultProps={component:null,injectProps:{}};n.default=Object(a.connect)((function(e){var n=u()(e,"FinancingOptions"),t=n.sidebarOpen,o=n.selectedForm,r=o?Object(p.L)("FinancingOptions.tabLabels.".concat(o)):null,c="FinanceContainer"===u()(e,"Modal.selected.component"),i=u()(e,"FinancingOptions.menuItems");return{open:e.Modal.open,headerSectionTitle:r,showToggleSidebar:c,selectedFinanceTab:o,component:u()(e,"Modal.selected.component"),injectProps:u()(e,"Modal.selected.props",{}),isLayoutMobile:u()(e,"App.isLayoutMobile"),financeMenuOptions:i,financeMenuVisible:t}}),(function(e){return{toggleSidebar:function(){return e(Object(y.toggleFinancePanelSideBar)())},triggerCloseModal:function(){e(Object(y.closeModal)())},keyDown:function(n){var t=document.querySelectorAll(".modal-content")[0],o=t.querySelectorAll('[tabindex="0"], a')[0],r=Object(h.b)(t,o);13!==n.keyCode&&32!==n.keyCode&&27!==n.keyCode||e(Object(y.closeModal)()),9===n.keyCode&&(document.body.classList.add("using-mouse"),setTimeout((function(){r.focus()}),0))},selectFinanceTab:function(n){return e(Object(y.selectFinancePanelTab)(n))}}}))(B)}}]);